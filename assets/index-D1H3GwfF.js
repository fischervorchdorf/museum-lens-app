(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rp={exports:{}},qo={},ip={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=Symbol.for("react.element"),Vg=Symbol.for("react.portal"),zg=Symbol.for("react.fragment"),Bg=Symbol.for("react.strict_mode"),Hg=Symbol.for("react.profiler"),Gg=Symbol.for("react.provider"),qg=Symbol.for("react.context"),Og=Symbol.for("react.forward_ref"),Jg=Symbol.for("react.suspense"),$g=Symbol.for("react.memo"),bg=Symbol.for("react.lazy"),Ra=Symbol.iterator;function Wg(e){return e===null||typeof e!="object"?null:(e=Ra&&e[Ra]||e["@@iterator"],typeof e=="function"?e:null)}var op={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lp=Object.assign,sp={};function vr(e,n,t){this.props=e,this.context=n,this.refs=sp,this.updater=t||op}vr.prototype.isReactComponent={};vr.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};vr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function up(){}up.prototype=vr.prototype;function au(e,n,t){this.props=e,this.context=n,this.refs=sp,this.updater=t||op}var cu=au.prototype=new up;cu.constructor=au;lp(cu,vr.prototype);cu.isPureReactComponent=!0;var Ma=Array.isArray,ap=Object.prototype.hasOwnProperty,fu={current:null},cp={key:!0,ref:!0,__self:!0,__source:!0};function fp(e,n,t){var r,i={},o=null,l=null;if(n!=null)for(r in n.ref!==void 0&&(l=n.ref),n.key!==void 0&&(o=""+n.key),n)ap.call(n,r)&&!cp.hasOwnProperty(r)&&(i[r]=n[r]);var s=arguments.length-2;if(s===1)i.children=t;else if(1<s){for(var c=Array(s),f=0;f<s;f++)c[f]=arguments[f+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Si,type:e,key:o,ref:l,props:i,_owner:fu.current}}function Yg(e,n){return{$$typeof:Si,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function du(e){return typeof e=="object"&&e!==null&&e.$$typeof===Si}function Kg(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(t){return n[t]})}var Da=/\/+/g;function dl(e,n){return typeof e=="object"&&e!==null&&e.key!=null?Kg(""+e.key):n.toString(36)}function Yi(e,n,t,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Si:case Vg:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+dl(l,0):r,Ma(i)?(t="",e!=null&&(t=e.replace(Da,"$&/")+"/"),Yi(i,n,t,"",function(f){return f})):i!=null&&(du(i)&&(i=Yg(i,t+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Da,"$&/")+"/")+e)),n.push(i)),1;if(l=0,r=r===""?".":r+":",Ma(e))for(var s=0;s<e.length;s++){o=e[s];var c=r+dl(o,s);l+=Yi(o,n,t,c,i)}else if(c=Wg(e),typeof c=="function")for(e=c.call(e),s=0;!(o=e.next()).done;)o=o.value,c=r+dl(o,s++),l+=Yi(o,n,t,c,i);else if(o==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return l}function Ai(e,n,t){if(e==null)return e;var r=[],i=0;return Yi(e,r,"","",function(o){return n.call(t,o,i++)}),r}function Qg(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Ki={transition:null},Xg={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Ki,ReactCurrentOwner:fu};function dp(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Ai,forEach:function(e,n,t){Ai(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return Ai(e,function(){n++}),n},toArray:function(e){return Ai(e,function(n){return n})||[]},only:function(e){if(!du(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=vr;W.Fragment=zg;W.Profiler=Hg;W.PureComponent=au;W.StrictMode=Bg;W.Suspense=Jg;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xg;W.act=dp;W.cloneElement=function(e,n,t){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lp({},e.props),i=e.key,o=e.ref,l=e._owner;if(n!=null){if(n.ref!==void 0&&(o=n.ref,l=fu.current),n.key!==void 0&&(i=""+n.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in n)ap.call(n,c)&&!cp.hasOwnProperty(c)&&(r[c]=n[c]===void 0&&s!==void 0?s[c]:n[c])}var c=arguments.length-2;if(c===1)r.children=t;else if(1<c){s=Array(c);for(var f=0;f<c;f++)s[f]=arguments[f+2];r.children=s}return{$$typeof:Si,type:e.type,key:i,ref:o,props:r,_owner:l}};W.createContext=function(e){return e={$$typeof:qg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Gg,_context:e},e.Consumer=e};W.createElement=fp;W.createFactory=function(e){var n=fp.bind(null,e);return n.type=e,n};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Og,render:e}};W.isValidElement=du;W.lazy=function(e){return{$$typeof:bg,_payload:{_status:-1,_result:e},_init:Qg}};W.memo=function(e,n){return{$$typeof:$g,type:e,compare:n===void 0?null:n}};W.startTransition=function(e){var n=Ki.transition;Ki.transition={};try{e()}finally{Ki.transition=n}};W.unstable_act=dp;W.useCallback=function(e,n){return Be.current.useCallback(e,n)};W.useContext=function(e){return Be.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};W.useEffect=function(e,n){return Be.current.useEffect(e,n)};W.useId=function(){return Be.current.useId()};W.useImperativeHandle=function(e,n,t){return Be.current.useImperativeHandle(e,n,t)};W.useInsertionEffect=function(e,n){return Be.current.useInsertionEffect(e,n)};W.useLayoutEffect=function(e,n){return Be.current.useLayoutEffect(e,n)};W.useMemo=function(e,n){return Be.current.useMemo(e,n)};W.useReducer=function(e,n,t){return Be.current.useReducer(e,n,t)};W.useRef=function(e){return Be.current.useRef(e)};W.useState=function(e){return Be.current.useState(e)};W.useSyncExternalStore=function(e,n,t){return Be.current.useSyncExternalStore(e,n,t)};W.useTransition=function(){return Be.current.useTransition()};W.version="18.3.1";ip.exports=W;var _e=ip.exports;const pp=uu(_e);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg=_e,jg=Symbol.for("react.element"),ey=Symbol.for("react.fragment"),ny=Object.prototype.hasOwnProperty,ty=Zg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ry={key:!0,ref:!0,__self:!0,__source:!0};function hp(e,n,t){var r,i={},o=null,l=null;t!==void 0&&(o=""+t),n.key!==void 0&&(o=""+n.key),n.ref!==void 0&&(l=n.ref);for(r in n)ny.call(n,r)&&!ry.hasOwnProperty(r)&&(i[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps,n)i[r]===void 0&&(i[r]=n[r]);return{$$typeof:jg,type:e,key:o,ref:l,props:i,_owner:ty.current}}qo.Fragment=ey;qo.jsx=hp;qo.jsxs=hp;rp.exports=qo;var x=rp.exports,Kl={},mp={exports:{}},tn={},gp={exports:{}},yp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(z,G){var S=z.length;z.push(G);e:for(;0<S;){var K=S-1>>>1,ne=z[K];if(0<i(ne,G))z[K]=G,z[S]=ne,S=K;else break e}}function t(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var G=z[0],S=z.pop();if(S!==G){z[0]=S;e:for(var K=0,ne=z.length,T=ne>>>1;K<T;){var Ce=2*(K+1)-1,pn=z[Ce],ue=Ce+1,_n=z[ue];if(0>i(pn,S))ue<ne&&0>i(_n,pn)?(z[K]=_n,z[ue]=S,K=ue):(z[K]=pn,z[Ce]=S,K=Ce);else if(ue<ne&&0>i(_n,S))z[K]=_n,z[ue]=S,K=ue;else break e}}return G}function i(z,G){var S=z.sortIndex-G.sortIndex;return S!==0?S:z.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();e.unstable_now=function(){return l.now()-s}}var c=[],f=[],d=1,p=null,h=3,m=!1,E=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(z){for(var G=t(f);G!==null;){if(G.callback===null)r(f);else if(G.startTime<=z)r(f),G.sortIndex=G.expirationTime,n(c,G);else break;G=t(f)}}function w(z){if(C=!1,v(z),!E)if(t(c)!==null)E=!0,j(k);else{var G=t(f);G!==null&&se(w,G.startTime-z)}}function k(z,G){E=!1,C&&(C=!1,g(M),M=-1),m=!0;var S=h;try{for(v(G),p=t(c);p!==null&&(!(p.expirationTime>G)||z&&!F());){var K=p.callback;if(typeof K=="function"){p.callback=null,h=p.priorityLevel;var ne=K(p.expirationTime<=G);G=e.unstable_now(),typeof ne=="function"?p.callback=ne:p===t(c)&&r(c),v(G)}else r(c);p=t(c)}if(p!==null)var T=!0;else{var Ce=t(f);Ce!==null&&se(w,Ce.startTime-G),T=!1}return T}finally{p=null,h=S,m=!1}}var _=!1,A=null,M=-1,N=5,D=-1;function F(){return!(e.unstable_now()-D<N)}function U(){if(A!==null){var z=e.unstable_now();D=z;var G=!0;try{G=A(!0,z)}finally{G?J():(_=!1,A=null)}}else _=!1}var J;if(typeof y=="function")J=function(){y(U)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,b=re.port2;re.port1.onmessage=U,J=function(){b.postMessage(null)}}else J=function(){I(U,0)};function j(z){A=z,_||(_=!0,J())}function se(z,G){M=I(function(){z(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){E||m||(E=!0,j(k))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return t(c)},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var S=h;h=G;try{return z()}finally{h=S}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var S=h;h=z;try{return G()}finally{h=S}},e.unstable_scheduleCallback=function(z,G,S){var K=e.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?K+S:K):S=K,z){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=S+ne,z={id:d++,callback:G,priorityLevel:z,startTime:S,expirationTime:ne,sortIndex:-1},S>K?(z.sortIndex=S,n(f,z),t(c)===null&&z===t(f)&&(C?(g(M),M=-1):C=!0,se(w,S-K))):(z.sortIndex=ne,n(c,z),E||m||(E=!0,j(k))),z},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(z){var G=h;return function(){var S=h;h=G;try{return z.apply(this,arguments)}finally{h=S}}}})(yp);gp.exports=yp;var iy=gp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy=_e,nn=iy;function R(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vp=new Set,ti={};function Mt(e,n){fr(e,n),fr(e+"Capture",n)}function fr(e,n){for(ti[e]=n,e=0;e<n.length;e++)vp.add(n[e])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=Object.prototype.hasOwnProperty,ly=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,La={},Fa={};function sy(e){return Ql.call(Fa,e)?!0:Ql.call(La,e)?!1:ly.test(e)?Fa[e]=!0:(La[e]=!0,!1)}function uy(e,n,t,r){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ay(e,n,t,r){if(n===null||typeof n>"u"||uy(e,n,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function He(e,n,t,r,i,o,l){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=o,this.removeEmptyString=l}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Pe[n]=new He(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var pu=/[\-:]([a-z])/g;function hu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(pu,hu);Pe[n]=new He(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(pu,hu);Pe[n]=new He(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(pu,hu);Pe[n]=new He(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function mu(e,n,t,r){var i=Pe.hasOwnProperty(n)?Pe[n]:null;(i!==null?i.type!==0:r||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(ay(n,t,i,r)&&(t=null),r||i===null?sy(n)&&(t===null?e.removeAttribute(n):e.setAttribute(n,""+t)):i.mustUseProperty?e[i.propertyName]=t===null?i.type===3?!1:"":t:(n=i.attributeName,r=i.attributeNamespace,t===null?e.removeAttribute(n):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}var Jn=oy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pi=Symbol.for("react.element"),Gt=Symbol.for("react.portal"),qt=Symbol.for("react.fragment"),gu=Symbol.for("react.strict_mode"),Xl=Symbol.for("react.profiler"),Ep=Symbol.for("react.provider"),Sp=Symbol.for("react.context"),yu=Symbol.for("react.forward_ref"),Zl=Symbol.for("react.suspense"),jl=Symbol.for("react.suspense_list"),vu=Symbol.for("react.memo"),Qn=Symbol.for("react.lazy"),Cp=Symbol.for("react.offscreen"),Ua=Symbol.iterator;function Ar(e){return e===null||typeof e!="object"?null:(e=Ua&&e[Ua]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,pl;function Br(e){if(pl===void 0)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);pl=n&&n[1]||""}return`
`+pl+e}var hl=!1;function ml(e,n){if(!e||hl)return"";hl=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(f){var r=f}Reflect.construct(e,[],n)}else{try{n.call()}catch(f){r=f}e.call(n.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,s=o.length-1;1<=l&&0<=s&&i[l]!==o[s];)s--;for(;1<=l&&0<=s;l--,s--)if(i[l]!==o[s]){if(l!==1||s!==1)do if(l--,s--,0>s||i[l]!==o[s]){var c=`
`+i[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=s);break}}}finally{hl=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?Br(e):""}function cy(e){switch(e.tag){case 5:return Br(e.type);case 16:return Br("Lazy");case 13:return Br("Suspense");case 19:return Br("SuspenseList");case 0:case 2:case 15:return e=ml(e.type,!1),e;case 11:return e=ml(e.type.render,!1),e;case 1:return e=ml(e.type,!0),e;default:return""}}function es(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qt:return"Fragment";case Gt:return"Portal";case Xl:return"Profiler";case gu:return"StrictMode";case Zl:return"Suspense";case jl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sp:return(e.displayName||"Context")+".Consumer";case Ep:return(e._context.displayName||"Context")+".Provider";case yu:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vu:return n=e.displayName||null,n!==null?n:es(e.type)||"Memo";case Qn:n=e._payload,e=e._init;try{return es(e(n))}catch{}}return null}function fy(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return es(n);case 8:return n===gu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ft(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tp(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dy(e){var n=Tp(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ni(e){e._valueTracker||(e._valueTracker=dy(e))}function _p(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=Tp(e)?e.checked?"true":"false":e.value),e=r,e!==t?(n.setValue(e),!0):!1}function fo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ns(e,n){var t=n.checked;return me({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??e._wrapperState.initialChecked})}function Va(e,n){var t=n.defaultValue==null?"":n.defaultValue,r=n.checked!=null?n.checked:n.defaultChecked;t=ft(n.value!=null?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function xp(e,n){n=n.checked,n!=null&&mu(e,"checked",n,!1)}function ts(e,n){xp(e,n);var t=ft(n.value),r=n.type;if(t!=null)r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?rs(e,n.type,t):n.hasOwnProperty("defaultValue")&&rs(e,n.type,ft(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function za(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!(r!=="submit"&&r!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function rs(e,n,t){(n!=="number"||fo(e.ownerDocument)!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var Hr=Array.isArray;function er(e,n,t,r){if(e=e.options,n){n={};for(var i=0;i<t.length;i++)n["$"+t[i]]=!0;for(t=0;t<e.length;t++)i=n.hasOwnProperty("$"+e[t].value),e[t].selected!==i&&(e[t].selected=i),i&&r&&(e[t].defaultSelected=!0)}else{for(t=""+ft(t),n=null,i=0;i<e.length;i++){if(e[i].value===t){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}n!==null||e[i].disabled||(n=e[i])}n!==null&&(n.selected=!0)}}function is(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(R(91));return me({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ba(e,n){var t=n.value;if(t==null){if(t=n.children,n=n.defaultValue,t!=null){if(n!=null)throw Error(R(92));if(Hr(t)){if(1<t.length)throw Error(R(93));t=t[0]}n=t}n==null&&(n=""),t=n}e._wrapperState={initialValue:ft(t)}}function wp(e,n){var t=ft(n.value),r=ft(n.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),n.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),r!=null&&(e.defaultValue=""+r)}function Ha(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Ip(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function os(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Ip(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ri,kp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,t,r,i){MSApp.execUnsafeLocalFunction(function(){return e(n,t,r,i)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ri=Ri||document.createElement("div"),Ri.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ri.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ri(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=n;return}}e.textContent=n}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},py=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(e){py.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Or[n]=Or[e]})});function Ap(e,n,t){return n==null||typeof n=="boolean"||n===""?"":t||typeof n!="number"||n===0||Or.hasOwnProperty(e)&&Or[e]?(""+n).trim():n+"px"}function Pp(e,n){e=e.style;for(var t in n)if(n.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=Ap(t,n[t],r);t==="float"&&(t="cssFloat"),r?e.setProperty(t,i):e[t]=i}}var hy=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ls(e,n){if(n){if(hy[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(R(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(R(61))}if(n.style!=null&&typeof n.style!="object")throw Error(R(62))}}function ss(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var us=null;function Eu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var as=null,nr=null,tr=null;function Ga(e){if(e=_i(e)){if(typeof as!="function")throw Error(R(280));var n=e.stateNode;n&&(n=Wo(n),as(e.stateNode,e.type,n))}}function Np(e){nr?tr?tr.push(e):tr=[e]:nr=e}function Rp(){if(nr){var e=nr,n=tr;if(tr=nr=null,Ga(e),n)for(e=0;e<n.length;e++)Ga(n[e])}}function Mp(e,n){return e(n)}function Dp(){}var gl=!1;function Lp(e,n,t){if(gl)return e(n,t);gl=!0;try{return Mp(e,n,t)}finally{gl=!1,(nr!==null||tr!==null)&&(Dp(),Rp())}}function ii(e,n){var t=e.stateNode;if(t===null)return null;var r=Wo(t);if(r===null)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error(R(231,n,typeof t));return t}var cs=!1;if(Bn)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){cs=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{cs=!1}function my(e,n,t,r,i,o,l,s,c){var f=Array.prototype.slice.call(arguments,3);try{n.apply(t,f)}catch(d){this.onError(d)}}var Jr=!1,po=null,ho=!1,fs=null,gy={onError:function(e){Jr=!0,po=e}};function yy(e,n,t,r,i,o,l,s,c){Jr=!1,po=null,my.apply(gy,arguments)}function vy(e,n,t,r,i,o,l,s,c){if(yy.apply(this,arguments),Jr){if(Jr){var f=po;Jr=!1,po=null}else throw Error(R(198));ho||(ho=!0,fs=f)}}function Dt(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(t=n.return),e=n.return;while(e)}return n.tag===3?t:null}function Fp(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function qa(e){if(Dt(e)!==e)throw Error(R(188))}function Ey(e){var n=e.alternate;if(!n){if(n=Dt(e),n===null)throw Error(R(188));return n!==e?null:e}for(var t=e,r=n;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return qa(i),e;if(o===r)return qa(i),n;o=o.sibling}throw Error(R(188))}if(t.return!==r.return)t=i,r=o;else{for(var l=!1,s=i.child;s;){if(s===t){l=!0,t=i,r=o;break}if(s===r){l=!0,r=i,t=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===t){l=!0,t=o,r=i;break}if(s===r){l=!0,r=o,t=i;break}s=s.sibling}if(!l)throw Error(R(189))}}if(t.alternate!==r)throw Error(R(190))}if(t.tag!==3)throw Error(R(188));return t.stateNode.current===t?e:n}function Up(e){return e=Ey(e),e!==null?Vp(e):null}function Vp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Vp(e);if(n!==null)return n;e=e.sibling}return null}var zp=nn.unstable_scheduleCallback,Oa=nn.unstable_cancelCallback,Sy=nn.unstable_shouldYield,Cy=nn.unstable_requestPaint,ye=nn.unstable_now,Ty=nn.unstable_getCurrentPriorityLevel,Su=nn.unstable_ImmediatePriority,Bp=nn.unstable_UserBlockingPriority,mo=nn.unstable_NormalPriority,_y=nn.unstable_LowPriority,Hp=nn.unstable_IdlePriority,Oo=null,Pn=null;function xy(e){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Oo,e,void 0,(e.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:ky,wy=Math.log,Iy=Math.LN2;function ky(e){return e>>>=0,e===0?32:31-(wy(e)/Iy|0)|0}var Mi=64,Di=4194304;function Gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function go(e,n){var t=e.pendingLanes;if(t===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,l=t&268435455;if(l!==0){var s=l&~i;s!==0?r=Gr(s):(o&=l,o!==0&&(r=Gr(o)))}else l=t&~i,l!==0?r=Gr(l):o!==0&&(r=Gr(o));if(r===0)return 0;if(n!==0&&n!==r&&!(n&i)&&(i=r&-r,o=n&-n,i>=o||i===16&&(o&4194240)!==0))return n;if(r&4&&(r|=t&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=r;0<n;)t=31-En(n),i=1<<t,r|=e[t],n&=~i;return r}function Ay(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Py(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-En(o),s=1<<l,c=i[l];c===-1?(!(s&t)||s&r)&&(i[l]=Ay(s,n)):c<=n&&(e.expiredLanes|=s),o&=~s}}function ds(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gp(){var e=Mi;return Mi<<=1,!(Mi&4194240)&&(Mi=64),e}function yl(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function Ci(e,n,t){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-En(n),e[n]=t}function Ny(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var i=31-En(t),o=1<<i;n[i]=0,r[i]=-1,e[i]=-1,t&=~o}}function Cu(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-En(t),i=1<<r;i&n|e[r]&n&&(e[r]|=n),t&=~i}}var ee=0;function qp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Op,Tu,Jp,$p,bp,ps=!1,Li=[],rt=null,it=null,ot=null,oi=new Map,li=new Map,Zn=[],Ry="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ja(e,n){switch(e){case"focusin":case"focusout":rt=null;break;case"dragenter":case"dragleave":it=null;break;case"mouseover":case"mouseout":ot=null;break;case"pointerover":case"pointerout":oi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(n.pointerId)}}function Nr(e,n,t,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},n!==null&&(n=_i(n),n!==null&&Tu(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,i!==null&&n.indexOf(i)===-1&&n.push(i),e)}function My(e,n,t,r,i){switch(n){case"focusin":return rt=Nr(rt,e,n,t,r,i),!0;case"dragenter":return it=Nr(it,e,n,t,r,i),!0;case"mouseover":return ot=Nr(ot,e,n,t,r,i),!0;case"pointerover":var o=i.pointerId;return oi.set(o,Nr(oi.get(o)||null,e,n,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,li.set(o,Nr(li.get(o)||null,e,n,t,r,i)),!0}return!1}function Wp(e){var n=Tt(e.target);if(n!==null){var t=Dt(n);if(t!==null){if(n=t.tag,n===13){if(n=Fp(t),n!==null){e.blockedOn=n,bp(e.priority,function(){Jp(t)});return}}else if(n===3&&t.stateNode.current.memoizedState.isDehydrated){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qi(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var t=hs(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(t===null){t=e.nativeEvent;var r=new t.constructor(t.type,t);us=r,t.target.dispatchEvent(r),us=null}else return n=_i(t),n!==null&&Tu(n),e.blockedOn=t,!1;n.shift()}return!0}function $a(e,n,t){Qi(e)&&t.delete(n)}function Dy(){ps=!1,rt!==null&&Qi(rt)&&(rt=null),it!==null&&Qi(it)&&(it=null),ot!==null&&Qi(ot)&&(ot=null),oi.forEach($a),li.forEach($a)}function Rr(e,n){e.blockedOn===n&&(e.blockedOn=null,ps||(ps=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,Dy)))}function si(e){function n(i){return Rr(i,e)}if(0<Li.length){Rr(Li[0],e);for(var t=1;t<Li.length;t++){var r=Li[t];r.blockedOn===e&&(r.blockedOn=null)}}for(rt!==null&&Rr(rt,e),it!==null&&Rr(it,e),ot!==null&&Rr(ot,e),oi.forEach(n),li.forEach(n),t=0;t<Zn.length;t++)r=Zn[t],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zn.length&&(t=Zn[0],t.blockedOn===null);)Wp(t),t.blockedOn===null&&Zn.shift()}var rr=Jn.ReactCurrentBatchConfig,yo=!0;function Ly(e,n,t,r){var i=ee,o=rr.transition;rr.transition=null;try{ee=1,_u(e,n,t,r)}finally{ee=i,rr.transition=o}}function Fy(e,n,t,r){var i=ee,o=rr.transition;rr.transition=null;try{ee=4,_u(e,n,t,r)}finally{ee=i,rr.transition=o}}function _u(e,n,t,r){if(yo){var i=hs(e,n,t,r);if(i===null)kl(e,n,r,vo,t),Ja(e,r);else if(My(i,e,n,t,r))r.stopPropagation();else if(Ja(e,r),n&4&&-1<Ry.indexOf(e)){for(;i!==null;){var o=_i(i);if(o!==null&&Op(o),o=hs(e,n,t,r),o===null&&kl(e,n,r,vo,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else kl(e,n,r,null,t)}}var vo=null;function hs(e,n,t,r){if(vo=null,e=Eu(r),e=Tt(e),e!==null)if(n=Dt(e),n===null)e=null;else if(t=n.tag,t===13){if(e=Fp(n),e!==null)return e;e=null}else if(t===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return vo=e,null}function Yp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ty()){case Su:return 1;case Bp:return 4;case mo:case _y:return 16;case Hp:return 536870912;default:return 16}default:return 16}}var et=null,xu=null,Xi=null;function Kp(){if(Xi)return Xi;var e,n=xu,t=n.length,r,i="value"in et?et.value:et.textContent,o=i.length;for(e=0;e<t&&n[e]===i[e];e++);var l=t-e;for(r=1;r<=l&&n[t-r]===i[o-r];r++);return Xi=i.slice(e,1<r?1-r:void 0)}function Zi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Fi(){return!0}function ba(){return!1}function rn(e){function n(t,r,i,o,l){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Fi:ba,this.isPropagationStopped=ba,this}return me(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),n}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wu=rn(Er),Ti=me({},Er,{view:0,detail:0}),Uy=rn(Ti),vl,El,Mr,Jo=me({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mr&&(Mr&&e.type==="mousemove"?(vl=e.screenX-Mr.screenX,El=e.screenY-Mr.screenY):El=vl=0,Mr=e),vl)},movementY:function(e){return"movementY"in e?e.movementY:El}}),Wa=rn(Jo),Vy=me({},Jo,{dataTransfer:0}),zy=rn(Vy),By=me({},Ti,{relatedTarget:0}),Sl=rn(By),Hy=me({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),Gy=rn(Hy),qy=me({},Er,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Oy=rn(qy),Jy=me({},Er,{data:0}),Ya=rn(Jy),$y={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},by={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Wy[e])?!!n[e]:!1}function Iu(){return Yy}var Ky=me({},Ti,{key:function(e){if(e.key){var n=$y[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?by[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iu,charCode:function(e){return e.type==="keypress"?Zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qy=rn(Ky),Xy=me({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ka=rn(Xy),Zy=me({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iu}),jy=rn(Zy),ev=me({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),nv=rn(ev),tv=me({},Jo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rv=rn(tv),iv=[9,13,27,32],ku=Bn&&"CompositionEvent"in window,$r=null;Bn&&"documentMode"in document&&($r=document.documentMode);var ov=Bn&&"TextEvent"in window&&!$r,Qp=Bn&&(!ku||$r&&8<$r&&11>=$r),Qa=" ",Xa=!1;function Xp(e,n){switch(e){case"keyup":return iv.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ot=!1;function lv(e,n){switch(e){case"compositionend":return Zp(n);case"keypress":return n.which!==32?null:(Xa=!0,Qa);case"textInput":return e=n.data,e===Qa&&Xa?null:e;default:return null}}function sv(e,n){if(Ot)return e==="compositionend"||!ku&&Xp(e,n)?(e=Kp(),Xi=xu=et=null,Ot=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Qp&&n.locale!=="ko"?null:n.data;default:return null}}var uv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Za(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!uv[e.type]:n==="textarea"}function jp(e,n,t,r){Np(r),n=Eo(n,"onChange"),0<n.length&&(t=new wu("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var br=null,ui=null;function av(e){ch(e,0)}function $o(e){var n=bt(e);if(_p(n))return e}function cv(e,n){if(e==="change")return n}var eh=!1;if(Bn){var Cl;if(Bn){var Tl="oninput"in document;if(!Tl){var ja=document.createElement("div");ja.setAttribute("oninput","return;"),Tl=typeof ja.oninput=="function"}Cl=Tl}else Cl=!1;eh=Cl&&(!document.documentMode||9<document.documentMode)}function ec(){br&&(br.detachEvent("onpropertychange",nh),ui=br=null)}function nh(e){if(e.propertyName==="value"&&$o(ui)){var n=[];jp(n,ui,e,Eu(e)),Lp(av,n)}}function fv(e,n,t){e==="focusin"?(ec(),br=n,ui=t,br.attachEvent("onpropertychange",nh)):e==="focusout"&&ec()}function dv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $o(ui)}function pv(e,n){if(e==="click")return $o(n)}function hv(e,n){if(e==="input"||e==="change")return $o(n)}function mv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Cn=typeof Object.is=="function"?Object.is:mv;function ai(e,n){if(Cn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Ql.call(n,i)||!Cn(e[i],n[i]))return!1}return!0}function nc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tc(e,n){var t=nc(e);e=0;for(var r;t;){if(t.nodeType===3){if(r=e+t.textContent.length,e<=n&&r>=n)return{node:t,offset:n-e};e=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=nc(t)}}function th(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?th(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function rh(){for(var e=window,n=fo();n instanceof e.HTMLIFrameElement;){try{var t=typeof n.contentWindow.location.href=="string"}catch{t=!1}if(t)e=n.contentWindow;else break;n=fo(e.document)}return n}function Au(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function gv(e){var n=rh(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&th(t.ownerDocument.documentElement,t)){if(r!==null&&Au(t)){if(n=r.start,e=r.end,e===void 0&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if(e=(n=t.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=tc(t,o);var l=tc(t,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(n=n.createRange(),n.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(n),e.extend(l.node,l.offset)):(n.setEnd(l.node,l.offset),e.addRange(n)))}}for(n=[],e=t;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<n.length;t++)e=n[t],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yv=Bn&&"documentMode"in document&&11>=document.documentMode,Jt=null,ms=null,Wr=null,gs=!1;function rc(e,n,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;gs||Jt==null||Jt!==fo(r)||(r=Jt,"selectionStart"in r&&Au(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wr&&ai(Wr,r)||(Wr=r,r=Eo(ms,"onSelect"),0<r.length&&(n=new wu("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=Jt)))}function Ui(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var $t={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionend:Ui("Transition","TransitionEnd")},_l={},ih={};Bn&&(ih=document.createElement("div").style,"AnimationEvent"in window||(delete $t.animationend.animation,delete $t.animationiteration.animation,delete $t.animationstart.animation),"TransitionEvent"in window||delete $t.transitionend.transition);function bo(e){if(_l[e])return _l[e];if(!$t[e])return e;var n=$t[e],t;for(t in n)if(n.hasOwnProperty(t)&&t in ih)return _l[e]=n[t];return e}var oh=bo("animationend"),lh=bo("animationiteration"),sh=bo("animationstart"),uh=bo("transitionend"),ah=new Map,ic="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pt(e,n){ah.set(e,n),Mt(n,[e])}for(var xl=0;xl<ic.length;xl++){var wl=ic[xl],vv=wl.toLowerCase(),Ev=wl[0].toUpperCase()+wl.slice(1);pt(vv,"on"+Ev)}pt(oh,"onAnimationEnd");pt(lh,"onAnimationIteration");pt(sh,"onAnimationStart");pt("dblclick","onDoubleClick");pt("focusin","onFocus");pt("focusout","onBlur");pt(uh,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);Mt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sv=new Set("cancel close invalid load scroll toggle".split(" ").concat(qr));function oc(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,vy(r,n,void 0,e),e.currentTarget=null}function ch(e,n){n=(n&4)!==0;for(var t=0;t<e.length;t++){var r=e[t],i=r.event;r=r.listeners;e:{var o=void 0;if(n)for(var l=r.length-1;0<=l;l--){var s=r[l],c=s.instance,f=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;oc(i,s,f),o=c}else for(l=0;l<r.length;l++){if(s=r[l],c=s.instance,f=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;oc(i,s,f),o=c}}}if(ho)throw e=fs,ho=!1,fs=null,e}function ae(e,n){var t=n[Cs];t===void 0&&(t=n[Cs]=new Set);var r=e+"__bubble";t.has(r)||(fh(n,e,2,!1),t.add(r))}function Il(e,n,t){var r=0;n&&(r|=4),fh(t,e,r,n)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function ci(e){if(!e[Vi]){e[Vi]=!0,vp.forEach(function(t){t!=="selectionchange"&&(Sv.has(t)||Il(t,!1,e),Il(t,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Vi]||(n[Vi]=!0,Il("selectionchange",!1,n))}}function fh(e,n,t,r){switch(Yp(n)){case 1:var i=Ly;break;case 4:i=Fy;break;default:i=_u}t=i.bind(null,n,t,e),i=void 0,!cs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(n,t,{capture:!0,passive:i}):e.addEventListener(n,t,!0):i!==void 0?e.addEventListener(n,t,{passive:i}):e.addEventListener(n,t,!1)}function kl(e,n,t,r,i){var o=r;if(!(n&1)&&!(n&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;s!==null;){if(l=Tt(s),l===null)return;if(c=l.tag,c===5||c===6){r=o=l;continue e}s=s.parentNode}}r=r.return}Lp(function(){var f=o,d=Eu(t),p=[];e:{var h=ah.get(e);if(h!==void 0){var m=wu,E=e;switch(e){case"keypress":if(Zi(t)===0)break e;case"keydown":case"keyup":m=Qy;break;case"focusin":E="focus",m=Sl;break;case"focusout":E="blur",m=Sl;break;case"beforeblur":case"afterblur":m=Sl;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=zy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=jy;break;case oh:case lh:case sh:m=Gy;break;case uh:m=nv;break;case"scroll":m=Uy;break;case"wheel":m=rv;break;case"copy":case"cut":case"paste":m=Oy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ka}var C=(n&4)!==0,I=!C&&e==="scroll",g=C?h!==null?h+"Capture":null:h;C=[];for(var y=f,v;y!==null;){v=y;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,g!==null&&(w=ii(y,g),w!=null&&C.push(fi(y,w,v)))),I)break;y=y.return}0<C.length&&(h=new m(h,E,null,t,d),p.push({event:h,listeners:C}))}}if(!(n&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&t!==us&&(E=t.relatedTarget||t.fromElement)&&(Tt(E)||E[Hn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(E=t.relatedTarget||t.toElement,m=f,E=E?Tt(E):null,E!==null&&(I=Dt(E),E!==I||E.tag!==5&&E.tag!==6)&&(E=null)):(m=null,E=f),m!==E)){if(C=Wa,w="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(C=Ka,w="onPointerLeave",g="onPointerEnter",y="pointer"),I=m==null?h:bt(m),v=E==null?h:bt(E),h=new C(w,y+"leave",m,t,d),h.target=I,h.relatedTarget=v,w=null,Tt(d)===f&&(C=new C(g,y+"enter",E,t,d),C.target=v,C.relatedTarget=I,w=C),I=w,m&&E)n:{for(C=m,g=E,y=0,v=C;v;v=Bt(v))y++;for(v=0,w=g;w;w=Bt(w))v++;for(;0<y-v;)C=Bt(C),y--;for(;0<v-y;)g=Bt(g),v--;for(;y--;){if(C===g||g!==null&&C===g.alternate)break n;C=Bt(C),g=Bt(g)}C=null}else C=null;m!==null&&lc(p,h,m,C,!1),E!==null&&I!==null&&lc(p,I,E,C,!0)}}e:{if(h=f?bt(f):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=cv;else if(Za(h))if(eh)k=hv;else{k=dv;var _=fv}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=pv);if(k&&(k=k(e,f))){jp(p,k,t,d);break e}_&&_(e,h,f),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&rs(h,"number",h.value)}switch(_=f?bt(f):window,e){case"focusin":(Za(_)||_.contentEditable==="true")&&(Jt=_,ms=f,Wr=null);break;case"focusout":Wr=ms=Jt=null;break;case"mousedown":gs=!0;break;case"contextmenu":case"mouseup":case"dragend":gs=!1,rc(p,t,d);break;case"selectionchange":if(yv)break;case"keydown":case"keyup":rc(p,t,d)}var A;if(ku)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Ot?Xp(e,t)&&(M="onCompositionEnd"):e==="keydown"&&t.keyCode===229&&(M="onCompositionStart");M&&(Qp&&t.locale!=="ko"&&(Ot||M!=="onCompositionStart"?M==="onCompositionEnd"&&Ot&&(A=Kp()):(et=d,xu="value"in et?et.value:et.textContent,Ot=!0)),_=Eo(f,M),0<_.length&&(M=new Ya(M,e,null,t,d),p.push({event:M,listeners:_}),A?M.data=A:(A=Zp(t),A!==null&&(M.data=A)))),(A=ov?lv(e,t):sv(e,t))&&(f=Eo(f,"onBeforeInput"),0<f.length&&(d=new Ya("onBeforeInput","beforeinput",null,t,d),p.push({event:d,listeners:f}),d.data=A))}ch(p,n)})}function fi(e,n,t){return{instance:e,listener:n,currentTarget:t}}function Eo(e,n){for(var t=n+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ii(e,t),o!=null&&r.unshift(fi(e,o,i)),o=ii(e,n),o!=null&&r.push(fi(e,o,i))),e=e.return}return r}function Bt(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lc(e,n,t,r,i){for(var o=n._reactName,l=[];t!==null&&t!==r;){var s=t,c=s.alternate,f=s.stateNode;if(c!==null&&c===r)break;s.tag===5&&f!==null&&(s=f,i?(c=ii(t,o),c!=null&&l.unshift(fi(t,c,s))):i||(c=ii(t,o),c!=null&&l.push(fi(t,c,s)))),t=t.return}l.length!==0&&e.push({event:n,listeners:l})}var Cv=/\r\n?/g,Tv=/\u0000|\uFFFD/g;function sc(e){return(typeof e=="string"?e:""+e).replace(Cv,`
`).replace(Tv,"")}function zi(e,n,t){if(n=sc(n),sc(e)!==n&&t)throw Error(R(425))}function So(){}var ys=null,vs=null;function Es(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ss=typeof setTimeout=="function"?setTimeout:void 0,_v=typeof clearTimeout=="function"?clearTimeout:void 0,uc=typeof Promise=="function"?Promise:void 0,xv=typeof queueMicrotask=="function"?queueMicrotask:typeof uc<"u"?function(e){return uc.resolve(null).then(e).catch(wv)}:Ss;function wv(e){setTimeout(function(){throw e})}function Al(e,n){var t=n,r=0;do{var i=t.nextSibling;if(e.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){e.removeChild(i),si(n);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);si(n)}function lt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function ac(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="$"||t==="$!"||t==="$?"){if(n===0)return e;n--}else t==="/$"&&n++}e=e.previousSibling}return null}var Sr=Math.random().toString(36).slice(2),kn="__reactFiber$"+Sr,di="__reactProps$"+Sr,Hn="__reactContainer$"+Sr,Cs="__reactEvents$"+Sr,Iv="__reactListeners$"+Sr,kv="__reactHandles$"+Sr;function Tt(e){var n=e[kn];if(n)return n;for(var t=e.parentNode;t;){if(n=t[Hn]||t[kn]){if(t=n.alternate,n.child!==null||t!==null&&t.child!==null)for(e=ac(e);e!==null;){if(t=e[kn])return t;e=ac(e)}return n}e=t,t=e.parentNode}return null}function _i(e){return e=e[kn]||e[Hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bt(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Wo(e){return e[di]||null}var Ts=[],Wt=-1;function ht(e){return{current:e}}function fe(e){0>Wt||(e.current=Ts[Wt],Ts[Wt]=null,Wt--)}function oe(e,n){Wt++,Ts[Wt]=e.current,e.current=n}var dt={},Le=ht(dt),Je=ht(!1),kt=dt;function dr(e,n){var t=e.type.contextTypes;if(!t)return dt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=n[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),i}function $e(e){return e=e.childContextTypes,e!=null}function Co(){fe(Je),fe(Le)}function cc(e,n,t){if(Le.current!==dt)throw Error(R(168));oe(Le,n),oe(Je,t)}function dh(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error(R(108,fy(e)||"Unknown",i));return me({},t,r)}function To(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dt,kt=Le.current,oe(Le,e),oe(Je,Je.current),!0}function fc(e,n,t){var r=e.stateNode;if(!r)throw Error(R(169));t?(e=dh(e,n,kt),r.__reactInternalMemoizedMergedChildContext=e,fe(Je),fe(Le),oe(Le,e)):fe(Je),oe(Je,t)}var Fn=null,Yo=!1,Pl=!1;function ph(e){Fn===null?Fn=[e]:Fn.push(e)}function Av(e){Yo=!0,ph(e)}function mt(){if(!Pl&&Fn!==null){Pl=!0;var e=0,n=ee;try{var t=Fn;for(ee=1;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}Fn=null,Yo=!1}catch(i){throw Fn!==null&&(Fn=Fn.slice(e+1)),zp(Su,mt),i}finally{ee=n,Pl=!1}}return null}var Yt=[],Kt=0,_o=null,xo=0,on=[],ln=0,At=null,Un=1,Vn="";function Et(e,n){Yt[Kt++]=xo,Yt[Kt++]=_o,_o=e,xo=n}function hh(e,n,t){on[ln++]=Un,on[ln++]=Vn,on[ln++]=At,At=e;var r=Un;e=Vn;var i=32-En(r)-1;r&=~(1<<i),t+=1;var o=32-En(n)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Un=1<<32-En(n)+i|t<<i|r,Vn=o+e}else Un=1<<o|t<<i|r,Vn=e}function Pu(e){e.return!==null&&(Et(e,1),hh(e,1,0))}function Nu(e){for(;e===_o;)_o=Yt[--Kt],Yt[Kt]=null,xo=Yt[--Kt],Yt[Kt]=null;for(;e===At;)At=on[--ln],on[ln]=null,Vn=on[--ln],on[ln]=null,Un=on[--ln],on[ln]=null}var en=null,Ze=null,de=!1,vn=null;function mh(e,n){var t=un(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)}function dc(e,n){switch(e.tag){case 5:var t=e.type;return n=n.nodeType!==1||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,en=e,Ze=lt(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,en=e,Ze=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(t=At!==null?{id:Un,overflow:Vn}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},t=un(18,null,null,0),t.stateNode=n,t.return=e,e.child=t,en=e,Ze=null,!0):!1;default:return!1}}function _s(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xs(e){if(de){var n=Ze;if(n){var t=n;if(!dc(e,n)){if(_s(e))throw Error(R(418));n=lt(t.nextSibling);var r=en;n&&dc(e,n)?mh(r,t):(e.flags=e.flags&-4097|2,de=!1,en=e)}}else{if(_s(e))throw Error(R(418));e.flags=e.flags&-4097|2,de=!1,en=e}}}function pc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;en=e}function Bi(e){if(e!==en)return!1;if(!de)return pc(e),de=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Es(e.type,e.memoizedProps)),n&&(n=Ze)){if(_s(e))throw gh(),Error(R(418));for(;n;)mh(e,n),n=lt(n.nextSibling)}if(pc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="/$"){if(n===0){Ze=lt(e.nextSibling);break e}n--}else t!=="$"&&t!=="$!"&&t!=="$?"||n++}e=e.nextSibling}Ze=null}}else Ze=en?lt(e.stateNode.nextSibling):null;return!0}function gh(){for(var e=Ze;e;)e=lt(e.nextSibling)}function pr(){Ze=en=null,de=!1}function Ru(e){vn===null?vn=[e]:vn.push(e)}var Pv=Jn.ReactCurrentBatchConfig;function Dr(e,n,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(R(309));var r=t.stateNode}if(!r)throw Error(R(147,e));var i=r,o=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===o?n.ref:(n=function(l){var s=i.refs;l===null?delete s[o]:s[o]=l},n._stringRef=o,n)}if(typeof e!="string")throw Error(R(284));if(!t._owner)throw Error(R(290,e))}return e}function Hi(e,n){throw e=Object.prototype.toString.call(n),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function hc(e){var n=e._init;return n(e._payload)}function yh(e){function n(g,y){if(e){var v=g.deletions;v===null?(g.deletions=[y],g.flags|=16):v.push(y)}}function t(g,y){if(!e)return null;for(;y!==null;)n(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=ct(g,y),g.index=0,g.sibling=null,g}function o(g,y,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<y?(g.flags|=2,y):v):(g.flags|=2,y)):(g.flags|=1048576,y)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,y,v,w){return y===null||y.tag!==6?(y=Ul(v,g.mode,w),y.return=g,y):(y=i(y,v),y.return=g,y)}function c(g,y,v,w){var k=v.type;return k===qt?d(g,y,v.props.children,w,v.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Qn&&hc(k)===y.type)?(w=i(y,v.props),w.ref=Dr(g,y,v),w.return=g,w):(w=oo(v.type,v.key,v.props,null,g.mode,w),w.ref=Dr(g,y,v),w.return=g,w)}function f(g,y,v,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Vl(v,g.mode,w),y.return=g,y):(y=i(y,v.children||[]),y.return=g,y)}function d(g,y,v,w,k){return y===null||y.tag!==7?(y=It(v,g.mode,w,k),y.return=g,y):(y=i(y,v),y.return=g,y)}function p(g,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ul(""+y,g.mode,v),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pi:return v=oo(y.type,y.key,y.props,null,g.mode,v),v.ref=Dr(g,null,y),v.return=g,v;case Gt:return y=Vl(y,g.mode,v),y.return=g,y;case Qn:var w=y._init;return p(g,w(y._payload),v)}if(Hr(y)||Ar(y))return y=It(y,g.mode,v,null),y.return=g,y;Hi(g,y)}return null}function h(g,y,v,w){var k=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:s(g,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Pi:return v.key===k?c(g,y,v,w):null;case Gt:return v.key===k?f(g,y,v,w):null;case Qn:return k=v._init,h(g,y,k(v._payload),w)}if(Hr(v)||Ar(v))return k!==null?null:d(g,y,v,w,null);Hi(g,v)}return null}function m(g,y,v,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(v)||null,s(y,g,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pi:return g=g.get(w.key===null?v:w.key)||null,c(y,g,w,k);case Gt:return g=g.get(w.key===null?v:w.key)||null,f(y,g,w,k);case Qn:var _=w._init;return m(g,y,v,_(w._payload),k)}if(Hr(w)||Ar(w))return g=g.get(v)||null,d(y,g,w,k,null);Hi(y,w)}return null}function E(g,y,v,w){for(var k=null,_=null,A=y,M=y=0,N=null;A!==null&&M<v.length;M++){A.index>M?(N=A,A=null):N=A.sibling;var D=h(g,A,v[M],w);if(D===null){A===null&&(A=N);break}e&&A&&D.alternate===null&&n(g,A),y=o(D,y,M),_===null?k=D:_.sibling=D,_=D,A=N}if(M===v.length)return t(g,A),de&&Et(g,M),k;if(A===null){for(;M<v.length;M++)A=p(g,v[M],w),A!==null&&(y=o(A,y,M),_===null?k=A:_.sibling=A,_=A);return de&&Et(g,M),k}for(A=r(g,A);M<v.length;M++)N=m(A,g,M,v[M],w),N!==null&&(e&&N.alternate!==null&&A.delete(N.key===null?M:N.key),y=o(N,y,M),_===null?k=N:_.sibling=N,_=N);return e&&A.forEach(function(F){return n(g,F)}),de&&Et(g,M),k}function C(g,y,v,w){var k=Ar(v);if(typeof k!="function")throw Error(R(150));if(v=k.call(v),v==null)throw Error(R(151));for(var _=k=null,A=y,M=y=0,N=null,D=v.next();A!==null&&!D.done;M++,D=v.next()){A.index>M?(N=A,A=null):N=A.sibling;var F=h(g,A,D.value,w);if(F===null){A===null&&(A=N);break}e&&A&&F.alternate===null&&n(g,A),y=o(F,y,M),_===null?k=F:_.sibling=F,_=F,A=N}if(D.done)return t(g,A),de&&Et(g,M),k;if(A===null){for(;!D.done;M++,D=v.next())D=p(g,D.value,w),D!==null&&(y=o(D,y,M),_===null?k=D:_.sibling=D,_=D);return de&&Et(g,M),k}for(A=r(g,A);!D.done;M++,D=v.next())D=m(A,g,M,D.value,w),D!==null&&(e&&D.alternate!==null&&A.delete(D.key===null?M:D.key),y=o(D,y,M),_===null?k=D:_.sibling=D,_=D);return e&&A.forEach(function(U){return n(g,U)}),de&&Et(g,M),k}function I(g,y,v,w){if(typeof v=="object"&&v!==null&&v.type===qt&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Pi:e:{for(var k=v.key,_=y;_!==null;){if(_.key===k){if(k=v.type,k===qt){if(_.tag===7){t(g,_.sibling),y=i(_,v.props.children),y.return=g,g=y;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Qn&&hc(k)===_.type){t(g,_.sibling),y=i(_,v.props),y.ref=Dr(g,_,v),y.return=g,g=y;break e}t(g,_);break}else n(g,_);_=_.sibling}v.type===qt?(y=It(v.props.children,g.mode,w,v.key),y.return=g,g=y):(w=oo(v.type,v.key,v.props,null,g.mode,w),w.ref=Dr(g,y,v),w.return=g,g=w)}return l(g);case Gt:e:{for(_=v.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){t(g,y.sibling),y=i(y,v.children||[]),y.return=g,g=y;break e}else{t(g,y);break}else n(g,y);y=y.sibling}y=Vl(v,g.mode,w),y.return=g,g=y}return l(g);case Qn:return _=v._init,I(g,y,_(v._payload),w)}if(Hr(v))return E(g,y,v,w);if(Ar(v))return C(g,y,v,w);Hi(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(t(g,y.sibling),y=i(y,v),y.return=g,g=y):(t(g,y),y=Ul(v,g.mode,w),y.return=g,g=y),l(g)):t(g,y)}return I}var hr=yh(!0),vh=yh(!1),wo=ht(null),Io=null,Qt=null,Mu=null;function Du(){Mu=Qt=Io=null}function Lu(e){var n=wo.current;fe(wo),e._currentValue=n}function ws(e,n,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function ir(e,n){Io=e,Mu=Qt=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Oe=!0),e.firstContext=null)}function fn(e){var n=e._currentValue;if(Mu!==e)if(e={context:e,memoizedValue:n,next:null},Qt===null){if(Io===null)throw Error(R(308));Qt=e,Io.dependencies={lanes:0,firstContext:e}}else Qt=Qt.next=e;return n}var _t=null;function Fu(e){_t===null?_t=[e]:_t.push(e)}function Eh(e,n,t,r){var i=n.interleaved;return i===null?(t.next=t,Fu(n)):(t.next=i.next,i.next=t),n.interleaved=t,Gn(e,r)}function Gn(e,n){e.lanes|=n;var t=e.alternate;for(t!==null&&(t.lanes|=n),t=e,e=e.return;e!==null;)e.childLanes|=n,t=e.alternate,t!==null&&(t.childLanes|=n),t=e,e=e.return;return t.tag===3?t.stateNode:null}var Xn=!1;function Uu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function st(e,n,t){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Q&2){var i=r.pending;return i===null?n.next=n:(n.next=i.next,i.next=n),r.pending=n,Gn(e,t)}return i=r.interleaved,i===null?(n.next=n,Fu(r)):(n.next=i.next,i.next=n),r.interleaved=n,Gn(e,t)}function ji(e,n,t){if(n=n.updateQueue,n!==null&&(n=n.shared,(t&4194240)!==0)){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,Cu(e,t)}}function mc(e,n){var t=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var l={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=l:o=o.next=l,t=t.next}while(t!==null);o===null?i=o=n:o=o.next=n}else i=o=n;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function ko(e,n,t,r){var i=e.updateQueue;Xn=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,f=c.next;c.next=null,l===null?o=f:l.next=f,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==l&&(s===null?d.firstBaseUpdate=f:s.next=f,d.lastBaseUpdate=c))}if(o!==null){var p=i.baseState;l=0,d=f=c=null,s=o;do{var h=s.lane,m=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var E=e,C=s;switch(h=n,m=t,C.tag){case 1:if(E=C.payload,typeof E=="function"){p=E.call(m,p,h);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=C.payload,h=typeof E=="function"?E.call(m,p,h):E,h==null)break e;p=me({},p,h);break e;case 2:Xn=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(f=d=m,c=p):d=d.next=m,l|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=p),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=d,n=i.shared.interleaved,n!==null){i=n;do l|=i.lane,i=i.next;while(i!==n)}else o===null&&(i.shared.lanes=0);Nt|=l,e.lanes=l,e.memoizedState=p}}function gc(e,n,t){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var r=e[n],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var xi={},Nn=ht(xi),pi=ht(xi),hi=ht(xi);function xt(e){if(e===xi)throw Error(R(174));return e}function Vu(e,n){switch(oe(hi,n),oe(pi,e),oe(Nn,xi),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:os(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=os(n,e)}fe(Nn),oe(Nn,n)}function mr(){fe(Nn),fe(pi),fe(hi)}function Ch(e){xt(hi.current);var n=xt(Nn.current),t=os(n,e.type);n!==t&&(oe(pi,e),oe(Nn,t))}function zu(e){pi.current===e&&(fe(Nn),fe(pi))}var pe=ht(0);function Ao(e){for(var n=e;n!==null;){if(n.tag===13){var t=n.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Nl=[];function Bu(){for(var e=0;e<Nl.length;e++)Nl[e]._workInProgressVersionPrimary=null;Nl.length=0}var eo=Jn.ReactCurrentDispatcher,Rl=Jn.ReactCurrentBatchConfig,Pt=0,he=null,Te=null,we=null,Po=!1,Yr=!1,mi=0,Nv=0;function Ne(){throw Error(R(321))}function Hu(e,n){if(n===null)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!Cn(e[t],n[t]))return!1;return!0}function Gu(e,n,t,r,i,o){if(Pt=o,he=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,eo.current=e===null||e.memoizedState===null?Lv:Fv,e=t(r,i),Yr){o=0;do{if(Yr=!1,mi=0,25<=o)throw Error(R(301));o+=1,we=Te=null,n.updateQueue=null,eo.current=Uv,e=t(r,i)}while(Yr)}if(eo.current=No,n=Te!==null&&Te.next!==null,Pt=0,we=Te=he=null,Po=!1,n)throw Error(R(300));return e}function qu(){var e=mi!==0;return mi=0,e}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?he.memoizedState=we=e:we=we.next=e,we}function dn(){if(Te===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var n=we===null?he.memoizedState:we.next;if(n!==null)we=n,Te=e;else{if(e===null)throw Error(R(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},we===null?he.memoizedState=we=e:we=we.next=e}return we}function gi(e,n){return typeof n=="function"?n(e):n}function Ml(e){var n=dn(),t=n.queue;if(t===null)throw Error(R(311));t.lastRenderedReducer=e;var r=Te,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=l=null,c=null,f=o;do{var d=f.lane;if((Pt&d)===d)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var p={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(s=c=p,l=r):c=c.next=p,he.lanes|=d,Nt|=d}f=f.next}while(f!==null&&f!==o);c===null?l=r:c.next=s,Cn(r,n.memoizedState)||(Oe=!0),n.memoizedState=r,n.baseState=l,n.baseQueue=c,t.lastRenderedState=r}if(e=t.interleaved,e!==null){i=e;do o=i.lane,he.lanes|=o,Nt|=o,i=i.next;while(i!==e)}else i===null&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function Dl(e){var n=dn(),t=n.queue;if(t===null)throw Error(R(311));t.lastRenderedReducer=e;var r=t.dispatch,i=t.pending,o=n.memoizedState;if(i!==null){t.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);Cn(o,n.memoizedState)||(Oe=!0),n.memoizedState=o,n.baseQueue===null&&(n.baseState=o),t.lastRenderedState=o}return[o,r]}function Th(){}function _h(e,n){var t=he,r=dn(),i=n(),o=!Cn(r.memoizedState,i);if(o&&(r.memoizedState=i,Oe=!0),r=r.queue,Ou(Ih.bind(null,t,r,e),[e]),r.getSnapshot!==n||o||we!==null&&we.memoizedState.tag&1){if(t.flags|=2048,yi(9,wh.bind(null,t,r,i,n),void 0,null),Ie===null)throw Error(R(349));Pt&30||xh(t,n,i)}return i}function xh(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},n=he.updateQueue,n===null?(n={lastEffect:null,stores:null},he.updateQueue=n,n.stores=[e]):(t=n.stores,t===null?n.stores=[e]:t.push(e))}function wh(e,n,t,r){n.value=t,n.getSnapshot=r,kh(n)&&Ah(e)}function Ih(e,n,t){return t(function(){kh(n)&&Ah(e)})}function kh(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!Cn(e,t)}catch{return!0}}function Ah(e){var n=Gn(e,1);n!==null&&Sn(n,e,1,-1)}function yc(e){var n=wn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:e},n.queue=e,e=e.dispatch=Dv.bind(null,he,e),[n.memoizedState,e]}function yi(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},n=he.updateQueue,n===null?(n={lastEffect:null,stores:null},he.updateQueue=n,n.lastEffect=e.next=e):(t=n.lastEffect,t===null?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e)),e}function Ph(){return dn().memoizedState}function no(e,n,t,r){var i=wn();he.flags|=e,i.memoizedState=yi(1|n,t,void 0,r===void 0?null:r)}function Ko(e,n,t,r){var i=dn();r=r===void 0?null:r;var o=void 0;if(Te!==null){var l=Te.memoizedState;if(o=l.destroy,r!==null&&Hu(r,l.deps)){i.memoizedState=yi(n,t,o,r);return}}he.flags|=e,i.memoizedState=yi(1|n,t,o,r)}function vc(e,n){return no(8390656,8,e,n)}function Ou(e,n){return Ko(2048,8,e,n)}function Nh(e,n){return Ko(4,2,e,n)}function Rh(e,n){return Ko(4,4,e,n)}function Mh(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Dh(e,n,t){return t=t!=null?t.concat([e]):null,Ko(4,4,Mh.bind(null,n,e),t)}function Ju(){}function Lh(e,n){var t=dn();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&Hu(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function Fh(e,n){var t=dn();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&Hu(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function Uh(e,n,t){return Pt&21?(Cn(t,n)||(t=Gp(),he.lanes|=t,Nt|=t,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Oe=!0),e.memoizedState=t)}function Rv(e,n){var t=ee;ee=t!==0&&4>t?t:4,e(!0);var r=Rl.transition;Rl.transition={};try{e(!1),n()}finally{ee=t,Rl.transition=r}}function Vh(){return dn().memoizedState}function Mv(e,n,t){var r=at(e);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},zh(e))Bh(n,t);else if(t=Eh(e,n,t,r),t!==null){var i=ze();Sn(t,e,r,i),Hh(t,n,r)}}function Dv(e,n,t){var r=at(e),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(zh(e))Bh(n,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=n.lastRenderedReducer,o!==null))try{var l=n.lastRenderedState,s=o(l,t);if(i.hasEagerState=!0,i.eagerState=s,Cn(s,l)){var c=n.interleaved;c===null?(i.next=i,Fu(n)):(i.next=c.next,c.next=i),n.interleaved=i;return}}catch{}finally{}t=Eh(e,n,i,r),t!==null&&(i=ze(),Sn(t,e,r,i),Hh(t,n,r))}}function zh(e){var n=e.alternate;return e===he||n!==null&&n===he}function Bh(e,n){Yr=Po=!0;var t=e.pending;t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function Hh(e,n,t){if(t&4194240){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,Cu(e,t)}}var No={readContext:fn,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},Lv={readContext:fn,useCallback:function(e,n){return wn().memoizedState=[e,n===void 0?null:n],e},useContext:fn,useEffect:vc,useImperativeHandle:function(e,n,t){return t=t!=null?t.concat([e]):null,no(4194308,4,Mh.bind(null,n,e),t)},useLayoutEffect:function(e,n){return no(4194308,4,e,n)},useInsertionEffect:function(e,n){return no(4,2,e,n)},useMemo:function(e,n){var t=wn();return n=n===void 0?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=wn();return n=t!==void 0?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=Mv.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var n=wn();return e={current:e},n.memoizedState=e},useState:yc,useDebugValue:Ju,useDeferredValue:function(e){return wn().memoizedState=e},useTransition:function(){var e=yc(!1),n=e[0];return e=Rv.bind(null,e[1]),wn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var r=he,i=wn();if(de){if(t===void 0)throw Error(R(407));t=t()}else{if(t=n(),Ie===null)throw Error(R(349));Pt&30||xh(r,n,t)}i.memoizedState=t;var o={value:t,getSnapshot:n};return i.queue=o,vc(Ih.bind(null,r,o,e),[e]),r.flags|=2048,yi(9,wh.bind(null,r,o,t,n),void 0,null),t},useId:function(){var e=wn(),n=Ie.identifierPrefix;if(de){var t=Vn,r=Un;t=(r&~(1<<32-En(r)-1)).toString(32)+t,n=":"+n+"R"+t,t=mi++,0<t&&(n+="H"+t.toString(32)),n+=":"}else t=Nv++,n=":"+n+"r"+t.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Fv={readContext:fn,useCallback:Lh,useContext:fn,useEffect:Ou,useImperativeHandle:Dh,useInsertionEffect:Nh,useLayoutEffect:Rh,useMemo:Fh,useReducer:Ml,useRef:Ph,useState:function(){return Ml(gi)},useDebugValue:Ju,useDeferredValue:function(e){var n=dn();return Uh(n,Te.memoizedState,e)},useTransition:function(){var e=Ml(gi)[0],n=dn().memoizedState;return[e,n]},useMutableSource:Th,useSyncExternalStore:_h,useId:Vh,unstable_isNewReconciler:!1},Uv={readContext:fn,useCallback:Lh,useContext:fn,useEffect:Ou,useImperativeHandle:Dh,useInsertionEffect:Nh,useLayoutEffect:Rh,useMemo:Fh,useReducer:Dl,useRef:Ph,useState:function(){return Dl(gi)},useDebugValue:Ju,useDeferredValue:function(e){var n=dn();return Te===null?n.memoizedState=e:Uh(n,Te.memoizedState,e)},useTransition:function(){var e=Dl(gi)[0],n=dn().memoizedState;return[e,n]},useMutableSource:Th,useSyncExternalStore:_h,useId:Vh,unstable_isNewReconciler:!1};function gn(e,n){if(e&&e.defaultProps){n=me({},n),e=e.defaultProps;for(var t in e)n[t]===void 0&&(n[t]=e[t]);return n}return n}function Is(e,n,t,r){n=e.memoizedState,t=t(r,n),t=t==null?n:me({},n,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}var Qo={isMounted:function(e){return(e=e._reactInternals)?Dt(e)===e:!1},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=ze(),i=at(e),o=zn(r,i);o.payload=n,t!=null&&(o.callback=t),n=st(e,o,i),n!==null&&(Sn(n,e,i,r),ji(n,e,i))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=ze(),i=at(e),o=zn(r,i);o.tag=1,o.payload=n,t!=null&&(o.callback=t),n=st(e,o,i),n!==null&&(Sn(n,e,i,r),ji(n,e,i))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=ze(),r=at(e),i=zn(t,r);i.tag=2,n!=null&&(i.callback=n),n=st(e,i,r),n!==null&&(Sn(n,e,r,t),ji(n,e,r))}};function Ec(e,n,t,r,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):n.prototype&&n.prototype.isPureReactComponent?!ai(t,r)||!ai(i,o):!0}function Gh(e,n,t){var r=!1,i=dt,o=n.contextType;return typeof o=="object"&&o!==null?o=fn(o):(i=$e(n)?kt:Le.current,r=n.contextTypes,o=(r=r!=null)?dr(e,i):dt),n=new n(t,o),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Qo,e.stateNode=n,n._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),n}function Sc(e,n,t,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(t,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&Qo.enqueueReplaceState(n,n.state,null)}function ks(e,n,t,r){var i=e.stateNode;i.props=t,i.state=e.memoizedState,i.refs={},Uu(e);var o=n.contextType;typeof o=="object"&&o!==null?i.context=fn(o):(o=$e(n)?kt:Le.current,i.context=dr(e,o)),i.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(Is(e,n,o,t),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(n=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),n!==i.state&&Qo.enqueueReplaceState(i,i.state,null),ko(e,t,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function gr(e,n){try{var t="",r=n;do t+=cy(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:n,stack:i,digest:null}}function Ll(e,n,t){return{value:e,source:null,stack:t??null,digest:n??null}}function As(e,n){try{console.error(n.value)}catch(t){setTimeout(function(){throw t})}}var Vv=typeof WeakMap=="function"?WeakMap:Map;function qh(e,n,t){t=zn(-1,t),t.tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Mo||(Mo=!0,zs=r),As(e,n)},t}function Oh(e,n,t){t=zn(-1,t),t.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=n.value;t.payload=function(){return r(i)},t.callback=function(){As(e,n)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){As(e,n),typeof r!="function"&&(ut===null?ut=new Set([this]):ut.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})}),t}function Cc(e,n,t){var r=e.pingCache;if(r===null){r=e.pingCache=new Vv;var i=new Set;r.set(n,i)}else i=r.get(n),i===void 0&&(i=new Set,r.set(n,i));i.has(t)||(i.add(t),e=Xv.bind(null,e,n,t),n.then(e,e))}function Tc(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function _c(e,n,t,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(n=zn(-1,1),n.tag=2,st(t,n,1))),t.lanes|=1),e)}var zv=Jn.ReactCurrentOwner,Oe=!1;function Ve(e,n,t,r){n.child=e===null?vh(n,null,t,r):hr(n,e.child,t,r)}function xc(e,n,t,r,i){t=t.render;var o=n.ref;return ir(n,i),r=Gu(e,n,t,r,o,i),t=qu(),e!==null&&!Oe?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i,qn(e,n,i)):(de&&t&&Pu(n),n.flags|=1,Ve(e,n,r,i),n.child)}function wc(e,n,t,r,i){if(e===null){var o=t.type;return typeof o=="function"&&!Zu(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(n.tag=15,n.type=o,Jh(e,n,o,r,i)):(e=oo(t.type,null,r,n,n.mode,i),e.ref=n.ref,e.return=n,n.child=e)}if(o=e.child,!(e.lanes&i)){var l=o.memoizedProps;if(t=t.compare,t=t!==null?t:ai,t(l,r)&&e.ref===n.ref)return qn(e,n,i)}return n.flags|=1,e=ct(o,r),e.ref=n.ref,e.return=n,n.child=e}function Jh(e,n,t,r,i){if(e!==null){var o=e.memoizedProps;if(ai(o,r)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Oe=!0);else return n.lanes=e.lanes,qn(e,n,i)}return Ps(e,n,t,r,i)}function $h(e,n,t){var r=n.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(Zt,Xe),Xe|=t;else{if(!(t&1073741824))return e=o!==null?o.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,oe(Zt,Xe),Xe|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:t,oe(Zt,Xe),Xe|=r}else o!==null?(r=o.baseLanes|t,n.memoizedState=null):r=t,oe(Zt,Xe),Xe|=r;return Ve(e,n,i,t),n.child}function bh(e,n){var t=n.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function Ps(e,n,t,r,i){var o=$e(t)?kt:Le.current;return o=dr(n,o),ir(n,i),t=Gu(e,n,t,r,o,i),r=qu(),e!==null&&!Oe?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i,qn(e,n,i)):(de&&r&&Pu(n),n.flags|=1,Ve(e,n,t,i),n.child)}function Ic(e,n,t,r,i){if($e(t)){var o=!0;To(n)}else o=!1;if(ir(n,i),n.stateNode===null)to(e,n),Gh(n,t,r),ks(n,t,r,i),r=!0;else if(e===null){var l=n.stateNode,s=n.memoizedProps;l.props=s;var c=l.context,f=t.contextType;typeof f=="object"&&f!==null?f=fn(f):(f=$e(t)?kt:Le.current,f=dr(n,f));var d=t.getDerivedStateFromProps,p=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||c!==f)&&Sc(n,l,r,f),Xn=!1;var h=n.memoizedState;l.state=h,ko(n,r,l,i),c=n.memoizedState,s!==r||h!==c||Je.current||Xn?(typeof d=="function"&&(Is(n,t,d,r),c=n.memoizedState),(s=Xn||Ec(n,t,s,r,h,c,f))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(n.flags|=4194308)):(typeof l.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=c),l.props=r,l.state=c,l.context=f,r=s):(typeof l.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{l=n.stateNode,Sh(e,n),s=n.memoizedProps,f=n.type===n.elementType?s:gn(n.type,s),l.props=f,p=n.pendingProps,h=l.context,c=t.contextType,typeof c=="object"&&c!==null?c=fn(c):(c=$e(t)?kt:Le.current,c=dr(n,c));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==p||h!==c)&&Sc(n,l,r,c),Xn=!1,h=n.memoizedState,l.state=h,ko(n,r,l,i);var E=n.memoizedState;s!==p||h!==E||Je.current||Xn?(typeof m=="function"&&(Is(n,t,m,r),E=n.memoizedState),(f=Xn||Ec(n,t,f,r,h,E,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,E,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,E,c)),typeof l.componentDidUpdate=="function"&&(n.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(n.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=E),l.props=r,l.state=E,l.context=c,r=f):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(n.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(n.flags|=1024),r=!1)}return Ns(e,n,t,r,o,i)}function Ns(e,n,t,r,i,o){bh(e,n);var l=(n.flags&128)!==0;if(!r&&!l)return i&&fc(n,t,!1),qn(e,n,o);r=n.stateNode,zv.current=n;var s=l&&typeof t.getDerivedStateFromError!="function"?null:r.render();return n.flags|=1,e!==null&&l?(n.child=hr(n,e.child,null,o),n.child=hr(n,null,s,o)):Ve(e,n,s,o),n.memoizedState=r.state,i&&fc(n,t,!0),n.child}function Wh(e){var n=e.stateNode;n.pendingContext?cc(e,n.pendingContext,n.pendingContext!==n.context):n.context&&cc(e,n.context,!1),Vu(e,n.containerInfo)}function kc(e,n,t,r,i){return pr(),Ru(i),n.flags|=256,Ve(e,n,t,r),n.child}var Rs={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yh(e,n,t){var r=n.pendingProps,i=pe.current,o=!1,l=(n.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),oe(pe,i&1),e===null)return xs(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(l=r.children,e=r.fallback,o?(r=n.mode,o=n.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=jo(l,r,0,null),e=It(e,r,t,null),o.return=n,e.return=n,o.sibling=e,n.child=o,n.child.memoizedState=Ms(t),n.memoizedState=Rs,e):$u(n,l));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Bv(e,n,l,r,s,i,t);if(o){o=r.fallback,l=n.mode,i=e.child,s=i.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&n.child!==i?(r=n.child,r.childLanes=0,r.pendingProps=c,n.deletions=null):(r=ct(i,c),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=ct(s,o):(o=It(o,l,t,null),o.flags|=2),o.return=n,r.return=n,r.sibling=o,n.child=r,r=o,o=n.child,l=e.child.memoizedState,l=l===null?Ms(t):{baseLanes:l.baseLanes|t,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~t,n.memoizedState=Rs,r}return o=e.child,e=o.sibling,r=ct(o,{mode:"visible",children:r.children}),!(n.mode&1)&&(r.lanes=t),r.return=n,r.sibling=null,e!==null&&(t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=r,n.memoizedState=null,r}function $u(e,n){return n=jo({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Gi(e,n,t,r){return r!==null&&Ru(r),hr(n,e.child,null,t),e=$u(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Bv(e,n,t,r,i,o,l){if(t)return n.flags&256?(n.flags&=-257,r=Ll(Error(R(422))),Gi(e,n,l,r)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(o=r.fallback,i=n.mode,r=jo({mode:"visible",children:r.children},i,0,null),o=It(o,i,l,null),o.flags|=2,r.return=n,o.return=n,r.sibling=o,n.child=r,n.mode&1&&hr(n,e.child,null,l),n.child.memoizedState=Ms(l),n.memoizedState=Rs,o);if(!(n.mode&1))return Gi(e,n,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(R(419)),r=Ll(o,r,void 0),Gi(e,n,l,r)}if(s=(l&e.childLanes)!==0,Oe||s){if(r=Ie,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Gn(e,i),Sn(r,e,i,-1))}return Xu(),r=Ll(Error(R(421))),Gi(e,n,l,r)}return i.data==="$?"?(n.flags|=128,n.child=e.child,n=Zv.bind(null,e),i._reactRetry=n,null):(e=o.treeContext,Ze=lt(i.nextSibling),en=n,de=!0,vn=null,e!==null&&(on[ln++]=Un,on[ln++]=Vn,on[ln++]=At,Un=e.id,Vn=e.overflow,At=n),n=$u(n,r.children),n.flags|=4096,n)}function Ac(e,n,t){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),ws(e.return,n,t)}function Fl(e,n,t,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=n,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function Kh(e,n,t){var r=n.pendingProps,i=r.revealOrder,o=r.tail;if(Ve(e,n,r.children,t),r=pe.current,r&2)r=r&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ac(e,t,n);else if(e.tag===19)Ac(e,t,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(oe(pe,r),!(n.mode&1))n.memoizedState=null;else switch(i){case"forwards":for(t=n.child,i=null;t!==null;)e=t.alternate,e!==null&&Ao(e)===null&&(i=t),t=t.sibling;t=i,t===null?(i=n.child,n.child=null):(i=t.sibling,t.sibling=null),Fl(n,!1,i,t,o);break;case"backwards":for(t=null,i=n.child,n.child=null;i!==null;){if(e=i.alternate,e!==null&&Ao(e)===null){n.child=i;break}e=i.sibling,i.sibling=t,t=i,i=e}Fl(n,!0,t,null,o);break;case"together":Fl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function to(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function qn(e,n,t){if(e!==null&&(n.dependencies=e.dependencies),Nt|=n.lanes,!(t&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(R(153));if(n.child!==null){for(e=n.child,t=ct(e,e.pendingProps),n.child=t,t.return=n;e.sibling!==null;)e=e.sibling,t=t.sibling=ct(e,e.pendingProps),t.return=n;t.sibling=null}return n.child}function Hv(e,n,t){switch(n.tag){case 3:Wh(n),pr();break;case 5:Ch(n);break;case 1:$e(n.type)&&To(n);break;case 4:Vu(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,i=n.memoizedProps.value;oe(wo,r._currentValue),r._currentValue=i;break;case 13:if(r=n.memoizedState,r!==null)return r.dehydrated!==null?(oe(pe,pe.current&1),n.flags|=128,null):t&n.child.childLanes?Yh(e,n,t):(oe(pe,pe.current&1),e=qn(e,n,t),e!==null?e.sibling:null);oe(pe,pe.current&1);break;case 19:if(r=(t&n.childLanes)!==0,e.flags&128){if(r)return Kh(e,n,t);n.flags|=128}if(i=n.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),oe(pe,pe.current),r)break;return null;case 22:case 23:return n.lanes=0,$h(e,n,t)}return qn(e,n,t)}var Qh,Ds,Xh,Zh;Qh=function(e,n){for(var t=n.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Ds=function(){};Xh=function(e,n,t,r){var i=e.memoizedProps;if(i!==r){e=n.stateNode,xt(Nn.current);var o=null;switch(t){case"input":i=ns(e,i),r=ns(e,r),o=[];break;case"select":i=me({},i,{value:void 0}),r=me({},r,{value:void 0}),o=[];break;case"textarea":i=is(e,i),r=is(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=So)}ls(t,r);var l;t=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var s=i[f];for(l in s)s.hasOwnProperty(l)&&(t||(t={}),t[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ti.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var c=r[f];if(s=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==s&&(c!=null||s!=null))if(f==="style")if(s){for(l in s)!s.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(t||(t={}),t[l]="");for(l in c)c.hasOwnProperty(l)&&s[l]!==c[l]&&(t||(t={}),t[l]=c[l])}else t||(o||(o=[]),o.push(f,t)),t=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(o=o||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(ti.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&ae("scroll",e),o||s===c||(o=[])):(o=o||[]).push(f,c))}t&&(o=o||[]).push("style",t);var f=o;(n.updateQueue=f)&&(n.flags|=4)}};Zh=function(e,n,t,r){t!==r&&(n.flags|=4)};function Lr(e,n){if(!de)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;n!==null;)n.alternate!==null&&(t=n),n=n.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Re(e){var n=e.alternate!==null&&e.alternate.child===e.child,t=0,r=0;if(n)for(var i=e.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function Gv(e,n,t){var r=n.pendingProps;switch(Nu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(n),null;case 1:return $e(n.type)&&Co(),Re(n),null;case 3:return r=n.stateNode,mr(),fe(Je),fe(Le),Bu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Bi(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,vn!==null&&(Gs(vn),vn=null))),Ds(e,n),Re(n),null;case 5:zu(n);var i=xt(hi.current);if(t=n.type,e!==null&&n.stateNode!=null)Xh(e,n,t,r,i),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(n.stateNode===null)throw Error(R(166));return Re(n),null}if(e=xt(Nn.current),Bi(n)){r=n.stateNode,t=n.type;var o=n.memoizedProps;switch(r[kn]=n,r[di]=o,e=(n.mode&1)!==0,t){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(i=0;i<qr.length;i++)ae(qr[i],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":Va(r,o),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ae("invalid",r);break;case"textarea":Ba(r,o),ae("invalid",r)}ls(t,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var s=o[l];l==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&zi(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&zi(r.textContent,s,e),i=["children",""+s]):ti.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&ae("scroll",r)}switch(t){case"input":Ni(r),za(r,o,!0);break;case"textarea":Ni(r),Ha(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=So)}r=i,n.updateQueue=r,r!==null&&(n.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ip(t)),e==="http://www.w3.org/1999/xhtml"?t==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(t,{is:r.is}):(e=l.createElement(t),t==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,t),e[kn]=n,e[di]=r,Qh(e,n,!1,!1),n.stateNode=e;e:{switch(l=ss(t,r),t){case"dialog":ae("cancel",e),ae("close",e),i=r;break;case"iframe":case"object":case"embed":ae("load",e),i=r;break;case"video":case"audio":for(i=0;i<qr.length;i++)ae(qr[i],e);i=r;break;case"source":ae("error",e),i=r;break;case"img":case"image":case"link":ae("error",e),ae("load",e),i=r;break;case"details":ae("toggle",e),i=r;break;case"input":Va(e,r),i=ns(e,r),ae("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=me({},r,{value:void 0}),ae("invalid",e);break;case"textarea":Ba(e,r),i=is(e,r),ae("invalid",e);break;default:i=r}ls(t,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="style"?Pp(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kp(e,c)):o==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&ri(e,c):typeof c=="number"&&ri(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ti.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ae("scroll",e):c!=null&&mu(e,o,c,l))}switch(t){case"input":Ni(e),za(e,r,!1);break;case"textarea":Ni(e),Ha(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ft(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?er(e,!!r.multiple,o,!1):r.defaultValue!=null&&er(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=So)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Re(n),null;case 6:if(e&&n.stateNode!=null)Zh(e,n,e.memoizedProps,r);else{if(typeof r!="string"&&n.stateNode===null)throw Error(R(166));if(t=xt(hi.current),xt(Nn.current),Bi(n)){if(r=n.stateNode,t=n.memoizedProps,r[kn]=n,(o=r.nodeValue!==t)&&(e=en,e!==null))switch(e.tag){case 3:zi(r.nodeValue,t,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zi(r.nodeValue,t,(e.mode&1)!==0)}o&&(n.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[kn]=n,n.stateNode=r}return Re(n),null;case 13:if(fe(pe),r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&Ze!==null&&n.mode&1&&!(n.flags&128))gh(),pr(),n.flags|=98560,o=!1;else if(o=Bi(n),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(R(318));if(o=n.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[kn]=n}else pr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Re(n),o=!1}else vn!==null&&(Gs(vn),vn=null),o=!0;if(!o)return n.flags&65536?n:null}return n.flags&128?(n.lanes=t,n):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(n.child.flags|=8192,n.mode&1&&(e===null||pe.current&1?xe===0&&(xe=3):Xu())),n.updateQueue!==null&&(n.flags|=4),Re(n),null);case 4:return mr(),Ds(e,n),e===null&&ci(n.stateNode.containerInfo),Re(n),null;case 10:return Lu(n.type._context),Re(n),null;case 17:return $e(n.type)&&Co(),Re(n),null;case 19:if(fe(pe),o=n.memoizedState,o===null)return Re(n),null;if(r=(n.flags&128)!==0,l=o.rendering,l===null)if(r)Lr(o,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(l=Ao(e),l!==null){for(n.flags|=128,Lr(o,!1),r=l.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=t,t=n.child;t!==null;)o=t,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return oe(pe,pe.current&1|2),n.child}e=e.sibling}o.tail!==null&&ye()>yr&&(n.flags|=128,r=!0,Lr(o,!1),n.lanes=4194304)}else{if(!r)if(e=Ao(l),e!==null){if(n.flags|=128,r=!0,t=e.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),Lr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!de)return Re(n),null}else 2*ye()-o.renderingStartTime>yr&&t!==1073741824&&(n.flags|=128,r=!0,Lr(o,!1),n.lanes=4194304);o.isBackwards?(l.sibling=n.child,n.child=l):(t=o.last,t!==null?t.sibling=l:n.child=l,o.last=l)}return o.tail!==null?(n=o.tail,o.rendering=n,o.tail=n.sibling,o.renderingStartTime=ye(),n.sibling=null,t=pe.current,oe(pe,r?t&1|2:t&1),n):(Re(n),null);case 22:case 23:return Qu(),r=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(n.flags|=8192),r&&n.mode&1?Xe&1073741824&&(Re(n),n.subtreeFlags&6&&(n.flags|=8192)):Re(n),null;case 24:return null;case 25:return null}throw Error(R(156,n.tag))}function qv(e,n){switch(Nu(n),n.tag){case 1:return $e(n.type)&&Co(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return mr(),fe(Je),fe(Le),Bu(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return zu(n),null;case 13:if(fe(pe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(R(340));pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return fe(pe),null;case 4:return mr(),null;case 10:return Lu(n.type._context),null;case 22:case 23:return Qu(),null;case 24:return null;default:return null}}var qi=!1,Me=!1,Ov=typeof WeakSet=="function"?WeakSet:Set,H=null;function Xt(e,n){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){ge(e,n,r)}else t.current=null}function Ls(e,n,t){try{t()}catch(r){ge(e,n,r)}}var Pc=!1;function Jv(e,n){if(ys=yo,e=rh(),Au(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var l=0,s=-1,c=-1,f=0,d=0,p=e,h=null;n:for(;;){for(var m;p!==t||i!==0&&p.nodeType!==3||(s=l+i),p!==o||r!==0&&p.nodeType!==3||(c=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===e)break n;if(h===t&&++f===i&&(s=l),h===o&&++d===r&&(c=l),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}t=s===-1||c===-1?null:{start:s,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(vs={focusedElem:e,selectionRange:t},yo=!1,H=n;H!==null;)if(n=H,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,H=e;else for(;H!==null;){n=H;try{var E=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var C=E.memoizedProps,I=E.memoizedState,g=n.stateNode,y=g.getSnapshotBeforeUpdate(n.elementType===n.type?C:gn(n.type,C),I);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=n.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(w){ge(n,n.return,w)}if(e=n.sibling,e!==null){e.return=n.return,H=e;break}H=n.return}return E=Pc,Pc=!1,E}function Kr(e,n,t){var r=n.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ls(n,t,o)}i=i.next}while(i!==r)}}function Xo(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function Fs(e){var n=e.ref;if(n!==null){var t=e.stateNode;switch(e.tag){case 5:e=t;break;default:e=t}typeof n=="function"?n(e):n.current=e}}function jh(e){var n=e.alternate;n!==null&&(e.alternate=null,jh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[kn],delete n[di],delete n[Cs],delete n[Iv],delete n[kv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function em(e){return e.tag===5||e.tag===3||e.tag===4}function Nc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||em(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Us(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?t.nodeType===8?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(t.nodeType===8?(n=t.parentNode,n.insertBefore(e,t)):(n=t,n.appendChild(e)),t=t._reactRootContainer,t!=null||n.onclick!==null||(n.onclick=So));else if(r!==4&&(e=e.child,e!==null))for(Us(e,n,t),e=e.sibling;e!==null;)Us(e,n,t),e=e.sibling}function Vs(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Vs(e,n,t),e=e.sibling;e!==null;)Vs(e,n,t),e=e.sibling}var ke=null,yn=!1;function Yn(e,n,t){for(t=t.child;t!==null;)nm(e,n,t),t=t.sibling}function nm(e,n,t){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Oo,t)}catch{}switch(t.tag){case 5:Me||Xt(t,n);case 6:var r=ke,i=yn;ke=null,Yn(e,n,t),ke=r,yn=i,ke!==null&&(yn?(e=ke,t=t.stateNode,e.nodeType===8?e.parentNode.removeChild(t):e.removeChild(t)):ke.removeChild(t.stateNode));break;case 18:ke!==null&&(yn?(e=ke,t=t.stateNode,e.nodeType===8?Al(e.parentNode,t):e.nodeType===1&&Al(e,t),si(e)):Al(ke,t.stateNode));break;case 4:r=ke,i=yn,ke=t.stateNode.containerInfo,yn=!0,Yn(e,n,t),ke=r,yn=i;break;case 0:case 11:case 14:case 15:if(!Me&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Ls(t,n,l),i=i.next}while(i!==r)}Yn(e,n,t);break;case 1:if(!Me&&(Xt(t,n),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(s){ge(t,n,s)}Yn(e,n,t);break;case 21:Yn(e,n,t);break;case 22:t.mode&1?(Me=(r=Me)||t.memoizedState!==null,Yn(e,n,t),Me=r):Yn(e,n,t);break;default:Yn(e,n,t)}}function Rc(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new Ov),n.forEach(function(r){var i=jv.bind(null,e,r);t.has(r)||(t.add(r),r.then(i,i))})}}function mn(e,n){var t=n.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var o=e,l=n,s=l;e:for(;s!==null;){switch(s.tag){case 5:ke=s.stateNode,yn=!1;break e;case 3:ke=s.stateNode.containerInfo,yn=!0;break e;case 4:ke=s.stateNode.containerInfo,yn=!0;break e}s=s.return}if(ke===null)throw Error(R(160));nm(o,l,i),ke=null,yn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){ge(i,n,f)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)tm(n,e),n=n.sibling}function tm(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mn(n,e),xn(e),r&4){try{Kr(3,e,e.return),Xo(3,e)}catch(C){ge(e,e.return,C)}try{Kr(5,e,e.return)}catch(C){ge(e,e.return,C)}}break;case 1:mn(n,e),xn(e),r&512&&t!==null&&Xt(t,t.return);break;case 5:if(mn(n,e),xn(e),r&512&&t!==null&&Xt(t,t.return),e.flags&32){var i=e.stateNode;try{ri(i,"")}catch(C){ge(e,e.return,C)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,l=t!==null?t.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&xp(i,o),ss(s,l);var f=ss(s,o);for(l=0;l<c.length;l+=2){var d=c[l],p=c[l+1];d==="style"?Pp(i,p):d==="dangerouslySetInnerHTML"?kp(i,p):d==="children"?ri(i,p):mu(i,d,p,f)}switch(s){case"input":ts(i,o);break;case"textarea":wp(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?er(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?er(i,!!o.multiple,o.defaultValue,!0):er(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(C){ge(e,e.return,C)}}break;case 6:if(mn(n,e),xn(e),r&4){if(e.stateNode===null)throw Error(R(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(C){ge(e,e.return,C)}}break;case 3:if(mn(n,e),xn(e),r&4&&t!==null&&t.memoizedState.isDehydrated)try{si(n.containerInfo)}catch(C){ge(e,e.return,C)}break;case 4:mn(n,e),xn(e);break;case 13:mn(n,e),xn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Yu=ye())),r&4&&Rc(e);break;case 22:if(d=t!==null&&t.memoizedState!==null,e.mode&1?(Me=(f=Me)||d,mn(n,e),Me=f):mn(n,e),xn(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(p=H=d;H!==null;){switch(h=H,m=h.child,h.tag){case 0:case 11:case 14:case 15:Kr(4,h,h.return);break;case 1:Xt(h,h.return);var E=h.stateNode;if(typeof E.componentWillUnmount=="function"){r=h,t=h.return;try{n=r,E.props=n.memoizedProps,E.state=n.memoizedState,E.componentWillUnmount()}catch(C){ge(r,t,C)}}break;case 5:Xt(h,h.return);break;case 22:if(h.memoizedState!==null){Dc(p);continue}}m!==null?(m.return=h,H=m):Dc(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=p.stateNode,c=p.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=Ap("display",l))}catch(C){ge(e,e.return,C)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(C){ge(e,e.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:mn(n,e),xn(e),r&4&&Rc(e);break;case 21:break;default:mn(n,e),xn(e)}}function xn(e){var n=e.flags;if(n&2){try{e:{for(var t=e.return;t!==null;){if(em(t)){var r=t;break e}t=t.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ri(i,""),r.flags&=-33);var o=Nc(e);Vs(e,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,s=Nc(e);Us(e,s,l);break;default:throw Error(R(161))}}catch(c){ge(e,e.return,c)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $v(e,n,t){H=e,rm(e)}function rm(e,n,t){for(var r=(e.mode&1)!==0;H!==null;){var i=H,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||qi;if(!l){var s=i.alternate,c=s!==null&&s.memoizedState!==null||Me;s=qi;var f=Me;if(qi=l,(Me=c)&&!f)for(H=i;H!==null;)l=H,c=l.child,l.tag===22&&l.memoizedState!==null?Lc(i):c!==null?(c.return=l,H=c):Lc(i);for(;o!==null;)H=o,rm(o),o=o.sibling;H=i,qi=s,Me=f}Mc(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,H=o):Mc(e)}}function Mc(e){for(;H!==null;){var n=H;if(n.flags&8772){var t=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Me||Xo(5,n);break;case 1:var r=n.stateNode;if(n.flags&4&&!Me)if(t===null)r.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:gn(n.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=n.updateQueue;o!==null&&gc(n,o,r);break;case 3:var l=n.updateQueue;if(l!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}gc(n,l,t)}break;case 5:var s=n.stateNode;if(t===null&&n.flags&4){t=s;var c=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var f=n.alternate;if(f!==null){var d=f.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&si(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Me||n.flags&512&&Fs(n)}catch(h){ge(n,n.return,h)}}if(n===e){H=null;break}if(t=n.sibling,t!==null){t.return=n.return,H=t;break}H=n.return}}function Dc(e){for(;H!==null;){var n=H;if(n===e){H=null;break}var t=n.sibling;if(t!==null){t.return=n.return,H=t;break}H=n.return}}function Lc(e){for(;H!==null;){var n=H;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{Xo(4,n)}catch(c){ge(n,t,c)}break;case 1:var r=n.stateNode;if(typeof r.componentDidMount=="function"){var i=n.return;try{r.componentDidMount()}catch(c){ge(n,i,c)}}var o=n.return;try{Fs(n)}catch(c){ge(n,o,c)}break;case 5:var l=n.return;try{Fs(n)}catch(c){ge(n,l,c)}}}catch(c){ge(n,n.return,c)}if(n===e){H=null;break}var s=n.sibling;if(s!==null){s.return=n.return,H=s;break}H=n.return}}var bv=Math.ceil,Ro=Jn.ReactCurrentDispatcher,bu=Jn.ReactCurrentOwner,an=Jn.ReactCurrentBatchConfig,Q=0,Ie=null,Ee=null,Ae=0,Xe=0,Zt=ht(0),xe=0,vi=null,Nt=0,Zo=0,Wu=0,Qr=null,qe=null,Yu=0,yr=1/0,Ln=null,Mo=!1,zs=null,ut=null,Oi=!1,nt=null,Do=0,Xr=0,Bs=null,ro=-1,io=0;function ze(){return Q&6?ye():ro!==-1?ro:ro=ye()}function at(e){return e.mode&1?Q&2&&Ae!==0?Ae&-Ae:Pv.transition!==null?(io===0&&(io=Gp()),io):(e=ee,e!==0||(e=window.event,e=e===void 0?16:Yp(e.type)),e):1}function Sn(e,n,t,r){if(50<Xr)throw Xr=0,Bs=null,Error(R(185));Ci(e,t,r),(!(Q&2)||e!==Ie)&&(e===Ie&&(!(Q&2)&&(Zo|=t),xe===4&&jn(e,Ae)),be(e,r),t===1&&Q===0&&!(n.mode&1)&&(yr=ye()+500,Yo&&mt()))}function be(e,n){var t=e.callbackNode;Py(e,n);var r=go(e,e===Ie?Ae:0);if(r===0)t!==null&&Oa(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(t!=null&&Oa(t),n===1)e.tag===0?Av(Fc.bind(null,e)):ph(Fc.bind(null,e)),xv(function(){!(Q&6)&&mt()}),t=null;else{switch(qp(r)){case 1:t=Su;break;case 4:t=Bp;break;case 16:t=mo;break;case 536870912:t=Hp;break;default:t=mo}t=fm(t,im.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function im(e,n){if(ro=-1,io=0,Q&6)throw Error(R(327));var t=e.callbackNode;if(or()&&e.callbackNode!==t)return null;var r=go(e,e===Ie?Ae:0);if(r===0)return null;if(r&30||r&e.expiredLanes||n)n=Lo(e,r);else{n=r;var i=Q;Q|=2;var o=lm();(Ie!==e||Ae!==n)&&(Ln=null,yr=ye()+500,wt(e,n));do try{Kv();break}catch(s){om(e,s)}while(!0);Du(),Ro.current=o,Q=i,Ee!==null?n=0:(Ie=null,Ae=0,n=xe)}if(n!==0){if(n===2&&(i=ds(e),i!==0&&(r=i,n=Hs(e,i))),n===1)throw t=vi,wt(e,0),jn(e,r),be(e,ye()),t;if(n===6)jn(e,r);else{if(i=e.current.alternate,!(r&30)&&!Wv(i)&&(n=Lo(e,r),n===2&&(o=ds(e),o!==0&&(r=o,n=Hs(e,o))),n===1))throw t=vi,wt(e,0),jn(e,r),be(e,ye()),t;switch(e.finishedWork=i,e.finishedLanes=r,n){case 0:case 1:throw Error(R(345));case 2:St(e,qe,Ln);break;case 3:if(jn(e,r),(r&130023424)===r&&(n=Yu+500-ye(),10<n)){if(go(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ze(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ss(St.bind(null,e,qe,Ln),n);break}St(e,qe,Ln);break;case 4:if(jn(e,r),(r&4194240)===r)break;for(n=e.eventTimes,i=-1;0<r;){var l=31-En(r);o=1<<l,l=n[l],l>i&&(i=l),r&=~o}if(r=i,r=ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bv(r/1960))-r,10<r){e.timeoutHandle=Ss(St.bind(null,e,qe,Ln),r);break}St(e,qe,Ln);break;case 5:St(e,qe,Ln);break;default:throw Error(R(329))}}}return be(e,ye()),e.callbackNode===t?im.bind(null,e):null}function Hs(e,n){var t=Qr;return e.current.memoizedState.isDehydrated&&(wt(e,n).flags|=256),e=Lo(e,n),e!==2&&(n=qe,qe=t,n!==null&&Gs(n)),e}function Gs(e){qe===null?qe=e:qe.push.apply(qe,e)}function Wv(e){for(var n=e;;){if(n.flags&16384){var t=n.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!Cn(o(),i))return!1}catch{return!1}}}if(t=n.child,n.subtreeFlags&16384&&t!==null)t.return=n,n=t;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function jn(e,n){for(n&=~Wu,n&=~Zo,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-En(n),r=1<<t;e[t]=-1,n&=~r}}function Fc(e){if(Q&6)throw Error(R(327));or();var n=go(e,0);if(!(n&1))return be(e,ye()),null;var t=Lo(e,n);if(e.tag!==0&&t===2){var r=ds(e);r!==0&&(n=r,t=Hs(e,r))}if(t===1)throw t=vi,wt(e,0),jn(e,n),be(e,ye()),t;if(t===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,St(e,qe,Ln),be(e,ye()),null}function Ku(e,n){var t=Q;Q|=1;try{return e(n)}finally{Q=t,Q===0&&(yr=ye()+500,Yo&&mt())}}function Rt(e){nt!==null&&nt.tag===0&&!(Q&6)&&or();var n=Q;Q|=1;var t=an.transition,r=ee;try{if(an.transition=null,ee=1,e)return e()}finally{ee=r,an.transition=t,Q=n,!(Q&6)&&mt()}}function Qu(){Xe=Zt.current,fe(Zt)}function wt(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,_v(t)),Ee!==null)for(t=Ee.return;t!==null;){var r=t;switch(Nu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Co();break;case 3:mr(),fe(Je),fe(Le),Bu();break;case 5:zu(r);break;case 4:mr();break;case 13:fe(pe);break;case 19:fe(pe);break;case 10:Lu(r.type._context);break;case 22:case 23:Qu()}t=t.return}if(Ie=e,Ee=e=ct(e.current,null),Ae=Xe=n,xe=0,vi=null,Wu=Zo=Nt=0,qe=Qr=null,_t!==null){for(n=0;n<_t.length;n++)if(t=_t[n],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,o=t.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}t.pending=r}_t=null}return e}function om(e,n){do{var t=Ee;try{if(Du(),eo.current=No,Po){for(var r=he.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Po=!1}if(Pt=0,we=Te=he=null,Yr=!1,mi=0,bu.current=null,t===null||t.return===null){xe=1,vi=n,Ee=null;break}e:{var o=e,l=t.return,s=t,c=n;if(n=Ae,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,d=s,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Tc(l);if(m!==null){m.flags&=-257,_c(m,l,s,o,n),m.mode&1&&Cc(o,f,n),n=m,c=f;var E=n.updateQueue;if(E===null){var C=new Set;C.add(c),n.updateQueue=C}else E.add(c);break e}else{if(!(n&1)){Cc(o,f,n),Xu();break e}c=Error(R(426))}}else if(de&&s.mode&1){var I=Tc(l);if(I!==null){!(I.flags&65536)&&(I.flags|=256),_c(I,l,s,o,n),Ru(gr(c,s));break e}}o=c=gr(c,s),xe!==4&&(xe=2),Qr===null?Qr=[o]:Qr.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,n&=-n,o.lanes|=n;var g=qh(o,c,n);mc(o,g);break e;case 1:s=c;var y=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ut===null||!ut.has(v)))){o.flags|=65536,n&=-n,o.lanes|=n;var w=Oh(o,s,n);mc(o,w);break e}}o=o.return}while(o!==null)}um(t)}catch(k){n=k,Ee===t&&t!==null&&(Ee=t=t.return);continue}break}while(!0)}function lm(){var e=Ro.current;return Ro.current=No,e===null?No:e}function Xu(){(xe===0||xe===3||xe===2)&&(xe=4),Ie===null||!(Nt&268435455)&&!(Zo&268435455)||jn(Ie,Ae)}function Lo(e,n){var t=Q;Q|=2;var r=lm();(Ie!==e||Ae!==n)&&(Ln=null,wt(e,n));do try{Yv();break}catch(i){om(e,i)}while(!0);if(Du(),Q=t,Ro.current=r,Ee!==null)throw Error(R(261));return Ie=null,Ae=0,xe}function Yv(){for(;Ee!==null;)sm(Ee)}function Kv(){for(;Ee!==null&&!Sy();)sm(Ee)}function sm(e){var n=cm(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,n===null?um(e):Ee=n,bu.current=null}function um(e){var n=e;do{var t=n.alternate;if(e=n.return,n.flags&32768){if(t=qv(t,n),t!==null){t.flags&=32767,Ee=t;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,Ee=null;return}}else if(t=Gv(t,n,Xe),t!==null){Ee=t;return}if(n=n.sibling,n!==null){Ee=n;return}Ee=n=e}while(n!==null);xe===0&&(xe=5)}function St(e,n,t){var r=ee,i=an.transition;try{an.transition=null,ee=1,Qv(e,n,t,r)}finally{an.transition=i,ee=r}return null}function Qv(e,n,t,r){do or();while(nt!==null);if(Q&6)throw Error(R(327));t=e.finishedWork;var i=e.finishedLanes;if(t===null)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var o=t.lanes|t.childLanes;if(Ny(e,o),e===Ie&&(Ee=Ie=null,Ae=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Oi||(Oi=!0,fm(mo,function(){return or(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=an.transition,an.transition=null;var l=ee;ee=1;var s=Q;Q|=4,bu.current=null,Jv(e,t),tm(t,e),gv(vs),yo=!!ys,vs=ys=null,e.current=t,$v(t),Cy(),Q=s,ee=l,an.transition=o}else e.current=t;if(Oi&&(Oi=!1,nt=e,Do=i),o=e.pendingLanes,o===0&&(ut=null),xy(t.stateNode),be(e,ye()),n!==null)for(r=e.onRecoverableError,t=0;t<n.length;t++)i=n[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Mo)throw Mo=!1,e=zs,zs=null,e;return Do&1&&e.tag!==0&&or(),o=e.pendingLanes,o&1?e===Bs?Xr++:(Xr=0,Bs=e):Xr=0,mt(),null}function or(){if(nt!==null){var e=qp(Do),n=an.transition,t=ee;try{if(an.transition=null,ee=16>e?16:e,nt===null)var r=!1;else{if(e=nt,nt=null,Do=0,Q&6)throw Error(R(331));var i=Q;for(Q|=4,H=e.current;H!==null;){var o=H,l=o.child;if(H.flags&16){var s=o.deletions;if(s!==null){for(var c=0;c<s.length;c++){var f=s[c];for(H=f;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:Kr(8,d,o)}var p=d.child;if(p!==null)p.return=d,H=p;else for(;H!==null;){d=H;var h=d.sibling,m=d.return;if(jh(d),d===f){H=null;break}if(h!==null){h.return=m,H=h;break}H=m}}}var E=o.alternate;if(E!==null){var C=E.child;if(C!==null){E.child=null;do{var I=C.sibling;C.sibling=null,C=I}while(C!==null)}}H=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,H=l;else e:for(;H!==null;){if(o=H,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Kr(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,H=g;break e}H=o.return}}var y=e.current;for(H=y;H!==null;){l=H;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,H=v;else e:for(l=y;H!==null;){if(s=H,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Xo(9,s)}}catch(k){ge(s,s.return,k)}if(s===l){H=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,H=w;break e}H=s.return}}if(Q=i,mt(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Oo,e)}catch{}r=!0}return r}finally{ee=t,an.transition=n}}return!1}function Uc(e,n,t){n=gr(t,n),n=qh(e,n,1),e=st(e,n,1),n=ze(),e!==null&&(Ci(e,1,n),be(e,n))}function ge(e,n,t){if(e.tag===3)Uc(e,e,t);else for(;n!==null;){if(n.tag===3){Uc(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ut===null||!ut.has(r))){e=gr(t,e),e=Oh(n,e,1),n=st(n,e,1),e=ze(),n!==null&&(Ci(n,1,e),be(n,e));break}}n=n.return}}function Xv(e,n,t){var r=e.pingCache;r!==null&&r.delete(n),n=ze(),e.pingedLanes|=e.suspendedLanes&t,Ie===e&&(Ae&t)===t&&(xe===4||xe===3&&(Ae&130023424)===Ae&&500>ye()-Yu?wt(e,0):Wu|=t),be(e,n)}function am(e,n){n===0&&(e.mode&1?(n=Di,Di<<=1,!(Di&130023424)&&(Di=4194304)):n=1);var t=ze();e=Gn(e,n),e!==null&&(Ci(e,n,t),be(e,t))}function Zv(e){var n=e.memoizedState,t=0;n!==null&&(t=n.retryLane),am(e,t)}function jv(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(n),am(e,t)}var cm;cm=function(e,n,t){if(e!==null)if(e.memoizedProps!==n.pendingProps||Je.current)Oe=!0;else{if(!(e.lanes&t)&&!(n.flags&128))return Oe=!1,Hv(e,n,t);Oe=!!(e.flags&131072)}else Oe=!1,de&&n.flags&1048576&&hh(n,xo,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;to(e,n),e=n.pendingProps;var i=dr(n,Le.current);ir(n,t),i=Gu(null,n,r,e,i,t);var o=qu();return n.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,$e(r)?(o=!0,To(n)):o=!1,n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Uu(n),i.updater=Qo,n.stateNode=i,i._reactInternals=n,ks(n,r,e,t),n=Ns(null,n,r,!0,o,t)):(n.tag=0,de&&o&&Pu(n),Ve(null,n,i,t),n=n.child),n;case 16:r=n.elementType;e:{switch(to(e,n),e=n.pendingProps,i=r._init,r=i(r._payload),n.type=r,i=n.tag=nE(r),e=gn(r,e),i){case 0:n=Ps(null,n,r,e,t);break e;case 1:n=Ic(null,n,r,e,t);break e;case 11:n=xc(null,n,r,e,t);break e;case 14:n=wc(null,n,r,gn(r.type,e),t);break e}throw Error(R(306,r,""))}return n;case 0:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:gn(r,i),Ps(e,n,r,i,t);case 1:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:gn(r,i),Ic(e,n,r,i,t);case 3:e:{if(Wh(n),e===null)throw Error(R(387));r=n.pendingProps,o=n.memoizedState,i=o.element,Sh(e,n),ko(n,r,null,t);var l=n.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},n.updateQueue.baseState=o,n.memoizedState=o,n.flags&256){i=gr(Error(R(423)),n),n=kc(e,n,r,t,i);break e}else if(r!==i){i=gr(Error(R(424)),n),n=kc(e,n,r,t,i);break e}else for(Ze=lt(n.stateNode.containerInfo.firstChild),en=n,de=!0,vn=null,t=vh(n,null,r,t),n.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(pr(),r===i){n=qn(e,n,t);break e}Ve(e,n,r,t)}n=n.child}return n;case 5:return Ch(n),e===null&&xs(n),r=n.type,i=n.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,Es(r,i)?l=null:o!==null&&Es(r,o)&&(n.flags|=32),bh(e,n),Ve(e,n,l,t),n.child;case 6:return e===null&&xs(n),null;case 13:return Yh(e,n,t);case 4:return Vu(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=hr(n,null,r,t):Ve(e,n,r,t),n.child;case 11:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:gn(r,i),xc(e,n,r,i,t);case 7:return Ve(e,n,n.pendingProps,t),n.child;case 8:return Ve(e,n,n.pendingProps.children,t),n.child;case 12:return Ve(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(r=n.type._context,i=n.pendingProps,o=n.memoizedProps,l=i.value,oe(wo,r._currentValue),r._currentValue=l,o!==null)if(Cn(o.value,l)){if(o.children===i.children&&!Je.current){n=qn(e,n,t);break e}}else for(o=n.child,o!==null&&(o.return=n);o!==null;){var s=o.dependencies;if(s!==null){l=o.child;for(var c=s.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=zn(-1,t&-t),c.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var d=f.pending;d===null?c.next=c:(c.next=d.next,d.next=c),f.pending=c}}o.lanes|=t,c=o.alternate,c!==null&&(c.lanes|=t),ws(o.return,t,n),s.lanes|=t;break}c=c.next}}else if(o.tag===10)l=o.type===n.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(R(341));l.lanes|=t,s=l.alternate,s!==null&&(s.lanes|=t),ws(l,t,n),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===n){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Ve(e,n,i.children,t),n=n.child}return n;case 9:return i=n.type,r=n.pendingProps.children,ir(n,t),i=fn(i),r=r(i),n.flags|=1,Ve(e,n,r,t),n.child;case 14:return r=n.type,i=gn(r,n.pendingProps),i=gn(r.type,i),wc(e,n,r,i,t);case 15:return Jh(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:gn(r,i),to(e,n),n.tag=1,$e(r)?(e=!0,To(n)):e=!1,ir(n,t),Gh(n,r,i),ks(n,r,i,t),Ns(null,n,r,!0,e,t);case 19:return Kh(e,n,t);case 22:return $h(e,n,t)}throw Error(R(156,n.tag))};function fm(e,n){return zp(e,n)}function eE(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,n,t,r){return new eE(e,n,t,r)}function Zu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nE(e){if(typeof e=="function")return Zu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yu)return 11;if(e===vu)return 14}return 2}function ct(e,n){var t=e.alternate;return t===null?(t=un(e.tag,n,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=e.flags&14680064,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function oo(e,n,t,r,i,o){var l=2;if(r=e,typeof e=="function")Zu(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case qt:return It(t.children,i,o,n);case gu:l=8,i|=8;break;case Xl:return e=un(12,t,n,i|2),e.elementType=Xl,e.lanes=o,e;case Zl:return e=un(13,t,n,i),e.elementType=Zl,e.lanes=o,e;case jl:return e=un(19,t,n,i),e.elementType=jl,e.lanes=o,e;case Cp:return jo(t,i,o,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ep:l=10;break e;case Sp:l=9;break e;case yu:l=11;break e;case vu:l=14;break e;case Qn:l=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return n=un(l,t,n,i),n.elementType=e,n.type=r,n.lanes=o,n}function It(e,n,t,r){return e=un(7,e,r,n),e.lanes=t,e}function jo(e,n,t,r){return e=un(22,e,r,n),e.elementType=Cp,e.lanes=t,e.stateNode={isHidden:!1},e}function Ul(e,n,t){return e=un(6,e,null,n),e.lanes=t,e}function Vl(e,n,t){return n=un(4,e.children!==null?e.children:[],e.key,n),n.lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function tE(e,n,t,r,i){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yl(0),this.expirationTimes=yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ju(e,n,t,r,i,o,l,s,c){return e=new tE(e,n,t,s,c),n===1?(n=1,o===!0&&(n|=8)):n=0,o=un(3,null,null,n),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uu(o),e}function rE(e,n,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gt,key:r==null?null:""+r,children:e,containerInfo:n,implementation:t}}function dm(e){if(!e)return dt;e=e._reactInternals;e:{if(Dt(e)!==e||e.tag!==1)throw Error(R(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if($e(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(R(171))}if(e.tag===1){var t=e.type;if($e(t))return dh(e,t,n)}return n}function pm(e,n,t,r,i,o,l,s,c){return e=ju(t,r,!0,e,i,o,l,s,c),e.context=dm(null),t=e.current,r=ze(),i=at(t),o=zn(r,i),o.callback=n??null,st(t,o,i),e.current.lanes=i,Ci(e,i,r),be(e,r),e}function el(e,n,t,r){var i=n.current,o=ze(),l=at(i);return t=dm(t),n.context===null?n.context=t:n.pendingContext=t,n=zn(o,l),n.payload={element:e},r=r===void 0?null:r,r!==null&&(n.callback=r),e=st(i,n,l),e!==null&&(Sn(e,i,l,o),ji(e,i,l)),l}function Fo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vc(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<n?t:n}}function ea(e,n){Vc(e,n),(e=e.alternate)&&Vc(e,n)}function iE(){return null}var hm=typeof reportError=="function"?reportError:function(e){console.error(e)};function na(e){this._internalRoot=e}nl.prototype.render=na.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(R(409));el(e,n,null,null)};nl.prototype.unmount=na.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Rt(function(){el(null,e,null,null)}),n[Hn]=null}};function nl(e){this._internalRoot=e}nl.prototype.unstable_scheduleHydration=function(e){if(e){var n=$p();e={blockedOn:null,target:e,priority:n};for(var t=0;t<Zn.length&&n!==0&&n<Zn[t].priority;t++);Zn.splice(t,0,e),t===0&&Wp(e)}};function ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zc(){}function oE(e,n,t,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=Fo(l);o.call(f)}}var l=pm(n,r,e,0,null,!1,!1,"",zc);return e._reactRootContainer=l,e[Hn]=l.current,ci(e.nodeType===8?e.parentNode:e),Rt(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var f=Fo(c);s.call(f)}}var c=ju(e,0,!1,null,null,!1,!1,"",zc);return e._reactRootContainer=c,e[Hn]=c.current,ci(e.nodeType===8?e.parentNode:e),Rt(function(){el(n,c,t,r)}),c}function rl(e,n,t,r,i){var o=t._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var s=i;i=function(){var c=Fo(l);s.call(c)}}el(n,l,e,i)}else l=oE(t,n,e,i,r);return Fo(l)}Op=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=Gr(n.pendingLanes);t!==0&&(Cu(n,t|1),be(n,ye()),!(Q&6)&&(yr=ye()+500,mt()))}break;case 13:Rt(function(){var r=Gn(e,1);if(r!==null){var i=ze();Sn(r,e,1,i)}}),ea(e,1)}};Tu=function(e){if(e.tag===13){var n=Gn(e,134217728);if(n!==null){var t=ze();Sn(n,e,134217728,t)}ea(e,134217728)}};Jp=function(e){if(e.tag===13){var n=at(e),t=Gn(e,n);if(t!==null){var r=ze();Sn(t,e,n,r)}ea(e,n)}};$p=function(){return ee};bp=function(e,n){var t=ee;try{return ee=e,n()}finally{ee=t}};as=function(e,n,t){switch(n){case"input":if(ts(e,t),n=t.name,t.type==="radio"&&n!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var i=Wo(r);if(!i)throw Error(R(90));_p(r),ts(r,i)}}}break;case"textarea":wp(e,t);break;case"select":n=t.value,n!=null&&er(e,!!t.multiple,n,!1)}};Mp=Ku;Dp=Rt;var lE={usingClientEntryPoint:!1,Events:[_i,bt,Wo,Np,Rp,Ku]},Fr={findFiberByHostInstance:Tt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sE={bundleType:Fr.bundleType,version:Fr.version,rendererPackageName:Fr.rendererPackageName,rendererConfig:Fr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Up(e),e===null?null:e.stateNode},findFiberByHostInstance:Fr.findFiberByHostInstance||iE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ji=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ji.isDisabled&&Ji.supportsFiber)try{Oo=Ji.inject(sE),Pn=Ji}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lE;tn.createPortal=function(e,n){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ta(n))throw Error(R(200));return rE(e,n,null,t)};tn.createRoot=function(e,n){if(!ta(e))throw Error(R(299));var t=!1,r="",i=hm;return n!=null&&(n.unstable_strictMode===!0&&(t=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),n=ju(e,1,!1,null,null,t,!1,r,i),e[Hn]=n.current,ci(e.nodeType===8?e.parentNode:e),new na(n)};tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Up(n),e=e===null?null:e.stateNode,e};tn.flushSync=function(e){return Rt(e)};tn.hydrate=function(e,n,t){if(!tl(n))throw Error(R(200));return rl(null,e,n,!0,t)};tn.hydrateRoot=function(e,n,t){if(!ta(e))throw Error(R(405));var r=t!=null&&t.hydratedSources||null,i=!1,o="",l=hm;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),n=pm(n,null,e,1,t??null,i,!1,o,l),e[Hn]=n.current,ci(e),r)for(e=0;e<r.length;e++)t=r[e],i=t._getVersion,i=i(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i);return new nl(n)};tn.render=function(e,n,t){if(!tl(n))throw Error(R(200));return rl(null,e,n,!1,t)};tn.unmountComponentAtNode=function(e){if(!tl(e))throw Error(R(40));return e._reactRootContainer?(Rt(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[Hn]=null})}),!0):!1};tn.unstable_batchedUpdates=Ku;tn.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!tl(t))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return rl(e,n,t,!1,r)};tn.version="18.3.1-next-f1338f8080-20240426";function mm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mm)}catch(e){console.error(e)}}mm(),mp.exports=tn;var uE=mp.exports,Bc=uE;Kl.createRoot=Bc.createRoot,Kl.hydrateRoot=Bc.hydrateRoot;/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gm=(...e)=>e.filter((n,t,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===t).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=_e.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...s},c)=>_e.createElement("svg",{ref:c,...cE,width:n,height:n,stroke:e,strokeWidth:r?Number(t)*24/Number(n):t,className:gm("lucide",i),...s},[...l.map(([f,d])=>_e.createElement(f,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,n)=>{const t=_e.forwardRef(({className:r,...i},o)=>_e.createElement(fE,{ref:o,iconNode:n,className:gm(`lucide-${aE(e)}`,r),...i}));return t.displayName=`${e}`,t};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=Se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=Se("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=Se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=Se("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=Se("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=Se("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=Se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=Se("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=Se("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=Se("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=Se("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Se("SquarePlus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=Se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),PE=({onHelpClick:e})=>x.jsx("header",{className:"bg-[#2d2a26] text-[#fdfcf8] py-4 px-6 shadow-md border-b-4 border-[#c5a059] print:hidden",children:x.jsxs("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"p-2 bg-[#c5a059] rounded-lg text-[#2d2a26]",children:x.jsx(vE,{size:24})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-xl md:text-2xl font-bold tracking-wider serif",children:"MUSEUM LENS"}),x.jsx("p",{className:"text-xs text-[#c5a059] uppercase tracking-widest font-medium",children:"Digital Archivist AI"})]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-sm text-gray-400",children:[x.jsx(ym,{size:16}),x.jsx("span",{children:"Image Analysis System"})]}),x.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-full transition-colors",title:"Installation Help",children:x.jsx(hE,{size:20})})]})]})}),NE=({onImageSelected:e})=>{const n=_e.useRef(null),t=_e.useRef(null),[r,i]=_e.useState(!1),o=f=>{f.target.files&&f.target.files.length>0&&e(Array.from(f.target.files))},l=f=>{f.preventDefault(),i(!0)},s=f=>{f.preventDefault(),i(!1)},c=f=>{if(f.preventDefault(),i(!1),f.dataTransfer.files&&f.dataTransfer.files.length>0){const d=Array.from(f.dataTransfer.files).filter(p=>p.type.startsWith("image/"));d.length>0&&e(d)}};return x.jsxs("div",{className:"w-full max-w-2xl mx-auto mt-8",children:[x.jsxs("div",{className:`
          relative border-2 border-dashed rounded-xl p-8 md:p-16 text-center transition-all duration-300
          flex flex-col items-center justify-center gap-6 bg-white shadow-sm
          ${r?"border-[#c5a059] bg-[#fcfaf5]":"border-gray-300 hover:border-[#c5a059] hover:bg-gray-50"}
        `,onDragOver:l,onDragLeave:s,onDrop:c,children:[x.jsx("div",{className:"p-4 rounded-full bg-[#f4f1ea] text-[#8c867a]",children:x.jsx(AE,{size:48,strokeWidth:1.5})}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("h3",{className:"text-xl font-serif font-semibold text-[#2d2a26]",children:"Artefakt hochladen"}),x.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"Ziehen Sie bis zu 4 Bilder hierher oder nutzen Sie die Buttons unten."})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-md justify-center pt-4",children:[x.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",ref:n,onChange:o}),x.jsxs("button",{onClick:()=>{var f;return(f=n.current)==null?void 0:f.click()},className:"flex items-center justify-center gap-2 px-6 py-3 bg-[#2d2a26] text-white rounded-lg hover:bg-[#403d38] transition-colors shadow-md",children:[x.jsx(yE,{size:20}),x.jsx("span",{children:"Galerie ffnen"})]}),x.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",ref:t,onChange:o}),x.jsxs("button",{onClick:()=>{var f;return(f=t.current)==null?void 0:f.click()},className:"flex items-center justify-center gap-2 px-6 py-3 bg-[#c5a059] text-[#2d2a26] rounded-lg hover:bg-[#d4b06a] transition-colors shadow-md font-semibold",children:[x.jsx(ym,{size:20}),x.jsx("span",{children:"Foto aufnehmen"})]})]})]}),x.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[x.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm border border-gray-100",children:[x.jsx("h4",{className:"font-serif font-semibold mb-1 text-[#c5a059]",children:"Historische Einordnung"}),x.jsx("p",{className:"text-sm text-gray-500",children:"Datierung und Kontextanalyse durch KI."})]}),x.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm border border-gray-100",children:[x.jsx("h4",{className:"font-serif font-semibold mb-1 text-[#c5a059]",children:"Detailerkennung"}),x.jsx("p",{className:"text-sm text-gray-500",children:"Identifikation von Objekten und Symbolen."})]}),x.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm border border-gray-100",children:[x.jsx("h4",{className:"font-serif font-semibold mb-1 text-[#c5a059]",children:"Zustandsbericht"}),x.jsx("p",{className:"text-sm text-gray-500",children:"Einschtzung von Schden und Technik."})]})]})]})},RE=({images:e,onAddImages:n,onRemoveImage:t,onUpdateDescription:r,onAnalyze:i,onCancel:o})=>{const l=_e.useRef(null),s=4,c=f=>{if(f.target.files){const d=Array.from(f.target.files);n(d),f.target.value=""}};return x.jsxs("div",{className:"w-full max-w-4xl mx-auto px-4 py-8 fade-in",children:[x.jsxs("div",{className:"flex justify-between items-center mb-8",children:[x.jsx("h2",{className:"text-2xl font-serif font-bold text-[#2d2a26]",children:"Analyse vorbereiten"}),x.jsx("button",{onClick:o,className:"text-gray-500 hover:text-red-500 transition-colors",children:"Abbrechen"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.map((f,d)=>x.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex gap-4",children:[x.jsxs("div",{className:"relative w-32 h-32 flex-shrink-0",children:[x.jsx("img",{src:f.preview,alt:`Artefakt ${d+1}`,className:"w-full h-full object-cover rounded-lg border border-gray-200"}),x.jsxs("div",{className:"absolute top-1 left-1 bg-black/50 text-white text-xs px-2 py-0.5 rounded-full backdrop-blur-sm",children:["#",d+1]}),x.jsx("button",{onClick:()=>t(f.id),className:"absolute -top-2 -right-2 bg-white text-gray-500 hover:text-red-500 rounded-full p-1 shadow-md border border-gray-200 transition-colors",title:"Bild entfernen",children:x.jsx(vm,{size:16})})]}),x.jsxs("div",{className:"flex-grow flex flex-col",children:[x.jsx("label",{className:"text-xs font-semibold uppercase text-gray-400 mb-1",children:"Zusatzinformation (Optional)"}),x.jsx("textarea",{value:f.description,onChange:p=>r(f.id,p.target.value),placeholder:"z.B. Detail der Rckseite, Unterschrift, Beschdigung...",className:"flex-grow w-full p-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#c5a059] focus:border-transparent resize-none bg-[#fcfaf5]"})]})]},f.id)),e.length<s&&x.jsxs("div",{onClick:()=>{var f;return(f=l.current)==null?void 0:f.click()},className:"border-2 border-dashed border-gray-300 rounded-xl p-4 flex flex-col items-center justify-center min-h-[160px] cursor-pointer hover:border-[#c5a059] hover:bg-[#fcfaf5] transition-all group",children:[x.jsx("div",{className:"bg-[#f4f1ea] p-3 rounded-full mb-3 group-hover:scale-110 transition-transform",children:x.jsx(SE,{size:24,className:"text-[#8c867a]"})}),x.jsx("p",{className:"font-medium text-gray-600",children:"Weiteres Bild hinzufgen"}),x.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Noch ",s-e.length," mglich"]}),x.jsx("input",{type:"file",ref:l,onChange:c,accept:"image/*",multiple:!0,className:"hidden"})]})]}),x.jsx("div",{className:"flex justify-center",children:x.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-8 py-4 bg-[#2d2a26] text-white rounded-xl hover:bg-[#403d38] transition-all shadow-lg hover:shadow-xl hover:scale-105",children:[x.jsx(kE,{size:20,className:"text-[#c5a059]"}),x.jsx("span",{className:"font-semibold text-lg",children:"Jetzt Analysieren"})]})}),x.jsxs("p",{className:"text-center text-sm text-gray-500 mt-4",children:[e.length," Bild",e.length>1?"er":""," ausgewhlt"]})]})};function ME(e,n){const t={};return(e[e.length-1]===""?[...e,""]:e).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const DE=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,LE=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,FE={};function Gc(e,n){return(FE.jsx?LE:DE).test(e)}const UE=/[ \t\n\f\r]/g;function VE(e){return typeof e=="object"?e.type==="text"?qc(e.value):!1:qc(e)}function qc(e){return e.replace(UE,"")===""}class wi{constructor(n,t,r){this.normal=t,this.property=n,r&&(this.space=r)}}wi.prototype.normal={};wi.prototype.property={};wi.prototype.space=void 0;function Em(e,n){const t={},r={};for(const i of e)Object.assign(t,i.property),Object.assign(r,i.normal);return new wi(t,r,n)}function qs(e){return e.toLowerCase()}class Ye{constructor(n,t){this.attribute=t,this.property=n}}Ye.prototype.attribute="";Ye.prototype.booleanish=!1;Ye.prototype.boolean=!1;Ye.prototype.commaOrSpaceSeparated=!1;Ye.prototype.commaSeparated=!1;Ye.prototype.defined=!1;Ye.prototype.mustUseProperty=!1;Ye.prototype.number=!1;Ye.prototype.overloadedBoolean=!1;Ye.prototype.property="";Ye.prototype.spaceSeparated=!1;Ye.prototype.space=void 0;let zE=0;const $=Lt(),ve=Lt(),Os=Lt(),L=Lt(),ie=Lt(),lr=Lt(),Qe=Lt();function Lt(){return 2**++zE}const Js=Object.freeze(Object.defineProperty({__proto__:null,boolean:$,booleanish:ve,commaOrSpaceSeparated:Qe,commaSeparated:lr,number:L,overloadedBoolean:Os,spaceSeparated:ie},Symbol.toStringTag,{value:"Module"})),zl=Object.keys(Js);class ra extends Ye{constructor(n,t,r,i){let o=-1;if(super(n,t),Oc(this,"space",i),typeof r=="number")for(;++o<zl.length;){const l=zl[o];Oc(this,zl[o],(r&Js[l])===Js[l])}}}ra.prototype.defined=!0;function Oc(e,n,t){t&&(e[n]=t)}function Cr(e){const n={},t={};for(const[r,i]of Object.entries(e.properties)){const o=new ra(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),n[r]=o,t[qs(r)]=r,t[qs(o.attribute)]=r}return new wi(n,t,e.space)}const Sm=Cr({properties:{ariaActiveDescendant:null,ariaAtomic:ve,ariaAutoComplete:null,ariaBusy:ve,ariaChecked:ve,ariaColCount:L,ariaColIndex:L,ariaColSpan:L,ariaControls:ie,ariaCurrent:null,ariaDescribedBy:ie,ariaDetails:null,ariaDisabled:ve,ariaDropEffect:ie,ariaErrorMessage:null,ariaExpanded:ve,ariaFlowTo:ie,ariaGrabbed:ve,ariaHasPopup:null,ariaHidden:ve,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ie,ariaLevel:L,ariaLive:null,ariaModal:ve,ariaMultiLine:ve,ariaMultiSelectable:ve,ariaOrientation:null,ariaOwns:ie,ariaPlaceholder:null,ariaPosInSet:L,ariaPressed:ve,ariaReadOnly:ve,ariaRelevant:null,ariaRequired:ve,ariaRoleDescription:ie,ariaRowCount:L,ariaRowIndex:L,ariaRowSpan:L,ariaSelected:ve,ariaSetSize:L,ariaSort:null,ariaValueMax:L,ariaValueMin:L,ariaValueNow:L,ariaValueText:null,role:null},transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function Cm(e,n){return n in e?e[n]:n}function Tm(e,n){return Cm(e,n.toLowerCase())}const BE=Cr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:lr,acceptCharset:ie,accessKey:ie,action:null,allow:null,allowFullScreen:$,allowPaymentRequest:$,allowUserMedia:$,alt:null,as:null,async:$,autoCapitalize:null,autoComplete:ie,autoFocus:$,autoPlay:$,blocking:ie,capture:null,charSet:null,checked:$,cite:null,className:ie,cols:L,colSpan:null,content:null,contentEditable:ve,controls:$,controlsList:ie,coords:L|lr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$,defer:$,dir:null,dirName:null,disabled:$,download:Os,draggable:ve,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$,formTarget:null,headers:ie,height:L,hidden:Os,high:L,href:null,hrefLang:null,htmlFor:ie,httpEquiv:ie,id:null,imageSizes:null,imageSrcSet:null,inert:$,inputMode:null,integrity:null,is:null,isMap:$,itemId:null,itemProp:ie,itemRef:ie,itemScope:$,itemType:ie,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$,low:L,manifest:null,max:null,maxLength:L,media:null,method:null,min:null,minLength:L,multiple:$,muted:$,name:null,nonce:null,noModule:$,noValidate:$,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$,optimum:L,pattern:null,ping:ie,placeholder:null,playsInline:$,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:$,referrerPolicy:null,rel:ie,required:$,reversed:$,rows:L,rowSpan:L,sandbox:ie,scope:null,scoped:$,seamless:$,selected:$,shadowRootClonable:$,shadowRootDelegatesFocus:$,shadowRootMode:null,shape:null,size:L,sizes:null,slot:null,span:L,spellCheck:ve,src:null,srcDoc:null,srcLang:null,srcSet:null,start:L,step:null,style:null,tabIndex:L,target:null,title:null,translate:null,type:null,typeMustMatch:$,useMap:null,value:ve,width:L,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ie,axis:null,background:null,bgColor:null,border:L,borderColor:null,bottomMargin:L,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$,declare:$,event:null,face:null,frame:null,frameBorder:null,hSpace:L,leftMargin:L,link:null,longDesc:null,lowSrc:null,marginHeight:L,marginWidth:L,noResize:$,noHref:$,noShade:$,noWrap:$,object:null,profile:null,prompt:null,rev:null,rightMargin:L,rules:null,scheme:null,scrolling:ve,standby:null,summary:null,text:null,topMargin:L,valueType:null,version:null,vAlign:null,vLink:null,vSpace:L,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$,disableRemotePlayback:$,prefix:null,property:null,results:L,security:null,unselectable:null},space:"html",transform:Tm}),HE=Cr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Qe,accentHeight:L,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:L,amplitude:L,arabicForm:null,ascent:L,attributeName:null,attributeType:null,azimuth:L,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:L,by:null,calcMode:null,capHeight:L,className:ie,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:L,diffuseConstant:L,direction:null,display:null,dur:null,divisor:L,dominantBaseline:null,download:$,dx:null,dy:null,edgeMode:null,editable:null,elevation:L,enableBackground:null,end:null,event:null,exponent:L,externalResourcesRequired:null,fill:null,fillOpacity:L,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:lr,g2:lr,glyphName:lr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:L,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:L,horizOriginX:L,horizOriginY:L,id:null,ideographic:L,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:L,k:L,k1:L,k2:L,k3:L,k4:L,kernelMatrix:Qe,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:L,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:L,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:L,overlineThickness:L,paintOrder:null,panose1:null,path:null,pathLength:L,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ie,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:L,pointsAtY:L,pointsAtZ:L,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Qe,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Qe,rev:Qe,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Qe,requiredFeatures:Qe,requiredFonts:Qe,requiredFormats:Qe,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:L,specularExponent:L,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:L,strikethroughThickness:L,string:null,stroke:null,strokeDashArray:Qe,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:L,strokeOpacity:L,strokeWidth:null,style:null,surfaceScale:L,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Qe,tabIndex:L,tableValues:null,target:null,targetX:L,targetY:L,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Qe,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:L,underlineThickness:L,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:L,values:null,vAlphabetic:L,vMathematical:L,vectorEffect:null,vHanging:L,vIdeographic:L,version:null,vertAdvY:L,vertOriginX:L,vertOriginY:L,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:L,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Cm}),_m=Cr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()}}),xm=Cr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Tm}),wm=Cr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()}}),GE={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},qE=/[A-Z]/g,Jc=/-[a-z]/g,OE=/^data[-\w.:]+$/i;function JE(e,n){const t=qs(n);let r=n,i=Ye;if(t in e.normal)return e.property[e.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&OE.test(n)){if(n.charAt(4)==="-"){const o=n.slice(5).replace(Jc,bE);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=n.slice(4);if(!Jc.test(o)){let l=o.replace(qE,$E);l.charAt(0)!=="-"&&(l="-"+l),n="data"+l}}i=ra}return new i(r,n)}function $E(e){return"-"+e.toLowerCase()}function bE(e){return e.charAt(1).toUpperCase()}const WE=Em([Sm,BE,_m,xm,wm],"html"),ia=Em([Sm,HE,_m,xm,wm],"svg");function YE(e){return e.join(" ").trim()}var oa={},$c=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,KE=/\n/g,QE=/^\s*/,XE=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,ZE=/^:\s*/,jE=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,eS=/^[;\s]*/,nS=/^\s+|\s+$/g,tS=`
`,bc="/",Wc="*",Ct="",rS="comment",iS="declaration";function oS(e,n){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];n=n||{};var t=1,r=1;function i(E){var C=E.match(KE);C&&(t+=C.length);var I=E.lastIndexOf(tS);r=~I?E.length-I:r+E.length}function o(){var E={line:t,column:r};return function(C){return C.position=new l(E),f(),C}}function l(E){this.start=E,this.end={line:t,column:r},this.source=n.source}l.prototype.content=e;function s(E){var C=new Error(n.source+":"+t+":"+r+": "+E);if(C.reason=E,C.filename=n.source,C.line=t,C.column=r,C.source=e,!n.silent)throw C}function c(E){var C=E.exec(e);if(C){var I=C[0];return i(I),e=e.slice(I.length),C}}function f(){c(QE)}function d(E){var C;for(E=E||[];C=p();)C!==!1&&E.push(C);return E}function p(){var E=o();if(!(bc!=e.charAt(0)||Wc!=e.charAt(1))){for(var C=2;Ct!=e.charAt(C)&&(Wc!=e.charAt(C)||bc!=e.charAt(C+1));)++C;if(C+=2,Ct===e.charAt(C-1))return s("End of comment missing");var I=e.slice(2,C-2);return r+=2,i(I),e=e.slice(C),r+=2,E({type:rS,comment:I})}}function h(){var E=o(),C=c(XE);if(C){if(p(),!c(ZE))return s("property missing ':'");var I=c(jE),g=E({type:iS,property:Yc(C[0].replace($c,Ct)),value:I?Yc(I[0].replace($c,Ct)):Ct});return c(eS),g}}function m(){var E=[];d(E);for(var C;C=h();)C!==!1&&(E.push(C),d(E));return E}return f(),m()}function Yc(e){return e?e.replace(nS,Ct):Ct}var lS=oS,sS=co&&co.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oa,"__esModule",{value:!0});oa.default=aS;const uS=sS(lS);function aS(e,n){let t=null;if(!e||typeof e!="string")return t;const r=(0,uS.default)(e),i=typeof n=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:l,value:s}=o;i?n(l,s,o):s&&(t=t||{},t[l]=s)}),t}var il={};Object.defineProperty(il,"__esModule",{value:!0});il.camelCase=void 0;var cS=/^--[a-zA-Z0-9_-]+$/,fS=/-([a-z])/g,dS=/^[^-]+$/,pS=/^-(webkit|moz|ms|o|khtml)-/,hS=/^-(ms)-/,mS=function(e){return!e||dS.test(e)||cS.test(e)},gS=function(e,n){return n.toUpperCase()},Kc=function(e,n){return"".concat(n,"-")},yS=function(e,n){return n===void 0&&(n={}),mS(e)?e:(e=e.toLowerCase(),n.reactCompat?e=e.replace(hS,Kc):e=e.replace(pS,Kc),e.replace(fS,gS))};il.camelCase=yS;var vS=co&&co.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},ES=vS(oa),SS=il;function $s(e,n){var t={};return!e||typeof e!="string"||(0,ES.default)(e,function(r,i){r&&i&&(t[(0,SS.camelCase)(r,n)]=i)}),t}$s.default=$s;var CS=$s;const TS=uu(CS),Im=km("end"),la=km("start");function km(e){return n;function n(t){const r=t&&t.position&&t.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function _S(e){const n=la(e),t=Im(e);if(n&&t)return{start:n,end:t}}function Zr(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Qc(e.position):"start"in e||"end"in e?Qc(e):"line"in e||"column"in e?bs(e):""}function bs(e){return Xc(e&&e.line)+":"+Xc(e&&e.column)}function Qc(e){return bs(e&&e.start)+"-"+bs(e&&e.end)}function Xc(e){return e&&typeof e=="number"?e:1}class Fe extends Error{constructor(n,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let i="",o={},l=!1;if(t&&("line"in t&&"column"in t?o={place:t}:"start"in t&&"end"in t?o={place:t}:"type"in t?o={ancestors:[t],place:t.position}:o={...t}),typeof n=="string"?i=n:!o.cause&&n&&(l=!0,i=n.message,o.cause=n),!o.ruleId&&!o.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?o.ruleId=r:(o.source=r.slice(0,c),o.ruleId=r.slice(c+1))}if(!o.place&&o.ancestors&&o.ancestors){const c=o.ancestors[o.ancestors.length-1];c&&(o.place=c.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Zr(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Fe.prototype.file="";Fe.prototype.name="";Fe.prototype.reason="";Fe.prototype.message="";Fe.prototype.stack="";Fe.prototype.column=void 0;Fe.prototype.line=void 0;Fe.prototype.ancestors=void 0;Fe.prototype.cause=void 0;Fe.prototype.fatal=void 0;Fe.prototype.place=void 0;Fe.prototype.ruleId=void 0;Fe.prototype.source=void 0;const sa={}.hasOwnProperty,xS=new Map,wS=/[A-Z]/g,IS=new Set(["table","tbody","thead","tfoot","tr"]),kS=new Set(["td","th"]),Am="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function AS(e,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=n.filePath||void 0;let r;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=US(t,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=FS(t,n.jsx,n.jsxs)}const i={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:r,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?ia:WE,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},o=Pm(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function Pm(e,n,t){if(n.type==="element")return PS(e,n,t);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return NS(e,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return MS(e,n,t);if(n.type==="mdxjsEsm")return RS(e,n);if(n.type==="root")return DS(e,n,t);if(n.type==="text")return LS(e,n)}function PS(e,n,t){const r=e.schema;let i=r;n.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=ia,e.schema=i),e.ancestors.push(n);const o=Rm(e,n.tagName,!1),l=VS(e,n);let s=aa(e,n);return IS.has(n.tagName)&&(s=s.filter(function(c){return typeof c=="string"?!VE(c):!0})),Nm(e,l,o,n),ua(l,s),e.ancestors.pop(),e.schema=r,e.create(n,o,l,t)}function NS(e,n){if(n.data&&n.data.estree&&e.evaluater){const r=n.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ei(e,n.position)}function RS(e,n){if(n.data&&n.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(n.data.estree);Ei(e,n.position)}function MS(e,n,t){const r=e.schema;let i=r;n.name==="svg"&&r.space==="html"&&(i=ia,e.schema=i),e.ancestors.push(n);const o=n.name===null?e.Fragment:Rm(e,n.name,!0),l=zS(e,n),s=aa(e,n);return Nm(e,l,o,n),ua(l,s),e.ancestors.pop(),e.schema=r,e.create(n,o,l,t)}function DS(e,n,t){const r={};return ua(r,aa(e,n)),e.create(n,e.Fragment,r,t)}function LS(e,n){return n.value}function Nm(e,n,t,r){typeof t!="string"&&t!==e.Fragment&&e.passNode&&(n.node=r)}function ua(e,n){if(n.length>0){const t=n.length>1?n:n[0];t&&(e.children=t)}}function FS(e,n,t){return r;function r(i,o,l,s){const f=Array.isArray(l.children)?t:n;return s?f(o,l,s):f(o,l)}}function US(e,n){return t;function t(r,i,o,l){const s=Array.isArray(o.children),c=la(r);return n(i,o,l,s,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function VS(e,n){const t={};let r,i;for(i in n.properties)if(i!=="children"&&sa.call(n.properties,i)){const o=BS(e,i,n.properties[i]);if(o){const[l,s]=o;e.tableCellAlignToStyle&&l==="align"&&typeof s=="string"&&kS.has(n.tagName)?r=s:t[l]=s}}if(r){const o=t.style||(t.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return t}function zS(e,n){const t={};for(const r of n.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const s=l.properties[0];s.type,Object.assign(t,e.evaluater.evaluateExpression(s.argument))}else Ei(e,n.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,o=e.evaluater.evaluateExpression(s.expression)}else Ei(e,n.position);else o=r.value===null?!0:r.value;t[i]=o}return t}function aa(e,n){const t=[];let r=-1;const i=e.passKeys?new Map:xS;for(;++r<n.children.length;){const o=n.children[r];let l;if(e.passKeys){const c=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(c){const f=i.get(c)||0;l=c+"-"+f,i.set(c,f+1)}}const s=Pm(e,o,l);s!==void 0&&t.push(s)}return t}function BS(e,n,t){const r=JE(e.schema,n);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=r.commaSeparated?ME(t):YE(t)),r.property==="style"){let i=typeof t=="object"?t:HS(e,String(t));return e.stylePropertyNameCase==="css"&&(i=GS(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?GE[r.property]||r.property:r.attribute,t]}}function HS(e,n){try{return TS(n,{reactCompat:!0})}catch(t){if(e.ignoreInvalidStyle)return{};const r=t,i=new Fe("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Am+"#cannot-parse-style-attribute",i}}function Rm(e,n,t){let r;if(!t)r={type:"Literal",value:n};else if(n.includes(".")){const i=n.split(".");let o=-1,l;for(;++o<i.length;){const s=Gc(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:s,computed:!!(o&&s.type==="Literal"),optional:!1}:s}r=l}else r=Gc(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(r.type==="Literal"){const i=r.value;return sa.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ei(e)}function Ei(e,n){const t=new Fe("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=e.filePath||void 0,t.url=Am+"#cannot-handle-mdx-estrees-without-createevaluater",t}function GS(e){const n={};let t;for(t in e)sa.call(e,t)&&(n[qS(t)]=e[t]);return n}function qS(e){let n=e.replace(wS,OS);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function OS(e){return"-"+e.toLowerCase()}const Bl={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},JS={};function $S(e,n){const t=JS,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return Mm(e,r,i)}function Mm(e,n,t){if(bS(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Zc(e.children,n,t)}return Array.isArray(e)?Zc(e,n,t):""}function Zc(e,n,t){const r=[];let i=-1;for(;++i<e.length;)r[i]=Mm(e[i],n,t);return r.join("")}function bS(e){return!!(e&&typeof e=="object")}const jc=document.createElement("i");function ca(e){const n="&"+e+";";jc.innerHTML=n;const t=jc.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}function Rn(e,n,t,r){const i=e.length;let o=0,l;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,t=t>0?t:0,r.length<1e4)l=Array.from(r),l.unshift(n,t),e.splice(...l);else for(t&&e.splice(n,t);o<r.length;)l=r.slice(o,o+1e4),l.unshift(n,0),e.splice(...l),o+=1e4,n+=1e4}function sn(e,n){return e.length>0?(Rn(e,e.length,0,n),e):n}const ef={}.hasOwnProperty;function WS(e){const n={};let t=-1;for(;++t<e.length;)YS(n,e[t]);return n}function YS(e,n){let t;for(t in n){const i=(ef.call(e,t)?e[t]:void 0)||(e[t]={}),o=n[t];let l;if(o)for(l in o){ef.call(i,l)||(i[l]=[]);const s=o[l];KS(i[l],Array.isArray(s)?s:s?[s]:[])}}}function KS(e,n){let t=-1;const r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);Rn(e,0,0,r)}function Dm(e,n){const t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function sr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const An=gt(/[A-Za-z]/),je=gt(/[\dA-Za-z]/),QS=gt(/[#-'*+\--9=?A-Z^-~]/);function Ws(e){return e!==null&&(e<32||e===127)}const Ys=gt(/\d/),XS=gt(/[\dA-Fa-f]/),ZS=gt(/[!-/:-@[-`{-~]/);function q(e){return e!==null&&e<-2}function We(e){return e!==null&&(e<0||e===32)}function Z(e){return e===-2||e===-1||e===32}const jS=gt(new RegExp("\\p{P}|\\p{S}","u")),eC=gt(/\s/);function gt(e){return n;function n(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}function Tr(e){const n=[];let t=-1,r=0,i=0;for(;++t<e.length;){const o=e.charCodeAt(t);let l="";if(o===37&&je(e.charCodeAt(t+1))&&je(e.charCodeAt(t+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const s=e.charCodeAt(t+1);o<56320&&s>56319&&s<57344?(l=String.fromCharCode(o,s),i=1):l=""}else l=String.fromCharCode(o);l&&(n.push(e.slice(r,t),encodeURIComponent(l)),r=t+i+1,l=""),i&&(t+=i,i=0)}return n.join("")+e.slice(r)}function le(e,n,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(c){return Z(c)?(e.enter(t),s(c)):n(c)}function s(c){return Z(c)&&o++<i?(e.consume(c),s):(e.exit(t),n(c))}}const nC={tokenize:tC};function tC(e){const n=e.attempt(this.parser.constructs.contentInitial,r,i);let t;return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),le(e,n,"linePrefix")}function i(s){return e.enter("paragraph"),o(s)}function o(s){const c=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=c),t=c,l(s)}function l(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return q(s)?(e.consume(s),e.exit("chunkText"),o):(e.consume(s),l)}}const rC={tokenize:iC},nf={tokenize:oC};function iC(e){const n=this,t=[];let r=0,i,o,l;return s;function s(v){if(r<t.length){const w=t[r];return n.containerState=w[1],e.attempt(w[0].continuation,c,f)(v)}return f(v)}function c(v){if(r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,i&&y();const w=n.events.length;let k=w,_;for(;k--;)if(n.events[k][0]==="exit"&&n.events[k][1].type==="chunkFlow"){_=n.events[k][1].end;break}g(r);let A=w;for(;A<n.events.length;)n.events[A][1].end={..._},A++;return Rn(n.events,k+1,0,n.events.slice(w)),n.events.length=A,f(v)}return s(v)}function f(v){if(r===t.length){if(!i)return h(v);if(i.currentConstruct&&i.currentConstruct.concrete)return E(v);n.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(nf,d,p)(v)}function d(v){return i&&y(),g(r),h(v)}function p(v){return n.parser.lazy[n.now().line]=r!==t.length,l=n.now().offset,E(v)}function h(v){return n.containerState={},e.attempt(nf,m,E)(v)}function m(v){return r++,t.push([n.currentConstruct,n.containerState]),h(v)}function E(v){if(v===null){i&&y(),g(0),e.consume(v);return}return i=i||n.parser.flow(n.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),C(v)}function C(v){if(v===null){I(e.exit("chunkFlow"),!0),g(0),e.consume(v);return}return q(v)?(e.consume(v),I(e.exit("chunkFlow")),r=0,n.interrupt=void 0,s):(e.consume(v),C)}function I(v,w){const k=n.sliceStream(v);if(w&&k.push(null),v.previous=o,o&&(o.next=v),o=v,i.defineSkip(v.start),i.write(k),n.parser.lazy[v.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<l&&(!i.events[_][1].end||i.events[_][1].end.offset>l))return;const A=n.events.length;let M=A,N,D;for(;M--;)if(n.events[M][0]==="exit"&&n.events[M][1].type==="chunkFlow"){if(N){D=n.events[M][1].end;break}N=!0}for(g(r),_=A;_<n.events.length;)n.events[_][1].end={...D},_++;Rn(n.events,M+1,0,n.events.slice(A)),n.events.length=_}}function g(v){let w=t.length;for(;w-- >v;){const k=t[w];n.containerState=k[1],k[0].exit.call(n,e)}t.length=v}function y(){i.write([null]),o=void 0,i=void 0,n.containerState._closeFlow=void 0}}function oC(e,n,t){return le(e,e.attempt(this.parser.constructs.document,n,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function tf(e){if(e===null||We(e)||eC(e))return 1;if(jS(e))return 2}function fa(e,n,t){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(n=o(n,t),r.push(o))}return n}const Ks={name:"attention",resolveAll:lC,tokenize:sC};function lC(e,n){let t=-1,r,i,o,l,s,c,f,d;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const p={...e[r][1].end},h={...e[t][1].start};rf(p,-c),rf(h,c),l={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},s={type:c>1?"strongSequence":"emphasisSequence",start:{...e[t][1].start},end:h},o={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[t][1].start}},i={type:c>1?"strong":"emphasis",start:{...l.start},end:{...s.end}},e[r][1].end={...l.start},e[t][1].start={...s.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=sn(f,[["enter",e[r][1],n],["exit",e[r][1],n]])),f=sn(f,[["enter",i,n],["enter",l,n],["exit",l,n],["enter",o,n]]),f=sn(f,fa(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),f=sn(f,[["exit",o,n],["enter",s,n],["exit",s,n],["exit",i,n]]),e[t][1].end.offset-e[t][1].start.offset?(d=2,f=sn(f,[["enter",e[t][1],n],["exit",e[t][1],n]])):d=0,Rn(e,r-1,t-r+3,f),t=r+f.length-d-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function sC(e,n){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=tf(r);let o;return l;function l(c){return o=c,e.enter("attentionSequence"),s(c)}function s(c){if(c===o)return e.consume(c),s;const f=e.exit("attentionSequence"),d=tf(c),p=!d||d===2&&i||t.includes(c),h=!i||i===2&&d||t.includes(r);return f._open=!!(o===42?p:p&&(i||!h)),f._close=!!(o===42?h:h&&(d||!p)),n(c)}}function rf(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const uC={name:"autolink",tokenize:aC};function aC(e,n,t){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(m){return An(m)?(e.consume(m),l):m===64?t(m):f(m)}function l(m){return m===43||m===45||m===46||je(m)?(r=1,s(m)):f(m)}function s(m){return m===58?(e.consume(m),r=0,c):(m===43||m===45||m===46||je(m))&&r++<32?(e.consume(m),s):(r=0,f(m))}function c(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),n):m===null||m===32||m===60||Ws(m)?t(m):(e.consume(m),c)}function f(m){return m===64?(e.consume(m),d):QS(m)?(e.consume(m),f):t(m)}function d(m){return je(m)?p(m):t(m)}function p(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),n):h(m)}function h(m){if((m===45||je(m))&&r++<63){const E=m===45?h:p;return e.consume(m),E}return t(m)}}const ol={partial:!0,tokenize:cC};function cC(e,n,t){return r;function r(o){return Z(o)?le(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||q(o)?n(o):t(o)}}const Lm={continuation:{tokenize:dC},exit:pC,name:"blockQuote",tokenize:fC};function fC(e,n,t){const r=this;return i;function i(l){if(l===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return t(l)}function o(l){return Z(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(l))}}function dC(e,n,t){const r=this;return i;function i(l){return Z(l)?le(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(Lm,n,t)(l)}}function pC(e){e.exit("blockQuote")}const Fm={name:"characterEscape",tokenize:hC};function hC(e,n,t){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return ZS(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):t(o)}}const Um={name:"characterReference",tokenize:mC};function mC(e,n,t){const r=this;let i=0,o,l;return s;function s(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),c}function c(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),o=31,l=je,d(p))}function f(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=XS,d):(e.enter("characterReferenceValue"),o=7,l=Ys,d(p))}function d(p){if(p===59&&i){const h=e.exit("characterReferenceValue");return l===je&&!ca(r.sliceSerialize(h))?t(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return l(p)&&i++<o?(e.consume(p),d):t(p)}}const of={partial:!0,tokenize:yC},lf={concrete:!0,name:"codeFenced",tokenize:gC};function gC(e,n,t){const r=this,i={partial:!0,tokenize:k};let o=0,l=0,s;return c;function c(_){return f(_)}function f(_){const A=r.events[r.events.length-1];return o=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,s=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(_)}function d(_){return _===s?(l++,e.consume(_),d):l<3?t(_):(e.exit("codeFencedFenceSequence"),Z(_)?le(e,p,"whitespace")(_):p(_))}function p(_){return _===null||q(_)?(e.exit("codeFencedFence"),r.interrupt?n(_):e.check(of,C,w)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(_))}function h(_){return _===null||q(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(_)):Z(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),le(e,m,"whitespace")(_)):_===96&&_===s?t(_):(e.consume(_),h)}function m(_){return _===null||q(_)?p(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),E(_))}function E(_){return _===null||q(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(_)):_===96&&_===s?t(_):(e.consume(_),E)}function C(_){return e.attempt(i,w,I)(_)}function I(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),g}function g(_){return o>0&&Z(_)?le(e,y,"linePrefix",o+1)(_):y(_)}function y(_){return _===null||q(_)?e.check(of,C,w)(_):(e.enter("codeFlowValue"),v(_))}function v(_){return _===null||q(_)?(e.exit("codeFlowValue"),y(_)):(e.consume(_),v)}function w(_){return e.exit("codeFenced"),n(_)}function k(_,A,M){let N=0;return D;function D(b){return _.enter("lineEnding"),_.consume(b),_.exit("lineEnding"),F}function F(b){return _.enter("codeFencedFence"),Z(b)?le(_,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):U(b)}function U(b){return b===s?(_.enter("codeFencedFenceSequence"),J(b)):M(b)}function J(b){return b===s?(N++,_.consume(b),J):N>=l?(_.exit("codeFencedFenceSequence"),Z(b)?le(_,re,"whitespace")(b):re(b)):M(b)}function re(b){return b===null||q(b)?(_.exit("codeFencedFence"),A(b)):M(b)}}}function yC(e,n,t){const r=this;return i;function i(l){return l===null?t(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?t(l):n(l)}}const Hl={name:"codeIndented",tokenize:EC},vC={partial:!0,tokenize:SC};function EC(e,n,t){const r=this;return i;function i(f){return e.enter("codeIndented"),le(e,o,"linePrefix",5)(f)}function o(f){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?l(f):t(f)}function l(f){return f===null?c(f):q(f)?e.attempt(vC,l,c)(f):(e.enter("codeFlowValue"),s(f))}function s(f){return f===null||q(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),s)}function c(f){return e.exit("codeIndented"),n(f)}}function SC(e,n,t){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?t(l):q(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):le(e,o,"linePrefix",5)(l)}function o(l){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?n(l):q(l)?i(l):t(l)}}const CC={name:"codeText",previous:_C,resolve:TC,tokenize:xC};function TC(e){let n=e.length-4,t=3,r,i;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[n][1].type="codeTextPadding",t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)i===void 0?r!==n&&e[r][1].type!=="lineEnding"&&(i=r):(r===n||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),n-=r-i-2,r=i+2),i=void 0);return e}function _C(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function xC(e,n,t){let r=0,i,o;return l;function l(p){return e.enter("codeText"),e.enter("codeTextSequence"),s(p)}function s(p){return p===96?(e.consume(p),r++,s):(e.exit("codeTextSequence"),c(p))}function c(p){return p===null?t(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),c):p===96?(o=e.enter("codeTextSequence"),i=0,d(p)):q(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||q(p)?(e.exit("codeTextData"),c(p)):(e.consume(p),f)}function d(p){return p===96?(e.consume(p),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),n(p)):(o.type="codeTextData",f(p))}}class wC{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,t){const r=t??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(n,r):n>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(n,t,r){const i=t||0;this.setCursor(Math.trunc(n));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ur(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),Ur(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),Ur(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const t=this.left.splice(n,Number.POSITIVE_INFINITY);Ur(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);Ur(this.left,t.reverse())}}}function Ur(e,n){let t=0;if(n.length<1e4)e.push(...n);else for(;t<n.length;)e.push(...n.slice(t,t+1e4)),t+=1e4}function Vm(e){const n={};let t=-1,r,i,o,l,s,c,f;const d=new wC(e);for(;++t<d.length;){for(;t in n;)t=n[t];if(r=d.get(t),t&&r[1].type==="chunkFlow"&&d.get(t-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,o=0,o<c.length&&c[o][1].type==="lineEndingBlank"&&(o+=2),o<c.length&&c[o][1].type==="content"))for(;++o<c.length&&c[o][1].type!=="content";)c[o][1].type==="chunkText"&&(c[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,IC(d,t)),t=n[t],f=!0);else if(r[1]._container){for(o=t,i=void 0;o--;)if(l=d.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},s=d.slice(i,t),s.unshift(r),d.splice(i,t-i+1,s))}}return Rn(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!f}function IC(e,n){const t=e.get(n)[1],r=e.get(n)[2];let i=n-1;const o=[];let l=t._tokenizer;l||(l=r.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const s=l.events,c=[],f={};let d,p,h=-1,m=t,E=0,C=0;const I=[C];for(;m;){for(;e.get(++i)[1]!==m;);o.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),p&&l.defineSkip(m.start),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(d),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=m,m=m.next}for(m=t;++h<s.length;)s[h][0]==="exit"&&s[h-1][0]==="enter"&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(C=h+1,I.push(C),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(l.events=[],m?(m._tokenizer=void 0,m.previous=void 0):I.pop(),h=I.length;h--;){const g=s.slice(I[h],I[h+1]),y=o.pop();c.push([y,y+g.length-1]),e.splice(y,2,g)}for(c.reverse(),h=-1;++h<c.length;)f[E+c[h][0]]=E+c[h][1],E+=c[h][1]-c[h][0]-1;return f}const kC={resolve:PC,tokenize:NC},AC={partial:!0,tokenize:RC};function PC(e){return Vm(e),e}function NC(e,n){let t;return r;function r(s){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):q(s)?e.check(AC,l,o)(s):(e.consume(s),i)}function o(s){return e.exit("chunkContent"),e.exit("content"),n(s)}function l(s){return e.consume(s),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function RC(e,n,t){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),le(e,o,"linePrefix")}function o(l){if(l===null||q(l))return t(l);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?n(l):e.interrupt(r.parser.constructs.flow,t,n)(l)}}function zm(e,n,t,r,i,o,l,s,c){const f=c||Number.POSITIVE_INFINITY;let d=0;return p;function p(g){return g===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(g),e.exit(o),h):g===null||g===32||g===41||Ws(g)?t(g):(e.enter(r),e.enter(l),e.enter(s),e.enter("chunkString",{contentType:"string"}),C(g))}function h(g){return g===62?(e.enter(o),e.consume(g),e.exit(o),e.exit(i),e.exit(r),n):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===62?(e.exit("chunkString"),e.exit(s),h(g)):g===null||g===60||q(g)?t(g):(e.consume(g),g===92?E:m)}function E(g){return g===60||g===62||g===92?(e.consume(g),m):m(g)}function C(g){return!d&&(g===null||g===41||We(g))?(e.exit("chunkString"),e.exit(s),e.exit(l),e.exit(r),n(g)):d<f&&g===40?(e.consume(g),d++,C):g===41?(e.consume(g),d--,C):g===null||g===32||g===40||Ws(g)?t(g):(e.consume(g),g===92?I:C)}function I(g){return g===40||g===41||g===92?(e.consume(g),C):C(g)}}function Bm(e,n,t,r,i,o){const l=this;let s=0,c;return f;function f(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(o),d}function d(m){return s>999||m===null||m===91||m===93&&!c||m===94&&!s&&"_hiddenFootnoteSupport"in l.parser.constructs?t(m):m===93?(e.exit(o),e.enter(i),e.consume(m),e.exit(i),e.exit(r),n):q(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===null||m===91||m===93||q(m)||s++>999?(e.exit("chunkString"),d(m)):(e.consume(m),c||(c=!Z(m)),m===92?h:p)}function h(m){return m===91||m===92||m===93?(e.consume(m),s++,p):p(m)}}function Hm(e,n,t,r,i,o){let l;return s;function s(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),l=h===40?41:h,c):t(h)}function c(h){return h===l?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),n):(e.enter(o),f(h))}function f(h){return h===l?(e.exit(o),c(l)):h===null?t(h):q(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),le(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===l||h===null||q(h)?(e.exit("chunkString"),f(h)):(e.consume(h),h===92?p:d)}function p(h){return h===l||h===92?(e.consume(h),d):d(h)}}function jr(e,n){let t;return r;function r(i){return q(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t=!0,r):Z(i)?le(e,r,t?"linePrefix":"lineSuffix")(i):n(i)}}const MC={name:"definition",tokenize:LC},DC={partial:!0,tokenize:FC};function LC(e,n,t){const r=this;let i;return o;function o(m){return e.enter("definition"),l(m)}function l(m){return Bm.call(r,e,s,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return i=sr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),c):t(m)}function c(m){return We(m)?jr(e,f)(m):f(m)}function f(m){return zm(e,d,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(DC,p,p)(m)}function p(m){return Z(m)?le(e,h,"whitespace")(m):h(m)}function h(m){return m===null||q(m)?(e.exit("definition"),r.parser.defined.push(i),n(m)):t(m)}}function FC(e,n,t){return r;function r(s){return We(s)?jr(e,i)(s):t(s)}function i(s){return Hm(e,o,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return Z(s)?le(e,l,"whitespace")(s):l(s)}function l(s){return s===null||q(s)?n(s):t(s)}}const UC={name:"hardBreakEscape",tokenize:VC};function VC(e,n,t){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return q(o)?(e.exit("hardBreakEscape"),n(o)):t(o)}}const zC={name:"headingAtx",resolve:BC,tokenize:HC};function BC(e,n){let t=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),t-2>r&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&e[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[t][1].end},o={type:"chunkText",start:e[r][1].start,end:e[t][1].end,contentType:"text"},Rn(e,r,t-r+1,[["enter",i,n],["enter",o,n],["exit",o,n],["exit",i,n]])),e}function HC(e,n,t){let r=0;return i;function i(d){return e.enter("atxHeading"),o(d)}function o(d){return e.enter("atxHeadingSequence"),l(d)}function l(d){return d===35&&r++<6?(e.consume(d),l):d===null||We(d)?(e.exit("atxHeadingSequence"),s(d)):t(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||q(d)?(e.exit("atxHeading"),n(d)):Z(d)?le(e,s,"whitespace")(d):(e.enter("atxHeadingText"),f(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),s(d))}function f(d){return d===null||d===35||We(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),f)}}const GC=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],sf=["pre","script","style","textarea"],qC={concrete:!0,name:"htmlFlow",resolveTo:$C,tokenize:bC},OC={partial:!0,tokenize:YC},JC={partial:!0,tokenize:WC};function $C(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function bC(e,n,t){const r=this;let i,o,l,s,c;return f;function f(T){return d(T)}function d(T){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(T),p}function p(T){return T===33?(e.consume(T),h):T===47?(e.consume(T),o=!0,C):T===63?(e.consume(T),i=3,r.interrupt?n:S):An(T)?(e.consume(T),l=String.fromCharCode(T),I):t(T)}function h(T){return T===45?(e.consume(T),i=2,m):T===91?(e.consume(T),i=5,s=0,E):An(T)?(e.consume(T),i=4,r.interrupt?n:S):t(T)}function m(T){return T===45?(e.consume(T),r.interrupt?n:S):t(T)}function E(T){const Ce="CDATA[";return T===Ce.charCodeAt(s++)?(e.consume(T),s===Ce.length?r.interrupt?n:U:E):t(T)}function C(T){return An(T)?(e.consume(T),l=String.fromCharCode(T),I):t(T)}function I(T){if(T===null||T===47||T===62||We(T)){const Ce=T===47,pn=l.toLowerCase();return!Ce&&!o&&sf.includes(pn)?(i=1,r.interrupt?n(T):U(T)):GC.includes(l.toLowerCase())?(i=6,Ce?(e.consume(T),g):r.interrupt?n(T):U(T)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(T):o?y(T):v(T))}return T===45||je(T)?(e.consume(T),l+=String.fromCharCode(T),I):t(T)}function g(T){return T===62?(e.consume(T),r.interrupt?n:U):t(T)}function y(T){return Z(T)?(e.consume(T),y):D(T)}function v(T){return T===47?(e.consume(T),D):T===58||T===95||An(T)?(e.consume(T),w):Z(T)?(e.consume(T),v):D(T)}function w(T){return T===45||T===46||T===58||T===95||je(T)?(e.consume(T),w):k(T)}function k(T){return T===61?(e.consume(T),_):Z(T)?(e.consume(T),k):v(T)}function _(T){return T===null||T===60||T===61||T===62||T===96?t(T):T===34||T===39?(e.consume(T),c=T,A):Z(T)?(e.consume(T),_):M(T)}function A(T){return T===c?(e.consume(T),c=null,N):T===null||q(T)?t(T):(e.consume(T),A)}function M(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||We(T)?k(T):(e.consume(T),M)}function N(T){return T===47||T===62||Z(T)?v(T):t(T)}function D(T){return T===62?(e.consume(T),F):t(T)}function F(T){return T===null||q(T)?U(T):Z(T)?(e.consume(T),F):t(T)}function U(T){return T===45&&i===2?(e.consume(T),j):T===60&&i===1?(e.consume(T),se):T===62&&i===4?(e.consume(T),K):T===63&&i===3?(e.consume(T),S):T===93&&i===5?(e.consume(T),G):q(T)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(OC,ne,J)(T)):T===null||q(T)?(e.exit("htmlFlowData"),J(T)):(e.consume(T),U)}function J(T){return e.check(JC,re,ne)(T)}function re(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),b}function b(T){return T===null||q(T)?J(T):(e.enter("htmlFlowData"),U(T))}function j(T){return T===45?(e.consume(T),S):U(T)}function se(T){return T===47?(e.consume(T),l="",z):U(T)}function z(T){if(T===62){const Ce=l.toLowerCase();return sf.includes(Ce)?(e.consume(T),K):U(T)}return An(T)&&l.length<8?(e.consume(T),l+=String.fromCharCode(T),z):U(T)}function G(T){return T===93?(e.consume(T),S):U(T)}function S(T){return T===62?(e.consume(T),K):T===45&&i===2?(e.consume(T),S):U(T)}function K(T){return T===null||q(T)?(e.exit("htmlFlowData"),ne(T)):(e.consume(T),K)}function ne(T){return e.exit("htmlFlow"),n(T)}}function WC(e,n,t){const r=this;return i;function i(l){return q(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):t(l)}function o(l){return r.parser.lazy[r.now().line]?t(l):n(l)}}function YC(e,n,t){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(ol,n,t)}}const KC={name:"htmlText",tokenize:QC};function QC(e,n,t){const r=this;let i,o,l;return s;function s(S){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(S),c}function c(S){return S===33?(e.consume(S),f):S===47?(e.consume(S),k):S===63?(e.consume(S),v):An(S)?(e.consume(S),M):t(S)}function f(S){return S===45?(e.consume(S),d):S===91?(e.consume(S),o=0,E):An(S)?(e.consume(S),y):t(S)}function d(S){return S===45?(e.consume(S),m):t(S)}function p(S){return S===null?t(S):S===45?(e.consume(S),h):q(S)?(l=p,se(S)):(e.consume(S),p)}function h(S){return S===45?(e.consume(S),m):p(S)}function m(S){return S===62?j(S):S===45?h(S):p(S)}function E(S){const K="CDATA[";return S===K.charCodeAt(o++)?(e.consume(S),o===K.length?C:E):t(S)}function C(S){return S===null?t(S):S===93?(e.consume(S),I):q(S)?(l=C,se(S)):(e.consume(S),C)}function I(S){return S===93?(e.consume(S),g):C(S)}function g(S){return S===62?j(S):S===93?(e.consume(S),g):C(S)}function y(S){return S===null||S===62?j(S):q(S)?(l=y,se(S)):(e.consume(S),y)}function v(S){return S===null?t(S):S===63?(e.consume(S),w):q(S)?(l=v,se(S)):(e.consume(S),v)}function w(S){return S===62?j(S):v(S)}function k(S){return An(S)?(e.consume(S),_):t(S)}function _(S){return S===45||je(S)?(e.consume(S),_):A(S)}function A(S){return q(S)?(l=A,se(S)):Z(S)?(e.consume(S),A):j(S)}function M(S){return S===45||je(S)?(e.consume(S),M):S===47||S===62||We(S)?N(S):t(S)}function N(S){return S===47?(e.consume(S),j):S===58||S===95||An(S)?(e.consume(S),D):q(S)?(l=N,se(S)):Z(S)?(e.consume(S),N):j(S)}function D(S){return S===45||S===46||S===58||S===95||je(S)?(e.consume(S),D):F(S)}function F(S){return S===61?(e.consume(S),U):q(S)?(l=F,se(S)):Z(S)?(e.consume(S),F):N(S)}function U(S){return S===null||S===60||S===61||S===62||S===96?t(S):S===34||S===39?(e.consume(S),i=S,J):q(S)?(l=U,se(S)):Z(S)?(e.consume(S),U):(e.consume(S),re)}function J(S){return S===i?(e.consume(S),i=void 0,b):S===null?t(S):q(S)?(l=J,se(S)):(e.consume(S),J)}function re(S){return S===null||S===34||S===39||S===60||S===61||S===96?t(S):S===47||S===62||We(S)?N(S):(e.consume(S),re)}function b(S){return S===47||S===62||We(S)?N(S):t(S)}function j(S){return S===62?(e.consume(S),e.exit("htmlTextData"),e.exit("htmlText"),n):t(S)}function se(S){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),z}function z(S){return Z(S)?le(e,G,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):G(S)}function G(S){return e.enter("htmlTextData"),l(S)}}const da={name:"labelEnd",resolveAll:eT,resolveTo:nT,tokenize:tT},XC={tokenize:rT},ZC={tokenize:iT},jC={tokenize:oT};function eT(e){let n=-1;const t=[];for(;++n<e.length;){const r=e[n][1];if(t.push(e[n]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",n+=i}}return e.length!==t.length&&Rn(e,0,e.length,t),e}function nT(e,n){let t=e.length,r=0,i,o,l,s;for(;t--;)if(i=e[t][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=t);const c={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},d={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[l-2][1].start}};return s=[["enter",c,n],["enter",f,n]],s=sn(s,e.slice(o+1,o+r+3)),s=sn(s,[["enter",d,n]]),s=sn(s,fa(n.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),n)),s=sn(s,[["exit",d,n],e[l-2],e[l-1],["exit",f,n]]),s=sn(s,e.slice(l+1)),s=sn(s,[["exit",c,n]]),Rn(e,o,e.length,s),e}function tT(e,n,t){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(h){return o?o._inactive?p(h):(l=r.parser.defined.includes(sr(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):t(h)}function c(h){return h===40?e.attempt(XC,d,l?d:p)(h):h===91?e.attempt(ZC,d,l?f:p)(h):l?d(h):p(h)}function f(h){return e.attempt(jC,d,p)(h)}function d(h){return n(h)}function p(h){return o._balanced=!0,t(h)}}function rT(e,n,t){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return We(p)?jr(e,o)(p):o(p)}function o(p){return p===41?d(p):zm(e,l,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return We(p)?jr(e,c)(p):d(p)}function s(p){return t(p)}function c(p){return p===34||p===39||p===40?Hm(e,f,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):d(p)}function f(p){return We(p)?jr(e,d)(p):d(p)}function d(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),n):t(p)}}function iT(e,n,t){const r=this;return i;function i(s){return Bm.call(r,e,o,l,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(sr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(s):t(s)}function l(s){return t(s)}}function oT(e,n,t){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),n):t(o)}}const lT={name:"labelStartImage",resolveAll:da.resolveAll,tokenize:sT};function sT(e,n,t){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),o}function o(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),l):t(s)}function l(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(s):n(s)}}const uT={name:"labelStartLink",resolveAll:da.resolveAll,tokenize:aT};function aT(e,n,t){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):n(l)}}const Gl={name:"lineEnding",tokenize:cT};function cT(e,n){return t;function t(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),le(e,n,"linePrefix")}}const lo={name:"thematicBreak",tokenize:fT};function fT(e,n,t){let r=0,i;return o;function o(f){return e.enter("thematicBreak"),l(f)}function l(f){return i=f,s(f)}function s(f){return f===i?(e.enter("thematicBreakSequence"),c(f)):r>=3&&(f===null||q(f))?(e.exit("thematicBreak"),n(f)):t(f)}function c(f){return f===i?(e.consume(f),r++,c):(e.exit("thematicBreakSequence"),Z(f)?le(e,s,"whitespace")(f):s(f))}}const Ge={continuation:{tokenize:mT},exit:yT,name:"list",tokenize:hT},dT={partial:!0,tokenize:vT},pT={partial:!0,tokenize:gT};function hT(e,n,t){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return s;function s(m){const E=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Ys(m)){if(r.containerState.type||(r.containerState.type=E,e.enter(E,{_container:!0})),E==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(lo,t,f)(m):f(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(m)}return t(m)}function c(m){return Ys(m)&&++l<10?(e.consume(m),c):(!r.interrupt||l<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),f(m)):t(m)}function f(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(ol,r.interrupt?t:d,e.attempt(dT,h,p))}function d(m){return r.containerState.initialBlankLine=!0,o++,h(m)}function p(m){return Z(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):t(m)}function h(m){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(m)}}function mT(e,n,t){const r=this;return r.containerState._closeFlow=void 0,e.check(ol,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,le(e,n,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!Z(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(pT,n,l)(s))}function l(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,le(e,e.attempt(Ge,n,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function gT(e,n,t){const r=this;return le(e,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?n(o):t(o)}}function yT(e){e.exit(this.containerState.type)}function vT(e,n,t){const r=this;return le(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=r.events[r.events.length-1];return!Z(o)&&l&&l[1].type==="listItemPrefixWhitespace"?n(o):t(o)}}const uf={name:"setextUnderline",resolveTo:ET,tokenize:ST};function ET(e,n){let t=e.length,r,i,o;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){r=t;break}e[t][1].type==="paragraph"&&(i=t)}else e[t][1].type==="content"&&e.splice(t,1),!o&&e[t][1].type==="definition"&&(o=t);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",l,n]),e.splice(o+1,0,["exit",e[r][1],n]),e[r][1].end={...e[o][1].end}):e[r][1]=l,e.push(["exit",l,n]),e}function ST(e,n,t){const r=this;let i;return o;function o(f){let d=r.events.length,p;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){p=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=f,l(f)):t(f)}function l(f){return e.enter("setextHeadingLineSequence"),s(f)}function s(f){return f===i?(e.consume(f),s):(e.exit("setextHeadingLineSequence"),Z(f)?le(e,c,"lineSuffix")(f):c(f))}function c(f){return f===null||q(f)?(e.exit("setextHeadingLine"),n(f)):t(f)}}const CT={tokenize:TT};function TT(e){const n=this,t=e.attempt(ol,r,e.attempt(this.parser.constructs.flowInitial,i,le(e,e.attempt(this.parser.constructs.flow,i,e.attempt(kC,i)),"linePrefix")));return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),n.currentConstruct=void 0,t}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n.currentConstruct=void 0,t}}const _T={resolveAll:qm()},xT=Gm("string"),wT=Gm("text");function Gm(e){return{resolveAll:qm(e==="text"?IT:void 0),tokenize:n};function n(t){const r=this,i=this.parser.constructs[e],o=t.attempt(i,l,s);return l;function l(d){return f(d)?o(d):s(d)}function s(d){if(d===null){t.consume(d);return}return t.enter("data"),t.consume(d),c}function c(d){return f(d)?(t.exit("data"),o(d)):(t.consume(d),c)}function f(d){if(d===null)return!0;const p=i[d];let h=-1;if(p)for(;++h<p.length;){const m=p[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function qm(e){return n;function n(t,r){let i=-1,o;for(;++i<=t.length;)o===void 0?t[i]&&t[i][1].type==="data"&&(o=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==o+2&&(t[o][1].end=t[i-1][1].end,t.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(t,r):t}}function IT(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){const r=e[t-1][1],i=n.sliceStream(r);let o=i.length,l=-1,s=0,c;for(;o--;){const f=i[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)s++,l--;if(l)break;l=-1}else if(f===-2)c=!0,s++;else if(f!==-1){o++;break}}if(n._contentTypeTextTrailing&&t===e.length&&(s=0),s){const f={type:t===e.length||c||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(t,0,["enter",f,n],["exit",f,n]),t+=2)}t++}return e}const kT={42:Ge,43:Ge,45:Ge,48:Ge,49:Ge,50:Ge,51:Ge,52:Ge,53:Ge,54:Ge,55:Ge,56:Ge,57:Ge,62:Lm},AT={91:MC},PT={[-2]:Hl,[-1]:Hl,32:Hl},NT={35:zC,42:lo,45:[uf,lo],60:qC,61:uf,95:lo,96:lf,126:lf},RT={38:Um,92:Fm},MT={[-5]:Gl,[-4]:Gl,[-3]:Gl,33:lT,38:Um,42:Ks,60:[uC,KC],91:uT,92:[UC,Fm],93:da,95:Ks,96:CC},DT={null:[Ks,_T]},LT={null:[42,95]},FT={null:[]},UT=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:LT,contentInitial:AT,disable:FT,document:kT,flow:NT,flowInitial:PT,insideSpan:DT,string:RT,text:MT},Symbol.toStringTag,{value:"Module"}));function VT(e,n,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const i={},o=[];let l=[],s=[];const c={attempt:A(k),check:A(_),consume:y,enter:v,exit:w,interrupt:A(_,{interrupt:!0})},f={code:null,containerState:{},defineSkip:C,events:[],now:E,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:p};let d=n.tokenize.call(f,c);return n.resolveAll&&o.push(n),f;function p(F){return l=sn(l,F),I(),l[l.length-1]!==null?[]:(M(n,0),f.events=fa(o,f.events,f),f.events)}function h(F,U){return BT(m(F),U)}function m(F){return zT(l,F)}function E(){const{_bufferIndex:F,_index:U,line:J,column:re,offset:b}=r;return{_bufferIndex:F,_index:U,line:J,column:re,offset:b}}function C(F){i[F.line]=F.column,D()}function I(){let F;for(;r._index<l.length;){const U=l[r._index];if(typeof U=="string")for(F=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===F&&r._bufferIndex<U.length;)g(U.charCodeAt(r._bufferIndex));else g(U)}}function g(F){d=d(F)}function y(F){q(F)?(r.line++,r.column=1,r.offset+=F===-3?2:1,D()):F!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=F}function v(F,U){const J=U||{};return J.type=F,J.start=E(),f.events.push(["enter",J,f]),s.push(J),J}function w(F){const U=s.pop();return U.end=E(),f.events.push(["exit",U,f]),U}function k(F,U){M(F,U.from)}function _(F,U){U.restore()}function A(F,U){return J;function J(re,b,j){let se,z,G,S;return Array.isArray(re)?ne(re):"tokenize"in re?ne([re]):K(re);function K(ue){return _n;function _n(Wn){const Ut=Wn!==null&&ue[Wn],Vt=Wn!==null&&ue.null,ki=[...Array.isArray(Ut)?Ut:Ut?[Ut]:[],...Array.isArray(Vt)?Vt:Vt?[Vt]:[]];return ne(ki)(Wn)}}function ne(ue){return se=ue,z=0,ue.length===0?j:T(ue[z])}function T(ue){return _n;function _n(Wn){return S=N(),G=ue,ue.partial||(f.currentConstruct=ue),ue.name&&f.parser.constructs.disable.null.includes(ue.name)?pn():ue.tokenize.call(U?Object.assign(Object.create(f),U):f,c,Ce,pn)(Wn)}}function Ce(ue){return F(G,S),b}function pn(ue){return S.restore(),++z<se.length?T(se[z]):j}}}function M(F,U){F.resolveAll&&!o.includes(F)&&o.push(F),F.resolve&&Rn(f.events,U,f.events.length-U,F.resolve(f.events.slice(U),f)),F.resolveTo&&(f.events=F.resolveTo(f.events,f))}function N(){const F=E(),U=f.previous,J=f.currentConstruct,re=f.events.length,b=Array.from(s);return{from:re,restore:j};function j(){r=F,f.previous=U,f.currentConstruct=J,f.events.length=re,s=b,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function zT(e,n){const t=n.start._index,r=n.start._bufferIndex,i=n.end._index,o=n.end._bufferIndex;let l;if(t===i)l=[e[t].slice(r,o)];else{if(l=e.slice(t,i),r>-1){const s=l[0];typeof s=="string"?l[0]=s.slice(r):l.shift()}o>0&&l.push(e[i].slice(0,o))}return l}function BT(e,n){let t=-1;const r=[];let i;for(;++t<e.length;){const o=e[t];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=n?" ":"	";break}case-1:{if(!n&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function HT(e){const r={constructs:WS([UT,...(e||{}).extensions||[]]),content:i(nC),defined:[],document:i(rC),flow:i(CT),lazy:{},string:i(xT),text:i(wT)};return r;function i(o){return l;function l(s){return VT(r,o,s)}}}function GT(e){for(;!Vm(e););return e}const af=/[\0\t\n\r]/g;function qT(){let e=1,n="",t=!0,r;return i;function i(o,l,s){const c=[];let f,d,p,h,m;for(o=n+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),p=0,n="",t&&(o.charCodeAt(0)===65279&&p++,t=void 0);p<o.length;){if(af.lastIndex=p,f=af.exec(o),h=f&&f.index!==void 0?f.index:o.length,m=o.charCodeAt(h),!f){n=o.slice(p);break}if(m===10&&p===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<h&&(c.push(o.slice(p,h)),e+=h-p),m){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}p=h+1}return s&&(r&&c.push(-5),n&&c.push(n),c.push(null)),c}}const OT=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function JT(e){return e.replace(OT,$T)}function $T(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),o=i===120||i===88;return Dm(t.slice(o?2:1),o?16:10)}return ca(t)||e}const Om={}.hasOwnProperty;function bT(e,n,t){return typeof n!="string"&&(t=n,n=void 0),WT(t)(GT(HT(t).document().write(qT()(e,n,!0))))}function WT(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Pa),autolinkProtocol:N,autolinkEmail:N,atxHeading:o(Ia),blockQuote:o(Vt),characterEscape:N,characterReference:N,codeFenced:o(ki),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(ki,l),codeText:o(Ag,l),codeTextData:N,data:N,codeFlowValue:N,definition:o(Pg),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(Ng),hardBreakEscape:o(ka),hardBreakTrailing:o(ka),htmlFlow:o(Aa,l),htmlFlowData:N,htmlText:o(Aa,l),htmlTextData:N,image:o(Rg),label:l,link:o(Pa),listItem:o(Mg),listItemValue:h,listOrdered:o(Na,p),listUnordered:o(Na),paragraph:o(Dg),reference:T,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(Ia),strong:o(Lg),thematicBreak:o(Ug)},exit:{atxHeading:c(),atxHeadingSequence:k,autolink:c(),autolinkEmail:Ut,autolinkProtocol:Wn,blockQuote:c(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:pn,characterReferenceMarkerNumeric:pn,characterReferenceValue:ue,characterReference:_n,codeFenced:c(I),codeFencedFence:C,codeFencedFenceInfo:m,codeFencedFenceMeta:E,codeFlowValue:D,codeIndented:c(g),codeText:c(b),codeTextData:D,data:D,definition:c(),definitionDestinationString:w,definitionLabelString:y,definitionTitleString:v,emphasis:c(),hardBreakEscape:c(U),hardBreakTrailing:c(U),htmlFlow:c(J),htmlFlowData:D,htmlText:c(re),htmlTextData:D,image:c(se),label:G,labelText:z,lineEnding:F,link:c(j),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Ce,resourceDestinationString:S,resourceTitleString:K,resource:ne,setextHeading:c(M),setextHeadingLineSequence:A,setextHeadingText:_,strong:c(),thematicBreak:c()}};Jm(n,(e||{}).mdastExtensions||[]);const t={};return r;function r(P){let V={type:"root",children:[]};const O={stack:[V],tokenStack:[],config:n,enter:s,exit:f,buffer:l,resume:d,data:t},Y=[];let te=-1;for(;++te<P.length;)if(P[te][1].type==="listOrdered"||P[te][1].type==="listUnordered")if(P[te][0]==="enter")Y.push(te);else{const hn=Y.pop();te=i(P,hn,te)}for(te=-1;++te<P.length;){const hn=n[P[te][0]];Om.call(hn,P[te][1].type)&&hn[P[te][1].type].call(Object.assign({sliceSerialize:P[te][2].sliceSerialize},O),P[te][1])}if(O.tokenStack.length>0){const hn=O.tokenStack[O.tokenStack.length-1];(hn[1]||cf).call(O,void 0,hn[0])}for(V.position={start:Kn(P.length>0?P[0][1].start:{line:1,column:1,offset:0}),end:Kn(P.length>0?P[P.length-2][1].end:{line:1,column:1,offset:0})},te=-1;++te<n.transforms.length;)V=n.transforms[te](V)||V;return V}function i(P,V,O){let Y=V-1,te=-1,hn=!1,vt,Mn,Ir,kr;for(;++Y<=O;){const Ke=P[Y];switch(Ke[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ke[0]==="enter"?te++:te--,kr=void 0;break}case"lineEndingBlank":{Ke[0]==="enter"&&(vt&&!kr&&!te&&!Ir&&(Ir=Y),kr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:kr=void 0}if(!te&&Ke[0]==="enter"&&Ke[1].type==="listItemPrefix"||te===-1&&Ke[0]==="exit"&&(Ke[1].type==="listUnordered"||Ke[1].type==="listOrdered")){if(vt){let zt=Y;for(Mn=void 0;zt--;){const Dn=P[zt];if(Dn[1].type==="lineEnding"||Dn[1].type==="lineEndingBlank"){if(Dn[0]==="exit")continue;Mn&&(P[Mn][1].type="lineEndingBlank",hn=!0),Dn[1].type="lineEnding",Mn=zt}else if(!(Dn[1].type==="linePrefix"||Dn[1].type==="blockQuotePrefix"||Dn[1].type==="blockQuotePrefixWhitespace"||Dn[1].type==="blockQuoteMarker"||Dn[1].type==="listItemIndent"))break}Ir&&(!Mn||Ir<Mn)&&(vt._spread=!0),vt.end=Object.assign({},Mn?P[Mn][1].start:Ke[1].end),P.splice(Mn||Y,0,["exit",vt,Ke[2]]),Y++,O++}if(Ke[1].type==="listItemPrefix"){const zt={type:"listItem",_spread:!1,start:Object.assign({},Ke[1].start),end:void 0};vt=zt,P.splice(Y,0,["enter",zt,Ke[2]]),Y++,O++,Ir=void 0,kr=!0}}}return P[V][1]._spread=hn,O}function o(P,V){return O;function O(Y){s.call(this,P(Y),Y),V&&V.call(this,Y)}}function l(){this.stack.push({type:"fragment",children:[]})}function s(P,V,O){this.stack[this.stack.length-1].children.push(P),this.stack.push(P),this.tokenStack.push([V,O||void 0]),P.position={start:Kn(V.start),end:void 0}}function c(P){return V;function V(O){P&&P.call(this,O),f.call(this,O)}}function f(P,V){const O=this.stack.pop(),Y=this.tokenStack.pop();if(Y)Y[0].type!==P.type&&(V?V.call(this,P,Y[0]):(Y[1]||cf).call(this,P,Y[0]));else throw new Error("Cannot close `"+P.type+"` ("+Zr({start:P.start,end:P.end})+"): its not open");O.position.end=Kn(P.end)}function d(){return $S(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function h(P){if(this.data.expectingFirstListItemValue){const V=this.stack[this.stack.length-2];V.start=Number.parseInt(this.sliceSerialize(P),10),this.data.expectingFirstListItemValue=void 0}}function m(){const P=this.resume(),V=this.stack[this.stack.length-1];V.lang=P}function E(){const P=this.resume(),V=this.stack[this.stack.length-1];V.meta=P}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function I(){const P=this.resume(),V=this.stack[this.stack.length-1];V.value=P.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const P=this.resume(),V=this.stack[this.stack.length-1];V.value=P.replace(/(\r?\n|\r)$/g,"")}function y(P){const V=this.resume(),O=this.stack[this.stack.length-1];O.label=V,O.identifier=sr(this.sliceSerialize(P)).toLowerCase()}function v(){const P=this.resume(),V=this.stack[this.stack.length-1];V.title=P}function w(){const P=this.resume(),V=this.stack[this.stack.length-1];V.url=P}function k(P){const V=this.stack[this.stack.length-1];if(!V.depth){const O=this.sliceSerialize(P).length;V.depth=O}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function A(P){const V=this.stack[this.stack.length-1];V.depth=this.sliceSerialize(P).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function N(P){const O=this.stack[this.stack.length-1].children;let Y=O[O.length-1];(!Y||Y.type!=="text")&&(Y=Fg(),Y.position={start:Kn(P.start),end:void 0},O.push(Y)),this.stack.push(Y)}function D(P){const V=this.stack.pop();V.value+=this.sliceSerialize(P),V.position.end=Kn(P.end)}function F(P){const V=this.stack[this.stack.length-1];if(this.data.atHardBreak){const O=V.children[V.children.length-1];O.position.end=Kn(P.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(V.type)&&(N.call(this,P),D.call(this,P))}function U(){this.data.atHardBreak=!0}function J(){const P=this.resume(),V=this.stack[this.stack.length-1];V.value=P}function re(){const P=this.resume(),V=this.stack[this.stack.length-1];V.value=P}function b(){const P=this.resume(),V=this.stack[this.stack.length-1];V.value=P}function j(){const P=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";P.type+="Reference",P.referenceType=V,delete P.url,delete P.title}else delete P.identifier,delete P.label;this.data.referenceType=void 0}function se(){const P=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";P.type+="Reference",P.referenceType=V,delete P.url,delete P.title}else delete P.identifier,delete P.label;this.data.referenceType=void 0}function z(P){const V=this.sliceSerialize(P),O=this.stack[this.stack.length-2];O.label=JT(V),O.identifier=sr(V).toLowerCase()}function G(){const P=this.stack[this.stack.length-1],V=this.resume(),O=this.stack[this.stack.length-1];if(this.data.inReference=!0,O.type==="link"){const Y=P.children;O.children=Y}else O.alt=V}function S(){const P=this.resume(),V=this.stack[this.stack.length-1];V.url=P}function K(){const P=this.resume(),V=this.stack[this.stack.length-1];V.title=P}function ne(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function Ce(P){const V=this.resume(),O=this.stack[this.stack.length-1];O.label=V,O.identifier=sr(this.sliceSerialize(P)).toLowerCase(),this.data.referenceType="full"}function pn(P){this.data.characterReferenceType=P.type}function ue(P){const V=this.sliceSerialize(P),O=this.data.characterReferenceType;let Y;O?(Y=Dm(V,O==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Y=ca(V);const te=this.stack[this.stack.length-1];te.value+=Y}function _n(P){const V=this.stack.pop();V.position.end=Kn(P.end)}function Wn(P){D.call(this,P);const V=this.stack[this.stack.length-1];V.url=this.sliceSerialize(P)}function Ut(P){D.call(this,P);const V=this.stack[this.stack.length-1];V.url="mailto:"+this.sliceSerialize(P)}function Vt(){return{type:"blockquote",children:[]}}function ki(){return{type:"code",lang:null,meta:null,value:""}}function Ag(){return{type:"inlineCode",value:""}}function Pg(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ng(){return{type:"emphasis",children:[]}}function Ia(){return{type:"heading",depth:0,children:[]}}function ka(){return{type:"break"}}function Aa(){return{type:"html",value:""}}function Rg(){return{type:"image",title:null,url:"",alt:null}}function Pa(){return{type:"link",title:null,url:"",children:[]}}function Na(P){return{type:"list",ordered:P.type==="listOrdered",start:null,spread:P._spread,children:[]}}function Mg(P){return{type:"listItem",spread:P._spread,checked:null,children:[]}}function Dg(){return{type:"paragraph",children:[]}}function Lg(){return{type:"strong",children:[]}}function Fg(){return{type:"text",value:""}}function Ug(){return{type:"thematicBreak"}}}function Kn(e){return{line:e.line,column:e.column,offset:e.offset}}function Jm(e,n){let t=-1;for(;++t<n.length;){const r=n[t];Array.isArray(r)?Jm(e,r):YT(e,r)}}function YT(e,n){let t;for(t in n)if(Om.call(n,t))switch(t){case"canContainEols":{const r=n[t];r&&e[t].push(...r);break}case"transforms":{const r=n[t];r&&e[t].push(...r);break}case"enter":case"exit":{const r=n[t];r&&Object.assign(e[t],r);break}}}function cf(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+Zr({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+Zr({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+Zr({start:n.start,end:n.end})+") is still open")}function KT(e){const n=this;n.parser=t;function t(r){return bT(r,{...n.data("settings"),...e,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function QT(e,n){const t={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,t),e.applyData(n,t)}function XT(e,n){const t={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,t),[e.applyData(n,t),{type:"text",value:`
`}]}function ZT(e,n){const t=n.value?n.value+`
`:"",r={};n.lang&&(r.className=["language-"+n.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:t}]};return n.meta&&(i.data={meta:n.meta}),e.patch(n,i),i=e.applyData(n,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(n,i),i}function jT(e,n){const t={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function e0(e,n){const t={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function n0(e,n){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(n.identifier).toUpperCase(),i=Tr(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let l,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=o+1,s+=1,e.footnoteCounts.set(r,s);const c={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+i,id:t+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(n,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(n,f),e.applyData(n,f)}function t0(e,n){const t={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function r0(e,n){if(e.options.allowDangerousHtml){const t={type:"raw",value:n.value};return e.patch(n,t),e.applyData(n,t)}}function $m(e,n){const t=n.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+r}];const i=e.all(n),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function i0(e,n){const t=String(n.identifier).toUpperCase(),r=e.definitionById.get(t);if(!r)return $m(e,n);const i={src:Tr(r.url||""),alt:n.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(n,o),e.applyData(n,o)}function o0(e,n){const t={src:Tr(n.url)};n.alt!==null&&n.alt!==void 0&&(t.alt=n.alt),n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"img",properties:t,children:[]};return e.patch(n,r),e.applyData(n,r)}function l0(e,n){const t={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return e.patch(n,r),e.applyData(n,r)}function s0(e,n){const t=String(n.identifier).toUpperCase(),r=e.definitionById.get(t);if(!r)return $m(e,n);const i={href:Tr(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(n)};return e.patch(n,o),e.applyData(n,o)}function u0(e,n){const t={href:Tr(n.url)};n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"a",properties:t,children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function a0(e,n,t){const r=e.all(n),i=t?c0(t):bm(n),o={},l=[];if(typeof n.checked=="boolean"){const d=r[0];let p;d&&d.type==="element"&&d.tagName==="p"?p=d:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(i||s!==0||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?l.push(...d.children):l.push(d)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:l};return e.patch(n,f),e.applyData(n,f)}function c0(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const t=e.children;let r=-1;for(;!n&&++r<t.length;)n=bm(t[r])}return n}function bm(e){const n=e.spread;return n??e.children.length>1}function f0(e,n){const t={},r=e.all(n);let i=-1;for(typeof n.start=="number"&&n.start!==1&&(t.start=n.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const o={type:"element",tagName:n.ordered?"ol":"ul",properties:t,children:e.wrap(r,!0)};return e.patch(n,o),e.applyData(n,o)}function d0(e,n){const t={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function p0(e,n){const t={type:"root",children:e.wrap(e.all(n))};return e.patch(n,t),e.applyData(n,t)}function h0(e,n){const t={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function m0(e,n){const t=e.all(n),r=t.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(n.children[0],l),i.push(l)}if(t.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(t,!0)},s=la(n.children[1]),c=Im(n.children[n.children.length-1]);s&&c&&(l.position={start:s,end:c}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(n,o),e.applyData(n,o)}function g0(e,n,t){const r=t?t.children:void 0,o=(r?r.indexOf(n):1)===0?"th":"td",l=t&&t.type==="table"?t.align:void 0,s=l?l.length:n.children.length;let c=-1;const f=[];for(;++c<s;){const p=n.children[c],h={},m=l?l[c]:void 0;m&&(h.align=m);let E={type:"element",tagName:o,properties:h,children:[]};p&&(E.children=e.all(p),e.patch(p,E),E=e.applyData(p,E)),f.push(E)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(n,d),e.applyData(n,d)}function y0(e,n){const t={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const ff=9,df=32;function v0(e){const n=String(e),t=/\r?\n|\r/g;let r=t.exec(n),i=0;const o=[];for(;r;)o.push(pf(n.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=t.exec(n);return o.push(pf(n.slice(i),i>0,!1)),o.join("")}function pf(e,n,t){let r=0,i=e.length;if(n){let o=e.codePointAt(r);for(;o===ff||o===df;)r++,o=e.codePointAt(r)}if(t){let o=e.codePointAt(i-1);for(;o===ff||o===df;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function E0(e,n){const t={type:"text",value:v0(String(n.value))};return e.patch(n,t),e.applyData(n,t)}function S0(e,n){const t={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,t),e.applyData(n,t)}const C0={blockquote:QT,break:XT,code:ZT,delete:jT,emphasis:e0,footnoteReference:n0,heading:t0,html:r0,imageReference:i0,image:o0,inlineCode:l0,linkReference:s0,link:u0,listItem:a0,list:f0,paragraph:d0,root:p0,strong:h0,table:m0,tableCell:y0,tableRow:g0,text:E0,thematicBreak:S0,toml:$i,yaml:$i,definition:$i,footnoteDefinition:$i};function $i(){}const Wm=-1,ll=0,ei=1,Uo=2,pa=3,ha=4,ma=5,ga=6,Ym=7,Km=8,hf=typeof self=="object"?self:globalThis,T0=(e,n)=>{const t=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,l]=n[i];switch(o){case ll:case Wm:return t(l,i);case ei:{const s=t([],i);for(const c of l)s.push(r(c));return s}case Uo:{const s=t({},i);for(const[c,f]of l)s[r(c)]=r(f);return s}case pa:return t(new Date(l),i);case ha:{const{source:s,flags:c}=l;return t(new RegExp(s,c),i)}case ma:{const s=t(new Map,i);for(const[c,f]of l)s.set(r(c),r(f));return s}case ga:{const s=t(new Set,i);for(const c of l)s.add(r(c));return s}case Ym:{const{name:s,message:c}=l;return t(new hf[s](c),i)}case Km:return t(BigInt(l),i);case"BigInt":return t(Object(BigInt(l)),i);case"ArrayBuffer":return t(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:s}=new Uint8Array(l);return t(new DataView(s),l)}}return t(new hf[o](l),i)};return r},mf=e=>T0(new Map,e)(0),Ht="",{toString:_0}={},{keys:x0}=Object,Vr=e=>{const n=typeof e;if(n!=="object"||!e)return[ll,n];const t=_0.call(e).slice(8,-1);switch(t){case"Array":return[ei,Ht];case"Object":return[Uo,Ht];case"Date":return[pa,Ht];case"RegExp":return[ha,Ht];case"Map":return[ma,Ht];case"Set":return[ga,Ht];case"DataView":return[ei,t]}return t.includes("Array")?[ei,t]:t.includes("Error")?[Ym,t]:[Uo,t]},bi=([e,n])=>e===ll&&(n==="function"||n==="symbol"),w0=(e,n,t,r)=>{const i=(l,s)=>{const c=r.push(l)-1;return t.set(s,c),c},o=l=>{if(t.has(l))return t.get(l);let[s,c]=Vr(l);switch(s){case ll:{let d=l;switch(c){case"bigint":s=Km,d=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([Wm],l)}return i([s,d],l)}case ei:{if(c){let h=l;return c==="DataView"?h=new Uint8Array(l.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(l)),i([c,[...h]],l)}const d=[],p=i([s,d],l);for(const h of l)d.push(o(h));return p}case Uo:{if(c)switch(c){case"BigInt":return i([c,l.toString()],l);case"Boolean":case"Number":case"String":return i([c,l.valueOf()],l)}if(n&&"toJSON"in l)return o(l.toJSON());const d=[],p=i([s,d],l);for(const h of x0(l))(e||!bi(Vr(l[h])))&&d.push([o(h),o(l[h])]);return p}case pa:return i([s,l.toISOString()],l);case ha:{const{source:d,flags:p}=l;return i([s,{source:d,flags:p}],l)}case ma:{const d=[],p=i([s,d],l);for(const[h,m]of l)(e||!(bi(Vr(h))||bi(Vr(m))))&&d.push([o(h),o(m)]);return p}case ga:{const d=[],p=i([s,d],l);for(const h of l)(e||!bi(Vr(h)))&&d.push(o(h));return p}}const{message:f}=l;return i([s,{name:c,message:f}],l)};return o},gf=(e,{json:n,lossy:t}={})=>{const r=[];return w0(!(n||t),!!n,new Map,r)(e),r},Vo=typeof structuredClone=="function"?(e,n)=>n&&("json"in n||"lossy"in n)?mf(gf(e,n)):structuredClone(e):(e,n)=>mf(gf(e,n));function I0(e,n){const t=[{type:"text",value:""}];return n>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),t}function k0(e,n){return"Back to reference "+(e+1)+(n>1?"-"+n:"")}function A0(e){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",t=e.options.footnoteBackContent||I0,r=e.options.footnoteBackLabel||k0,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let c=-1;for(;++c<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[c]);if(!f)continue;const d=e.all(f),p=String(f.identifier).toUpperCase(),h=Tr(p.toLowerCase());let m=0;const E=[],C=e.footnoteCounts.get(p);for(;C!==void 0&&++m<=C;){E.length>0&&E.push({type:"text",value:" "});let y=typeof t=="string"?t:t(c,m);typeof y=="string"&&(y={type:"text",value:y}),E.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,m),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}const I=d[d.length-1];if(I&&I.type==="element"&&I.tagName==="p"){const y=I.children[I.children.length-1];y&&y.type==="text"?y.value+=" ":I.children.push({type:"text",value:" "}),I.children.push(...E)}else d.push(...E);const g={type:"element",tagName:"li",properties:{id:n+"fn-"+h},children:e.wrap(d,!0)};e.patch(f,g),s.push(g)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Vo(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const Qm=function(e){if(e==null)return M0;if(typeof e=="function")return sl(e);if(typeof e=="object")return Array.isArray(e)?P0(e):N0(e);if(typeof e=="string")return R0(e);throw new Error("Expected function, string, or object as test")};function P0(e){const n=[];let t=-1;for(;++t<e.length;)n[t]=Qm(e[t]);return sl(r);function r(...i){let o=-1;for(;++o<n.length;)if(n[o].apply(this,i))return!0;return!1}}function N0(e){const n=e;return sl(t);function t(r){const i=r;let o;for(o in e)if(i[o]!==n[o])return!1;return!0}}function R0(e){return sl(n);function n(t){return t&&t.type===e}}function sl(e){return n;function n(t,r,i){return!!(D0(t)&&e.call(this,t,typeof r=="number"?r:void 0,i||void 0))}}function M0(){return!0}function D0(e){return e!==null&&typeof e=="object"&&"type"in e}const Xm=[],L0=!0,yf=!1,F0="skip";function U0(e,n,t,r){let i;typeof n=="function"&&typeof t!="function"?(r=t,t=n):i=n;const o=Qm(i),l=r?-1:1;s(e,void 0,[])();function s(c,f,d){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const m=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=Xm,E,C,I;if((!n||o(c,f,d[d.length-1]||void 0))&&(m=V0(t(c,d)),m[0]===yf))return m;if("children"in c&&c.children){const g=c;if(g.children&&m[0]!==F0)for(C=(r?g.children.length:-1)+l,I=d.concat(g);C>-1&&C<g.children.length;){const y=g.children[C];if(E=s(y,C,I)(),E[0]===yf)return E;C=typeof E[1]=="number"?E[1]:C+l}}return m}}}function V0(e){return Array.isArray(e)?e:typeof e=="number"?[L0,e]:e==null?Xm:[e]}function Zm(e,n,t,r){let i,o,l;typeof n=="function"&&typeof t!="function"?(o=void 0,l=n,i=t):(o=n,l=t,i=r),U0(e,o,s,i);function s(c,f){const d=f[f.length-1],p=d?d.children.indexOf(c):void 0;return l(c,p,d)}}const Qs={}.hasOwnProperty,z0={};function B0(e,n){const t=n||z0,r=new Map,i=new Map,o=new Map,l={...C0,...t.handlers},s={all:f,applyData:G0,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:c,options:t,patch:H0,wrap:O0};return Zm(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const p=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();p.has(h)||p.set(h,d)}}),s;function c(d,p){const h=d.type,m=s.handlers[h];if(Qs.call(s.handlers,h)&&m)return m(s,d,p);if(s.options.passThrough&&s.options.passThrough.includes(h)){if("children"in d){const{children:C,...I}=d,g=Vo(I);return g.children=s.all(d),g}return Vo(d)}return(s.options.unknownHandler||q0)(s,d,p)}function f(d){const p=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const E=s.one(h[m],d);if(E){if(m&&h[m-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=vf(E.value)),!Array.isArray(E)&&E.type==="element")){const C=E.children[0];C&&C.type==="text"&&(C.value=vf(C.value))}Array.isArray(E)?p.push(...E):p.push(E)}}}return p}}function H0(e,n){e.position&&(n.position=_S(e))}function G0(e,n){let t=n;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(t.type==="element")t.tagName=r;else{const l="children"in t?t.children:[t];t={type:"element",tagName:r,properties:{},children:l}}t.type==="element"&&o&&Object.assign(t.properties,Vo(o)),"children"in t&&t.children&&i!==null&&i!==void 0&&(t.children=i)}return t}function q0(e,n){const t=n.data||{},r="value"in n&&!(Qs.call(t,"hProperties")||Qs.call(t,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function O0(e,n){const t=[];let r=-1;for(n&&t.push({type:"text",value:`
`});++r<e.length;)r&&t.push({type:"text",value:`
`}),t.push(e[r]);return n&&e.length>0&&t.push({type:"text",value:`
`}),t}function vf(e){let n=0,t=e.charCodeAt(n);for(;t===9||t===32;)n++,t=e.charCodeAt(n);return e.slice(n)}function Ef(e,n){const t=B0(e,n),r=t.one(e,void 0),i=A0(t),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function J0(e,n){return e&&"run"in e?async function(t,r){const i=Ef(t,{file:r,...n});await e.run(i,r)}:function(t,r){return Ef(t,{file:r,...e||n})}}function Sf(e){if(e)throw e}var so=Object.prototype.hasOwnProperty,jm=Object.prototype.toString,Cf=Object.defineProperty,Tf=Object.getOwnPropertyDescriptor,_f=function(n){return typeof Array.isArray=="function"?Array.isArray(n):jm.call(n)==="[object Array]"},xf=function(n){if(!n||jm.call(n)!=="[object Object]")return!1;var t=so.call(n,"constructor"),r=n.constructor&&n.constructor.prototype&&so.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!t&&!r)return!1;var i;for(i in n);return typeof i>"u"||so.call(n,i)},wf=function(n,t){Cf&&t.name==="__proto__"?Cf(n,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):n[t.name]=t.newValue},If=function(n,t){if(t==="__proto__")if(so.call(n,t)){if(Tf)return Tf(n,t).value}else return;return n[t]},$0=function e(){var n,t,r,i,o,l,s=arguments[0],c=1,f=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},c=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});c<f;++c)if(n=arguments[c],n!=null)for(t in n)r=If(s,t),i=If(n,t),s!==i&&(d&&i&&(xf(i)||(o=_f(i)))?(o?(o=!1,l=r&&_f(r)?r:[]):l=r&&xf(r)?r:{},wf(s,{name:t,newValue:e(d,l,i)})):typeof i<"u"&&wf(s,{name:t,newValue:i}));return s};const ql=uu($0);function Xs(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function b0(){const e=[],n={run:t,use:r};return n;function t(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);s(null,...i);function s(c,...f){const d=e[++o];let p=-1;if(c){l(c);return}for(;++p<i.length;)(f[p]===null||f[p]===void 0)&&(f[p]=i[p]);i=f,d?W0(d,s)(...f):l(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),n}}function W0(e,n){let t;return r;function r(...l){const s=e.length>l.length;let c;s&&l.push(i);try{c=e.apply(this,l)}catch(f){const d=f;if(s&&t)throw d;return i(d)}s||(c&&c.then&&typeof c.then=="function"?c.then(o,i):c instanceof Error?i(c):o(c))}function i(l,...s){t||(t=!0,n(l,...s))}function o(l){i(null,l)}}const In={basename:Y0,dirname:K0,extname:Q0,join:X0,sep:"/"};function Y0(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Ii(e);let t=0,r=-1,i=e.length,o;if(n===void 0||n.length===0||n.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){t=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(t,r)}if(n===e)return"";let l=-1,s=n.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){t=i+1;break}}else l<0&&(o=!0,l=i+1),s>-1&&(e.codePointAt(i)===n.codePointAt(s--)?s<0&&(r=i):(s=-1,r=l));return t===r?r=l:r<0&&(r=e.length),e.slice(t,r)}function K0(e){if(Ii(e),e.length===0)return".";let n=-1,t=e.length,r;for(;--t;)if(e.codePointAt(t)===47){if(r){n=t;break}}else r||(r=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)}function Q0(e){Ii(e);let n=e.length,t=-1,r=0,i=-1,o=0,l;for(;n--;){const s=e.codePointAt(n);if(s===47){if(l){r=n+1;break}continue}t<0&&(l=!0,t=n+1),s===46?i<0?i=n:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||t<0||o===0||o===1&&i===t-1&&i===r+1?"":e.slice(i,t)}function X0(...e){let n=-1,t;for(;++n<e.length;)Ii(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":Z0(t)}function Z0(e){Ii(e);const n=e.codePointAt(0)===47;let t=j0(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.codePointAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}function j0(e,n){let t="",r=0,i=-1,o=0,l=-1,s,c;for(;++l<=e.length;){if(l<e.length)s=e.codePointAt(l);else{if(s===47)break;s=47}if(s===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(t.length<2||r!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(c=t.lastIndexOf("/"),c!==t.length-1){c<0?(t="",r=0):(t=t.slice(0,c),r=t.length-1-t.lastIndexOf("/")),i=l,o=0;continue}}else if(t.length>0){t="",r=0,i=l,o=0;continue}}n&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+e.slice(i+1,l):t=e.slice(i+1,l),r=l-i-1;i=l,o=0}else s===46&&o>-1?o++:o=-1}return t}function Ii(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const e_={cwd:n_};function n_(){return"/"}function Zs(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function t_(e){if(typeof e=="string")e=new URL(e);else if(!Zs(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return r_(e)}function r_(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const n=e.pathname;let t=-1;for(;++t<n.length;)if(n.codePointAt(t)===37&&n.codePointAt(t+1)===50){const r=n.codePointAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}const Ol=["history","path","basename","stem","extname","dirname"];class eg{constructor(n){let t;n?Zs(n)?t={path:n}:typeof n=="string"||i_(n)?t={value:n}:t=n:t={},this.cwd="cwd"in t?"":e_.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ol.length;){const o=Ol[r];o in t&&t[o]!==void 0&&t[o]!==null&&(this[o]=o==="history"?[...t[o]]:t[o])}let i;for(i in t)Ol.includes(i)||(this[i]=t[i])}get basename(){return typeof this.path=="string"?In.basename(this.path):void 0}set basename(n){$l(n,"basename"),Jl(n,"basename"),this.path=In.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?In.dirname(this.path):void 0}set dirname(n){kf(this.basename,"dirname"),this.path=In.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?In.extname(this.path):void 0}set extname(n){if(Jl(n,"extname"),kf(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=In.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){Zs(n)&&(n=t_(n)),$l(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?In.basename(this.path,this.extname):void 0}set stem(n){$l(n,"stem"),Jl(n,"stem"),this.path=In.join(this.dirname||"",n+(this.extname||""))}fail(n,t,r){const i=this.message(n,t,r);throw i.fatal=!0,i}info(n,t,r){const i=this.message(n,t,r);return i.fatal=void 0,i}message(n,t,r){const i=new Fe(n,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function Jl(e,n){if(e&&e.includes(In.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+In.sep+"`")}function $l(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function kf(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function i_(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const o_=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},l_={}.hasOwnProperty;class ya extends o_{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=b0()}copy(){const n=new ya;let t=-1;for(;++t<this.attachers.length;){const r=this.attachers[t];n.use(...r)}return n.data(ql(!0,{},this.namespace)),n}data(n,t){return typeof n=="string"?arguments.length===2?(Yl("data",this.frozen),this.namespace[n]=t,this):l_.call(this.namespace,n)&&this.namespace[n]||void 0:n?(Yl("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=t.call(n,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const t=Wi(n),r=this.parser||this.Parser;return bl("parse",r),r(String(t),t)}process(n,t){const r=this;return this.freeze(),bl("process",this.parser||this.Parser),Wl("process",this.compiler||this.Compiler),t?i(void 0,t):new Promise(i);function i(o,l){const s=Wi(n),c=r.parse(s);r.run(c,s,function(d,p,h){if(d||!p||!h)return f(d);const m=p,E=r.stringify(m,h);a_(E)?h.value=E:h.result=E,f(d,h)});function f(d,p){d||!p?l(d):o?o(p):t(void 0,p)}}}processSync(n){let t=!1,r;return this.freeze(),bl("processSync",this.parser||this.Parser),Wl("processSync",this.compiler||this.Compiler),this.process(n,i),Pf("processSync","process",t),r;function i(o,l){t=!0,Sf(o),r=l}}run(n,t,r){Af(n),this.freeze();const i=this.transformers;return!r&&typeof t=="function"&&(r=t,t=void 0),r?o(void 0,r):new Promise(o);function o(l,s){const c=Wi(t);i.run(n,c,f);function f(d,p,h){const m=p||n;d?s(d):l?l(m):r(void 0,m,h)}}}runSync(n,t){let r=!1,i;return this.run(n,t,o),Pf("runSync","run",r),i;function o(l,s){Sf(l),i=s,r=!0}}stringify(n,t){this.freeze();const r=Wi(t),i=this.compiler||this.Compiler;return Wl("stringify",i),Af(n),i(n,r)}use(n,...t){const r=this.attachers,i=this.namespace;if(Yl("use",this.frozen),n!=null)if(typeof n=="function")c(n,t);else if(typeof n=="object")Array.isArray(n)?s(n):l(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function o(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[d,...p]=f;c(d,p)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(f.plugins),f.settings&&(i.settings=ql(!0,i.settings,f.settings))}function s(f){let d=-1;if(f!=null)if(Array.isArray(f))for(;++d<f.length;){const p=f[d];o(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,d){let p=-1,h=-1;for(;++p<r.length;)if(r[p][0]===f){h=p;break}if(h===-1)r.push([f,...d]);else if(d.length>0){let[m,...E]=d;const C=r[h][1];Xs(C)&&Xs(m)&&(m=ql(!0,C,m)),r[h]=[f,m,...E]}}}}const s_=new ya().freeze();function bl(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Wl(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Yl(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Af(e){if(!Xs(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Pf(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function Wi(e){return u_(e)?e:new eg(e)}function u_(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function a_(e){return typeof e=="string"||c_(e)}function c_(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const f_="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Nf=[],Rf={allowDangerousHtml:!0},d_=/^(https?|ircs?|mailto|xmpp)$/i,p_=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function h_(e){const n=m_(e),t=g_(e);return y_(n.runSync(n.parse(t),t),e)}function m_(e){const n=e.rehypePlugins||Nf,t=e.remarkPlugins||Nf,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Rf}:Rf;return s_().use(KT).use(t).use(J0,r).use(n)}function g_(e){const n=e.children||"",t=new eg;return typeof n=="string"&&(t.value=n),t}function y_(e,n){const t=n.allowedElements,r=n.allowElement,i=n.components,o=n.disallowedElements,l=n.skipHtml,s=n.unwrapDisallowed,c=n.urlTransform||v_;for(const d of p_)Object.hasOwn(n,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+f_+d.id,void 0);return n.className&&(e={type:"element",tagName:"div",properties:{className:n.className},children:e.type==="root"?e.children:[e]}),Zm(e,f),AS(e,{Fragment:x.Fragment,components:i,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function f(d,p,h){if(d.type==="raw"&&h&&typeof p=="number")return l?h.children.splice(p,1):h.children[p]={type:"text",value:d.value},p;if(d.type==="element"){let m;for(m in Bl)if(Object.hasOwn(Bl,m)&&Object.hasOwn(d.properties,m)){const E=d.properties[m],C=Bl[m];(C===null||C.includes(d.tagName))&&(d.properties[m]=c(String(E||""),m,d))}}if(d.type==="element"){let m=t?!t.includes(d.tagName):o?o.includes(d.tagName):!1;if(!m&&r&&typeof p=="number"&&(m=!r(d,p,h)),m&&h&&typeof p=="number")return s&&d.children?h.children.splice(p,1,...d.children):h.children.splice(p,1),p}}}function v_(e){const n=e.indexOf(":"),t=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return n===-1||i!==-1&&n>i||t!==-1&&n>t||r!==-1&&n>r||d_.test(e.slice(0,n))?e:""}const E_=({images:e,result:n,onReset:t})=>{const r=()=>{window.print()};return x.jsxs("div",{className:"w-full max-w-6xl mx-auto pt-6 pb-12 px-4",children:[x.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-gray-500 hover:text-[#2d2a26] mb-6 transition-colors print:hidden",children:[x.jsx(dE,{size:20}),x.jsx("span",{children:"Zurck zur Auswahl"})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 print:block",children:[x.jsxs("div",{className:"flex flex-col gap-6 print:mb-8",children:[x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.map((i,o)=>x.jsxs("div",{className:`relative rounded-lg overflow-hidden shadow-lg border-4 border-white bg-white print:shadow-none print:border-0 ${e.length===1?"sm:col-span-2":""}`,children:[x.jsx("img",{src:i.preview,alt:`Artefakt Ansicht ${o+1}`,className:"w-full h-auto object-cover bg-black/5 print:max-h-[300px] print:object-contain"}),i.description&&x.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs p-2 backdrop-blur-sm print:hidden",children:i.description})]},i.id))}),x.jsxs("div",{className:"flex gap-4 justify-center lg:justify-start print:hidden",children:[x.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 text-gray-700",children:[x.jsx(TE,{size:16}),x.jsx("span",{children:"Neues Bild"})]}),x.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 text-sm bg-[#2d2a26] text-white rounded-md hover:bg-[#403d38] transition-colors shadow-sm",title:"Als PDF speichern oder Drucken",children:[x.jsx(CE,{size:16}),x.jsx("span",{children:"Bericht Drucken / PDF"})]})]})]}),x.jsx("div",{className:"flex flex-col",children:x.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden print:shadow-none print:border-0",children:[x.jsx("div",{className:"bg-[#2d2a26] text-[#fdfcf8] px-6 py-4 border-b border-[#c5a059] print:bg-transparent print:text-[#2d2a26] print:px-0 print:border-b-2",children:x.jsxs("h2",{className:"text-xl font-serif tracking-wide flex items-center gap-2",children:[x.jsx("span",{className:"text-[#c5a059] print:hidden",children:""})," Kuratoren-Analyse"]})}),x.jsxs("div",{className:"p-6 md:p-8 overflow-y-auto max-h-[800px] custom-scrollbar print:max-h-none print:overflow-visible print:px-0",children:[x.jsx("div",{className:"prose prose-stone prose-headings:font-serif prose-a:text-[#c5a059] max-w-none text-justify",children:x.jsx(h_,{children:n.text})}),n.groundingChunks&&n.groundingChunks.length>0&&x.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 break-inside-avoid",children:[x.jsxs("h3",{className:"text-sm font-bold uppercase tracking-wider text-gray-500 mb-3 flex items-center gap-2",children:[x.jsx(mE,{size:14}),"Quellen & Referenzen"]}),x.jsx("ul",{className:"space-y-2",children:n.groundingChunks.map((i,o)=>{var l,s,c,f;return x.jsx("li",{children:x.jsxs("a",{href:(l=i.web)==null?void 0:l.uri,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[#c5a059] hover:underline break-all whitespace-normal block print:text-black print:no-underline",children:[((s=i.web)==null?void 0:s.title)||((c=i.web)==null?void 0:c.uri)," ",x.jsxs("span",{className:"hidden print:inline text-xs text-gray-500",children:["(",(f=i.web)==null?void 0:f.uri,")"]})]})},o)})})]})]})]})})]})]})},S_=()=>{const[e,n]=_e.useState(0),t=["Bild wird gescannt...","Details werden extrahiert...","Historische Datenbanken werden abgefragt...","Kuratorenbericht wird erstellt..."];return _e.useEffect(()=>{const r=setInterval(()=>{n(i=>(i+1)%t.length)},2500);return()=>clearInterval(r)},[t.length]),x.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center px-4",children:[x.jsxs("div",{className:"relative w-24 h-24 mb-8",children:[x.jsx("div",{className:"absolute inset-0 border-4 border-gray-200 rounded-full"}),x.jsx("div",{className:"absolute inset-0 border-4 border-[#c5a059] rounded-full border-t-transparent animate-spin"}),x.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-[#2d2a26]",children:[e%3===0&&x.jsx(_E,{size:32,className:"animate-pulse"}),e%3===1&&x.jsx(xE,{size:32,className:"animate-pulse"}),e%3===2&&x.jsx(gE,{size:32,className:"animate-pulse"})]})]}),x.jsx("h3",{className:"text-2xl font-serif font-medium text-[#2d2a26] mb-2",children:"Analysiere Artefakt"}),x.jsx("p",{className:"text-gray-500 h-6 transition-all duration-500 ease-in-out",children:t[e]}),x.jsx("div",{className:"mt-8 flex gap-2 justify-center",children:[0,1,2,3].map(r=>x.jsx("div",{className:`w-2 h-2 rounded-full transition-colors duration-500 ${r===e?"bg-[#c5a059]":"bg-gray-200"}`},r))})]})},C_=({onClose:e})=>x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:x.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden relative",children:[x.jsxs("div",{className:"bg-[#2d2a26] text-[#fdfcf8] p-4 flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(IE,{size:20,className:"text-[#c5a059]"}),x.jsx("h3",{className:"font-serif font-bold tracking-wide",children:"App Installieren"})]}),x.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:x.jsx(vm,{size:20})})]}),x.jsxs("div",{className:"p-6 space-y-8 overflow-y-auto max-h-[60vh]",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsxs("h4",{className:"font-bold text-[#2d2a26] flex items-center gap-2 border-b border-gray-100 pb-2",children:[x.jsx("span",{className:"text-[#c5a059]",children:"01."})," iOS (iPhone)"]}),x.jsxs("ol",{className:"space-y-3 text-sm text-gray-600",children:[x.jsxs("li",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"p-1.5 bg-gray-100 rounded text-[#2d2a26]",children:x.jsx(wE,{size:16})}),x.jsxs("span",{children:["Tippen Sie unten in Safari auf den ",x.jsx("strong",{children:"Teilen"}),"-Button."]})]}),x.jsxs("li",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"p-1.5 bg-gray-100 rounded text-[#2d2a26]",children:x.jsx(Hc,{size:16})}),x.jsxs("span",{children:["Scrollen Sie runter und whlen Sie ",x.jsx("strong",{children:"Zum Home-Bildschirm"}),"."]})]})]})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("h4",{className:"font-bold text-[#2d2a26] flex items-center gap-2 border-b border-gray-100 pb-2",children:[x.jsx("span",{className:"text-[#c5a059]",children:"02."})," Android"]}),x.jsxs("ol",{className:"space-y-3 text-sm text-gray-600",children:[x.jsxs("li",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"p-1.5 bg-gray-100 rounded text-[#2d2a26]",children:x.jsx(EE,{size:16})}),x.jsxs("span",{children:["Tippen Sie oben rechts auf das ",x.jsx("strong",{children:"Men"})," (Drei Punkte)."]})]}),x.jsxs("li",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"p-1.5 bg-gray-100 rounded text-[#2d2a26]",children:x.jsx(Hc,{size:16})}),x.jsxs("span",{children:["Whlen Sie ",x.jsx("strong",{children:"App installieren"})," oder ",x.jsx("strong",{children:"Zum Startbildschirm"}),"."]})]})]})]})]}),x.jsx("div",{className:"p-4 bg-[#fcfaf5] border-t border-[#e5e0d6] text-center",children:x.jsx("button",{onClick:e,className:"px-8 py-2 bg-[#2d2a26] text-white rounded-lg shadow-md hover:bg-[#403d38] transition-colors font-medium text-sm",children:"Verstanden"})})]})});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let T_,__;function x_(){return{geminiUrl:T_,vertexUrl:__}}function w_(e,n,t,r){var i,o;if(!(e!=null&&e.baseUrl)){const l=x_();return n?(i=l.vertexUrl)!==null&&i!==void 0?i:t:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $n{}function B(e,n){const t=/\{([^}]+)\}/g;return e.replace(t,(r,i)=>{if(Object.prototype.hasOwnProperty.call(n,i)){const o=n[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function a(e,n,t){for(let o=0;o<n.length-1;o++){const l=n[o];if(l.endsWith("[]")){const s=l.slice(0,-2);if(!(s in e))if(Array.isArray(t))e[s]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[s])){const c=e[s];if(Array.isArray(t))for(let f=0;f<c.length;f++){const d=c[f];a(d,n.slice(o+1),t[f])}else for(const f of c)a(f,n.slice(o+1),t)}return}else if(l.endsWith("[0]")){const s=l.slice(0,-3);s in e||(e[s]=[{}]);const c=e[s];a(c[0],n.slice(o+1),t);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=n[n.length-1],i=e[r];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(e,t):e[r]=t}function u(e,n,t=void 0){try{if(n.length===1&&n[0]==="_self")return e;for(let r=0;r<n.length;r++){if(typeof e!="object"||e===null)return t;const i=n[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const l=e[o];return Array.isArray(l)?l.map(s=>u(s,n.slice(r+1),t)):t}else return t}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return t;throw r}}function I_(e,n){for(const[t,r]of Object.entries(n)){const i=t.split("."),o=r.split("."),l=new Set;let s=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){s=c;break}if(s!==-1&&o.length>s)for(let c=s;c<o.length;c++){const f=o[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}js(e,i,o,0,l)}}function js(e,n,t,r,i){if(r>=n.length||typeof e!="object"||e===null)return;const o=n[r];if(o.endsWith("[]")){const l=o.slice(0,-2),s=e;if(l in s&&Array.isArray(s[l]))for(const c of s[l])js(c,n,t,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,s=Object.keys(l).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of s)c[f]=l[f];for(const[f,d]of Object.entries(c)){const p=[];for(const h of t.slice(r))h==="*"?p.push(f):p.push(h);a(l,p,d)}for(const f of s)delete l[f]}}else{const l=e;o in l&&js(l[o],n,t,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function va(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k_(e){const n={},t=u(e,["operationName"]);t!=null&&a(n,["operationName"],t);const r=u(e,["resourceName"]);return r!=null&&a(n,["_url","resourceName"],r),n}function A_(e){const n={},t=u(e,["name"]);t!=null&&a(n,["name"],t);const r=u(e,["metadata"]);r!=null&&a(n,["metadata"],r);const i=u(e,["done"]);i!=null&&a(n,["done"],i);const o=u(e,["error"]);o!=null&&a(n,["error"],o);const l=u(e,["response","generateVideoResponse"]);return l!=null&&a(n,["response"],N_(l)),n}function P_(e){const n={},t=u(e,["name"]);t!=null&&a(n,["name"],t);const r=u(e,["metadata"]);r!=null&&a(n,["metadata"],r);const i=u(e,["done"]);i!=null&&a(n,["done"],i);const o=u(e,["error"]);o!=null&&a(n,["error"],o);const l=u(e,["response"]);return l!=null&&a(n,["response"],R_(l)),n}function N_(e){const n={},t=u(e,["generatedSamples"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(l=>M_(l))),a(n,["generatedVideos"],o)}const r=u(e,["raiMediaFilteredCount"]);r!=null&&a(n,["raiMediaFilteredCount"],r);const i=u(e,["raiMediaFilteredReasons"]);return i!=null&&a(n,["raiMediaFilteredReasons"],i),n}function R_(e){const n={},t=u(e,["videos"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(l=>D_(l))),a(n,["generatedVideos"],o)}const r=u(e,["raiMediaFilteredCount"]);r!=null&&a(n,["raiMediaFilteredCount"],r);const i=u(e,["raiMediaFilteredReasons"]);return i!=null&&a(n,["raiMediaFilteredReasons"],i),n}function M_(e){const n={},t=u(e,["video"]);return t!=null&&a(n,["video"],B_(t)),n}function D_(e){const n={},t=u(e,["_self"]);return t!=null&&a(n,["video"],H_(t)),n}function L_(e){const n={},t=u(e,["operationName"]);return t!=null&&a(n,["_url","operationName"],t),n}function F_(e){const n={},t=u(e,["operationName"]);return t!=null&&a(n,["_url","operationName"],t),n}function U_(e){const n={},t=u(e,["name"]);t!=null&&a(n,["name"],t);const r=u(e,["metadata"]);r!=null&&a(n,["metadata"],r);const i=u(e,["done"]);i!=null&&a(n,["done"],i);const o=u(e,["error"]);o!=null&&a(n,["error"],o);const l=u(e,["response"]);return l!=null&&a(n,["response"],V_(l)),n}function V_(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["parent"]);r!=null&&a(n,["parent"],r);const i=u(e,["documentName"]);return i!=null&&a(n,["documentName"],i),n}function ng(e){const n={},t=u(e,["name"]);t!=null&&a(n,["name"],t);const r=u(e,["metadata"]);r!=null&&a(n,["metadata"],r);const i=u(e,["done"]);i!=null&&a(n,["done"],i);const o=u(e,["error"]);o!=null&&a(n,["error"],o);const l=u(e,["response"]);return l!=null&&a(n,["response"],z_(l)),n}function z_(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["parent"]);r!=null&&a(n,["parent"],r);const i=u(e,["documentName"]);return i!=null&&a(n,["documentName"],i),n}function B_(e){const n={},t=u(e,["uri"]);t!=null&&a(n,["uri"],t);const r=u(e,["encodedVideo"]);r!=null&&a(n,["videoBytes"],va(r));const i=u(e,["encoding"]);return i!=null&&a(n,["mimeType"],i),n}function H_(e){const n={},t=u(e,["gcsUri"]);t!=null&&a(n,["uri"],t);const r=u(e,["bytesBase64Encoded"]);r!=null&&a(n,["videoBytes"],va(r));const i=u(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Mf;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Mf||(Mf={}));var Df;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Df||(Df={}));var Lf;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Lf||(Lf={}));var tt;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(tt||(tt={}));var Ff;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Ff||(Ff={}));var Uf;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Uf||(Uf={}));var Vf;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Vf||(Vf={}));var zf;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(zf||(zf={}));var Bf;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Bf||(Bf={}));var Hf;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(Hf||(Hf={}));var Gf;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Gf||(Gf={}));var qf;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(qf||(qf={}));var Of;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Of||(Of={}));var Jf;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(Jf||(Jf={}));var $f;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})($f||($f={}));var bf;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(bf||(bf={}));var Wf;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Wf||(Wf={}));var Yf;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(Yf||(Yf={}));var Kf;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Kf||(Kf={}));var zo;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(zo||(zo={}));var Qf;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Qf||(Qf={}));var Xf;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Xf||(Xf={}));var Zf;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Zf||(Zf={}));var eu;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(eu||(eu={}));var jf;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(jf||(jf={}));var ed;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ed||(ed={}));var nd;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(nd||(nd={}));var td;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(td||(td={}));var rd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(rd||(rd={}));var id;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(id||(id={}));var od;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(od||(od={}));var ld;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(ld||(ld={}));var sd;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(sd||(sd={}));var ud;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(ud||(ud={}));var ad;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ad||(ad={}));var cd;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(cd||(cd={}));var fd;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(fd||(fd={}));var dd;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(dd||(dd={}));var pd;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(pd||(pd={}));var hd;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(hd||(hd={}));var md;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(md||(md={}));var gd;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(gd||(gd={}));var yd;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(yd||(yd={}));var vd;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(vd||(vd={}));var Ed;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Ed||(Ed={}));var Sd;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Sd||(Sd={}));var Cd;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Cd||(Cd={}));var Td;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Td||(Td={}));var _d;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(_d||(_d={}));var xd;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(xd||(xd={}));var wd;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(wd||(wd={}));var Id;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Id||(Id={}));var kd;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(kd||(kd={}));var Ad;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Ad||(Ad={}));var jt;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(jt||(jt={}));class nu{constructor(n){const t={};for(const r of n.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=n}json(){return this.responseInternal.json()}}class zr{get text(){var n,t,r,i,o,l,s,c;if(((i=(r=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const p=[];for(const h of(c=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)!==null&&c!==void 0?c:[]){for(const[m,E]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(E!==null||E!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,f+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var n,t,r,i,o,l,s,c;if(((i=(r=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const p of(c=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)!==null&&c!==void 0?c:[]){for(const[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var n,t,r,i,o,l,s,c;if(((i=(r=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var n,t,r,i,o,l,s,c,f;if(((i=(r=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var n,t,r,i,o,l,s,c,f;if(((i=(r=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class Pd{}class Nd{}class G_{}class q_{}class O_{}class J_{}class Rd{}class Md{}class Dd{}class $_{}class Bo{_fromAPIResponse({apiResponse:n,_isVertexAI:t}){const r=new Bo;let i;const o=n;return t?i=P_(o):i=A_(o),Object.assign(r,i),r}}class Ld{}class Fd{}class Ud{}class b_{}class W_{}class Y_{}class Ea{_fromAPIResponse({apiResponse:n,_isVertexAI:t}){const r=new Ea,o=U_(n);return Object.assign(r,o),r}}class K_{}class Q_{}class X_{}class Vd{}class Z_{get text(){var n,t,r;let i="",o=!1;const l=[];for(const s of(r=(t=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(s))c!=="text"&&c!=="thought"&&f!==null&&l.push(c);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var n,t,r;let i="";const o=[];for(const l of(r=(t=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[s,c]of Object.entries(l))s!=="inlineData"&&c!==null&&o.push(s);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class j_{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Sa{_fromAPIResponse({apiResponse:n,_isVertexAI:t}){const r=new Sa,o=ng(n);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X(e,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(n.includes("..")||n.includes("?")||n.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const t=n.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function tg(e,n){const t=X(e,n);return t?t.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:t.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${t}`:t:""}function rg(e){return Array.isArray(e)?e.map(n=>Ho(n)):[Ho(e)]}function Ho(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function ig(e){const n=Ho(e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function og(e){const n=Ho(e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function zd(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function lg(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>zd(n)):[zd(e)]}function tu(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Bd(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Hd(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function De(e){if(e==null)throw new Error("ContentUnion is required");return tu(e)?e:{role:"user",parts:lg(e)}}function Ca(e,n){if(!n)return[];if(e.isVertexAI()&&Array.isArray(n))return n.flatMap(t=>{const r=De(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const t=De(n);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(n)?n.map(t=>De(t)):[De(n)]}function cn(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Bd(e)||Hd(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[De(e)]}const n=[],t=[],r=tu(e[0]);for(const i of e){const o=tu(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)n.push(i);else{if(Bd(i)||Hd(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(i)}}return r||n.push({role:"user",parts:lg(t)}),n}function ex(e,n){e.includes("null")&&(n.nullable=!0);const t=e.filter(r=>r!=="null");if(t.length===1)n.type=Object.values(tt).includes(t[0].toUpperCase())?t[0].toUpperCase():tt.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const r of t)n.anyOf.push({type:Object.values(tt).includes(r.toUpperCase())?r.toUpperCase():tt.TYPE_UNSPECIFIED})}}function ur(e){const n={},t=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(n.nullable=!0,e=o[1]):o[1].type==="null"&&(n.nullable=!0,e=o[0])),e.type instanceof Array&&ex(e.type,n);for(const[l,s]of Object.entries(e))if(s!=null)if(l=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;n.type=Object.values(tt).includes(s.toUpperCase())?s.toUpperCase():tt.TYPE_UNSPECIFIED}else if(t.includes(l))n[l]=ur(s);else if(r.includes(l)){const c=[];for(const f of s){if(f.type=="null"){n.nullable=!0;continue}c.push(ur(f))}n[l]=c}else if(i.includes(l)){const c={};for(const[f,d]of Object.entries(s))c[f]=ur(d);n[l]=c}else{if(l==="additionalProperties")continue;n[l]=s}return n}function Ta(e){return ur(e)}function _a(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function xa(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function _r(e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=ur(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=ur(n.response));return e}function xr(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const t of e)n.push(t);return n}function nx(e,n,t,r=1){const i=!n.startsWith(`${t}/`)&&n.split("/").length===r;return e.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${e.getProject()}/${n}`:n.startsWith(`${t}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}/${n}`:n:i?`${t}/${n}`:n}function bn(e,n){if(typeof n!="string")throw new Error("name must be a string");return nx(e,n,"cachedContents")}function sg(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function yt(e){return va(e)}function tx(e){return e!=null&&typeof e=="object"&&"name"in e}function rx(e){return e!=null&&typeof e=="object"&&"video"in e}function ix(e){return e!=null&&typeof e=="object"&&"uri"in e}function ug(e){var n;let t;if(tx(e)&&(t=e.name),!(ix(e)&&(t=e.uri,t===void 0))&&!(rx(e)&&(t=(n=e.video)===null||n===void 0?void 0:n.uri,t===void 0))){if(typeof e=="string"&&(t=e),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const i=t.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${t}`);t=i[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function ag(e,n){let t;return e.isVertexAI()?t=n?"publishers/google/models":"models":t=n?"models":"tunedModels",t}function cg(e){for(const n of["models","tunedModels","publisherModels"])if(ox(e,n))return e[n];return[]}function ox(e,n){return e!==null&&typeof e=="object"&&n in e}function lx(e,n={}){const t=e,r={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(r.responseJsonSchema=t.outputSchema),n.behavior&&(r.behavior=n.behavior),{functionDeclarations:[r]}}function sx(e,n={}){const t=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=lx(i,n);l.functionDeclarations&&t.push(...l.functionDeclarations)}return{functionDeclarations:t}}function fg(e,n){let t;if(typeof n=="string")if(e.isVertexAI())if(n.startsWith("gs://"))t={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))t={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))t={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:n}}else t=n;const r=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,i=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function ux(e){if(typeof e!="string")return e;const n=e;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function dg(e){if(typeof e!="object"||e===null)return{};const n=e,t=n.inlinedResponses;if(typeof t!="object"||t===null)return e;const i=t.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){o=!0;break}}return o&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),e}function wr(e,n){const t=n;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function pg(e){const n=e;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ax(e){const n={},t=u(e,["responsesFile"]);t!=null&&a(n,["fileName"],t);const r=u(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Ox(l))),a(n,["inlinedResponses"],o)}const i=u(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),a(n,["inlinedEmbedContentResponses"],o)}return n}function cx(e){const n={},t=u(e,["predictionsFormat"]);t!=null&&a(n,["format"],t);const r=u(e,["gcsDestination","outputUriPrefix"]);r!=null&&a(n,["gcsUri"],r);const i=u(e,["bigqueryDestination","outputUri"]);return i!=null&&a(n,["bigqueryUri"],i),n}function fx(e){const n={},t=u(e,["format"]);t!=null&&a(n,["predictionsFormat"],t);const r=u(e,["gcsUri"]);r!=null&&a(n,["gcsDestination","outputUriPrefix"],r);const i=u(e,["bigqueryUri"]);if(i!=null&&a(n,["bigqueryDestination","outputUri"],i),u(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function uo(e){const n={},t=u(e,["name"]);t!=null&&a(n,["name"],t);const r=u(e,["metadata","displayName"]);r!=null&&a(n,["displayName"],r);const i=u(e,["metadata","state"]);i!=null&&a(n,["state"],pg(i));const o=u(e,["metadata","createTime"]);o!=null&&a(n,["createTime"],o);const l=u(e,["metadata","endTime"]);l!=null&&a(n,["endTime"],l);const s=u(e,["metadata","updateTime"]);s!=null&&a(n,["updateTime"],s);const c=u(e,["metadata","model"]);c!=null&&a(n,["model"],c);const f=u(e,["metadata","output"]);return f!=null&&a(n,["dest"],ax(dg(f))),n}function ru(e){const n={},t=u(e,["name"]);t!=null&&a(n,["name"],t);const r=u(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=u(e,["state"]);i!=null&&a(n,["state"],pg(i));const o=u(e,["error"]);o!=null&&a(n,["error"],o);const l=u(e,["createTime"]);l!=null&&a(n,["createTime"],l);const s=u(e,["startTime"]);s!=null&&a(n,["startTime"],s);const c=u(e,["endTime"]);c!=null&&a(n,["endTime"],c);const f=u(e,["updateTime"]);f!=null&&a(n,["updateTime"],f);const d=u(e,["model"]);d!=null&&a(n,["model"],d);const p=u(e,["inputConfig"]);p!=null&&a(n,["src"],dx(p));const h=u(e,["outputConfig"]);h!=null&&a(n,["dest"],cx(dg(h)));const m=u(e,["completionStats"]);return m!=null&&a(n,["completionStats"],m),n}function dx(e){const n={},t=u(e,["instancesFormat"]);t!=null&&a(n,["format"],t);const r=u(e,["gcsSource","uris"]);r!=null&&a(n,["gcsUri"],r);const i=u(e,["bigquerySource","inputUri"]);return i!=null&&a(n,["bigqueryUri"],i),n}function px(e,n){const t={};if(u(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=u(n,["fileName"]);r!=null&&a(t,["fileName"],r);const i=u(n,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>qx(e,l))),a(t,["requests","requests"],o)}return t}function hx(e){const n={},t=u(e,["format"]);t!=null&&a(n,["instancesFormat"],t);const r=u(e,["gcsUri"]);r!=null&&a(n,["gcsSource","uris"],r);const i=u(e,["bigqueryUri"]);if(i!=null&&a(n,["bigquerySource","inputUri"],i),u(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function mx(e){const n={},t=u(e,["data"]);if(t!=null&&a(n,["data"],t),u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function gx(e,n){const t={},r=u(n,["name"]);return r!=null&&a(t,["_url","name"],wr(e,r)),t}function yx(e,n){const t={},r=u(n,["name"]);return r!=null&&a(t,["_url","name"],wr(e,r)),t}function vx(e){const n={},t=u(e,["content"]);t!=null&&a(n,["content"],t);const r=u(e,["citationMetadata"]);r!=null&&a(n,["citationMetadata"],Ex(r));const i=u(e,["tokenCount"]);i!=null&&a(n,["tokenCount"],i);const o=u(e,["finishReason"]);o!=null&&a(n,["finishReason"],o);const l=u(e,["avgLogprobs"]);l!=null&&a(n,["avgLogprobs"],l);const s=u(e,["groundingMetadata"]);s!=null&&a(n,["groundingMetadata"],s);const c=u(e,["index"]);c!=null&&a(n,["index"],c);const f=u(e,["logprobsResult"]);f!=null&&a(n,["logprobsResult"],f);const d=u(e,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>m)),a(n,["safetyRatings"],h)}const p=u(e,["urlContextMetadata"]);return p!=null&&a(n,["urlContextMetadata"],p),n}function Ex(e){const n={},t=u(e,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["citations"],r)}return n}function hg(e){const n={},t=u(e,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>Qx(o))),a(n,["parts"],i)}const r=u(e,["role"]);return r!=null&&a(n,["role"],r),n}function Sx(e,n){const t={},r=u(e,["displayName"]);if(n!==void 0&&r!=null&&a(n,["batch","displayName"],r),u(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function Cx(e,n){const t={},r=u(e,["displayName"]);n!==void 0&&r!=null&&a(n,["displayName"],r);const i=u(e,["dest"]);return n!==void 0&&i!=null&&a(n,["outputConfig"],fx(ux(i))),t}function Gd(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","model"],X(e,r));const i=u(n,["src"]);i!=null&&a(t,["batch","inputConfig"],px(e,fg(e,i)));const o=u(n,["config"]);return o!=null&&Sx(o,t),t}function Tx(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["model"],X(e,r));const i=u(n,["src"]);i!=null&&a(t,["inputConfig"],hx(fg(e,i)));const o=u(n,["config"]);return o!=null&&Cx(o,t),t}function _x(e,n){const t={},r=u(e,["displayName"]);return n!==void 0&&r!=null&&a(n,["batch","displayName"],r),t}function xx(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","model"],X(e,r));const i=u(n,["src"]);i!=null&&a(t,["batch","inputConfig"],Rx(e,i));const o=u(n,["config"]);return o!=null&&_x(o,t),t}function wx(e,n){const t={},r=u(n,["name"]);return r!=null&&a(t,["_url","name"],wr(e,r)),t}function Ix(e,n){const t={},r=u(n,["name"]);return r!=null&&a(t,["_url","name"],wr(e,r)),t}function kx(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["name"]);r!=null&&a(n,["name"],r);const i=u(e,["done"]);i!=null&&a(n,["done"],i);const o=u(e,["error"]);return o!=null&&a(n,["error"],o),n}function Ax(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["name"]);r!=null&&a(n,["name"],r);const i=u(e,["done"]);i!=null&&a(n,["done"],i);const o=u(e,["error"]);return o!=null&&a(n,["error"],o),n}function Px(e,n){const t={},r=u(n,["contents"]);if(r!=null){let o=Ca(e,r);Array.isArray(o)&&(o=o.map(l=>l)),a(t,["requests[]","request","content"],o)}const i=u(n,["config"]);return i!=null&&(a(t,["_self"],Nx(i,t)),I_(t,{"requests[].*":"requests[].request.*"})),t}function Nx(e,n){const t={},r=u(e,["taskType"]);n!==void 0&&r!=null&&a(n,["requests[]","taskType"],r);const i=u(e,["title"]);n!==void 0&&i!=null&&a(n,["requests[]","title"],i);const o=u(e,["outputDimensionality"]);if(n!==void 0&&o!=null&&a(n,["requests[]","outputDimensionality"],o),u(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Rx(e,n){const t={},r=u(n,["fileName"]);r!=null&&a(t,["file_name"],r);const i=u(n,["inlinedRequests"]);return i!=null&&a(t,["requests"],Px(e,i)),t}function Mx(e){const n={};if(u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=u(e,["fileUri"]);t!=null&&a(n,["fileUri"],t);const r=u(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function Dx(e){const n={},t=u(e,["id"]);t!=null&&a(n,["id"],t);const r=u(e,["args"]);r!=null&&a(n,["args"],r);const i=u(e,["name"]);if(i!=null&&a(n,["name"],i),u(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function Lx(e){const n={},t=u(e,["mode"]);t!=null&&a(n,["mode"],t);const r=u(e,["allowedFunctionNames"]);if(r!=null&&a(n,["allowedFunctionNames"],r),u(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function Fx(e,n,t){const r={},i=u(n,["systemInstruction"]);t!==void 0&&i!=null&&a(t,["systemInstruction"],hg(De(i)));const o=u(n,["temperature"]);o!=null&&a(r,["temperature"],o);const l=u(n,["topP"]);l!=null&&a(r,["topP"],l);const s=u(n,["topK"]);s!=null&&a(r,["topK"],s);const c=u(n,["candidateCount"]);c!=null&&a(r,["candidateCount"],c);const f=u(n,["maxOutputTokens"]);f!=null&&a(r,["maxOutputTokens"],f);const d=u(n,["stopSequences"]);d!=null&&a(r,["stopSequences"],d);const p=u(n,["responseLogprobs"]);p!=null&&a(r,["responseLogprobs"],p);const h=u(n,["logprobs"]);h!=null&&a(r,["logprobs"],h);const m=u(n,["presencePenalty"]);m!=null&&a(r,["presencePenalty"],m);const E=u(n,["frequencyPenalty"]);E!=null&&a(r,["frequencyPenalty"],E);const C=u(n,["seed"]);C!=null&&a(r,["seed"],C);const I=u(n,["responseMimeType"]);I!=null&&a(r,["responseMimeType"],I);const g=u(n,["responseSchema"]);g!=null&&a(r,["responseSchema"],Ta(g));const y=u(n,["responseJsonSchema"]);if(y!=null&&a(r,["responseJsonSchema"],y),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=u(n,["safetySettings"]);if(t!==void 0&&v!=null){let U=v;Array.isArray(U)&&(U=U.map(J=>Xx(J))),a(t,["safetySettings"],U)}const w=u(n,["tools"]);if(t!==void 0&&w!=null){let U=xr(w);Array.isArray(U)&&(U=U.map(J=>jx(_r(J)))),a(t,["tools"],U)}const k=u(n,["toolConfig"]);if(t!==void 0&&k!=null&&a(t,["toolConfig"],Zx(k)),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=u(n,["cachedContent"]);t!==void 0&&_!=null&&a(t,["cachedContent"],bn(e,_));const A=u(n,["responseModalities"]);A!=null&&a(r,["responseModalities"],A);const M=u(n,["mediaResolution"]);M!=null&&a(r,["mediaResolution"],M);const N=u(n,["speechConfig"]);if(N!=null&&a(r,["speechConfig"],_a(N)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=u(n,["thinkingConfig"]);D!=null&&a(r,["thinkingConfig"],D);const F=u(n,["imageConfig"]);return F!=null&&a(r,["imageConfig"],Gx(F)),r}function Ux(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>vx(f))),a(n,["candidates"],c)}const i=u(e,["modelVersion"]);i!=null&&a(n,["modelVersion"],i);const o=u(e,["promptFeedback"]);o!=null&&a(n,["promptFeedback"],o);const l=u(e,["responseId"]);l!=null&&a(n,["responseId"],l);const s=u(e,["usageMetadata"]);return s!=null&&a(n,["usageMetadata"],s),n}function Vx(e,n){const t={},r=u(n,["name"]);return r!=null&&a(t,["_url","name"],wr(e,r)),t}function zx(e,n){const t={},r=u(n,["name"]);return r!=null&&a(t,["_url","name"],wr(e,r)),t}function Bx(e){const n={};if(u(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=u(e,["enableWidget"]);return t!=null&&a(n,["enableWidget"],t),n}function Hx(e){const n={};if(u(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=u(e,["timeRangeFilter"]);return t!=null&&a(n,["timeRangeFilter"],t),n}function Gx(e){const n={},t=u(e,["aspectRatio"]);t!=null&&a(n,["aspectRatio"],t);const r=u(e,["imageSize"]);if(r!=null&&a(n,["imageSize"],r),u(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function qx(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["request","model"],X(e,r));const i=u(n,["contents"]);if(i!=null){let s=cn(i);Array.isArray(s)&&(s=s.map(c=>hg(c))),a(t,["request","contents"],s)}const o=u(n,["metadata"]);o!=null&&a(t,["metadata"],o);const l=u(n,["config"]);return l!=null&&a(t,["request","generationConfig"],Fx(e,l,u(t,["request"],{}))),t}function Ox(e){const n={},t=u(e,["response"]);t!=null&&a(n,["response"],Ux(t));const r=u(e,["error"]);return r!=null&&a(n,["error"],r),n}function Jx(e,n){const t={},r=u(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=u(e,["pageToken"]);if(n!==void 0&&i!=null&&a(n,["_query","pageToken"],i),u(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function $x(e,n){const t={},r=u(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=u(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const o=u(e,["filter"]);return n!==void 0&&o!=null&&a(n,["_query","filter"],o),t}function bx(e){const n={},t=u(e,["config"]);return t!=null&&Jx(t,n),n}function Wx(e){const n={},t=u(e,["config"]);return t!=null&&$x(t,n),n}function Yx(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=u(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>uo(l))),a(n,["batchJobs"],o)}return n}function Kx(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=u(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>ru(l))),a(n,["batchJobs"],o)}return n}function Qx(e){const n={},t=u(e,["mediaResolution"]);t!=null&&a(n,["mediaResolution"],t);const r=u(e,["codeExecutionResult"]);r!=null&&a(n,["codeExecutionResult"],r);const i=u(e,["executableCode"]);i!=null&&a(n,["executableCode"],i);const o=u(e,["fileData"]);o!=null&&a(n,["fileData"],Mx(o));const l=u(e,["functionCall"]);l!=null&&a(n,["functionCall"],Dx(l));const s=u(e,["functionResponse"]);s!=null&&a(n,["functionResponse"],s);const c=u(e,["inlineData"]);c!=null&&a(n,["inlineData"],mx(c));const f=u(e,["text"]);f!=null&&a(n,["text"],f);const d=u(e,["thought"]);d!=null&&a(n,["thought"],d);const p=u(e,["thoughtSignature"]);p!=null&&a(n,["thoughtSignature"],p);const h=u(e,["videoMetadata"]);return h!=null&&a(n,["videoMetadata"],h),n}function Xx(e){const n={},t=u(e,["category"]);if(t!=null&&a(n,["category"],t),u(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(e,["threshold"]);return r!=null&&a(n,["threshold"],r),n}function Zx(e){const n={},t=u(e,["functionCallingConfig"]);t!=null&&a(n,["functionCallingConfig"],Lx(t));const r=u(e,["retrievalConfig"]);return r!=null&&a(n,["retrievalConfig"],r),n}function jx(e){const n={},t=u(e,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(p=>p)),a(n,["functionDeclarations"],d)}if(u(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(e,["googleSearchRetrieval"]);r!=null&&a(n,["googleSearchRetrieval"],r);const i=u(e,["computerUse"]);i!=null&&a(n,["computerUse"],i);const o=u(e,["fileSearch"]);o!=null&&a(n,["fileSearch"],o);const l=u(e,["codeExecution"]);if(l!=null&&a(n,["codeExecution"],l),u(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=u(e,["googleMaps"]);s!=null&&a(n,["googleMaps"],Bx(s));const c=u(e,["googleSearch"]);c!=null&&a(n,["googleSearch"],Hx(c));const f=u(e,["urlContext"]);return f!=null&&a(n,["urlContext"],f),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var On;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(On||(On={}));class Ft{constructor(n,t,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(n,r,i)}init(n,t,r){var i,o;this.nameInternal=n,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=t.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ew extends $n{constructor(n){super(),this.apiClient=n,this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)},this.list=async(t={})=>new Ft(On.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(t),t)}createInlinedGenerateContentRequest(n){const t=Gd(this.apiClient,n),r=t._url,i=B("{model}:batchGenerateContent",r),s=t.batch.inputConfig.requests,c=s.requests,f=[];for(const d of c){const p=Object.assign({},d);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const m=p.request;m.systemInstruction=h,p.request=m}f.push(p)}return s.requests=f,delete t.config,delete t._url,delete t._query,{path:i,body:t}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,t){const r=t?Object.assign({},t):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(n),l=this.getBigqueryUri(n);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=Tx(this.apiClient,n);return s=B("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>ru(d))}else{const f=Gd(this.apiClient,n);return s=B("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>uo(d))}}async createEmbeddingsInternal(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=xx(this.apiClient,n);return o=B("{model}:asyncBatchEmbedContent",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>uo(c))}}async get(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=zx(this.apiClient,n);return s=B("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>ru(d))}else{const f=Vx(this.apiClient,n);return s=B("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>uo(d))}}async cancel(n){var t,r,i,o;let l="",s={};if(this.apiClient.isVertexAI()){const c=yx(this.apiClient,n);l=B("batchPredictionJobs/{name}:cancel",c._url),s=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=gx(this.apiClient,n);l=B("batches/{name}:cancel",c._url),s=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=Wx(n);return s=B("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=Kx(d),h=new Vd;return Object.assign(h,p),h})}else{const f=bx(n);return s=B("batches",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=Yx(d),h=new Vd;return Object.assign(h,p),h})}}async delete(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=Ix(this.apiClient,n);return s=B("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>Ax(d))}else{const f=wx(this.apiClient,n);return s=B("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>kx(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nw(e){const n={},t=u(e,["data"]);if(t!=null&&a(n,["data"],t),u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function qd(e){const n={},t=u(e,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>xw(o))),a(n,["parts"],i)}const r=u(e,["role"]);return r!=null&&a(n,["role"],r),n}function tw(e,n){const t={},r=u(e,["ttl"]);n!==void 0&&r!=null&&a(n,["ttl"],r);const i=u(e,["expireTime"]);n!==void 0&&i!=null&&a(n,["expireTime"],i);const o=u(e,["displayName"]);n!==void 0&&o!=null&&a(n,["displayName"],o);const l=u(e,["contents"]);if(n!==void 0&&l!=null){let d=cn(l);Array.isArray(d)&&(d=d.map(p=>qd(p))),a(n,["contents"],d)}const s=u(e,["systemInstruction"]);n!==void 0&&s!=null&&a(n,["systemInstruction"],qd(De(s)));const c=u(e,["tools"]);if(n!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>Iw(p))),a(n,["tools"],d)}const f=u(e,["toolConfig"]);if(n!==void 0&&f!=null&&a(n,["toolConfig"],ww(f)),u(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function rw(e,n){const t={},r=u(e,["ttl"]);n!==void 0&&r!=null&&a(n,["ttl"],r);const i=u(e,["expireTime"]);n!==void 0&&i!=null&&a(n,["expireTime"],i);const o=u(e,["displayName"]);n!==void 0&&o!=null&&a(n,["displayName"],o);const l=u(e,["contents"]);if(n!==void 0&&l!=null){let p=cn(l);Array.isArray(p)&&(p=p.map(h=>h)),a(n,["contents"],p)}const s=u(e,["systemInstruction"]);n!==void 0&&s!=null&&a(n,["systemInstruction"],De(s));const c=u(e,["tools"]);if(n!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>kw(h))),a(n,["tools"],p)}const f=u(e,["toolConfig"]);n!==void 0&&f!=null&&a(n,["toolConfig"],f);const d=u(e,["kmsKeyName"]);return n!==void 0&&d!=null&&a(n,["encryption_spec","kmsKeyName"],d),t}function iw(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["model"],tg(e,r));const i=u(n,["config"]);return i!=null&&tw(i,t),t}function ow(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["model"],tg(e,r));const i=u(n,["config"]);return i!=null&&rw(i,t),t}function lw(e,n){const t={},r=u(n,["name"]);return r!=null&&a(t,["_url","name"],bn(e,r)),t}function sw(e,n){const t={},r=u(n,["name"]);return r!=null&&a(t,["_url","name"],bn(e,r)),t}function uw(e){const n={},t=u(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}function aw(e){const n={},t=u(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}function cw(e){const n={};if(u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=u(e,["fileUri"]);t!=null&&a(n,["fileUri"],t);const r=u(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function fw(e){const n={},t=u(e,["id"]);t!=null&&a(n,["id"],t);const r=u(e,["args"]);r!=null&&a(n,["args"],r);const i=u(e,["name"]);if(i!=null&&a(n,["name"],i),u(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function dw(e){const n={},t=u(e,["mode"]);t!=null&&a(n,["mode"],t);const r=u(e,["allowedFunctionNames"]);if(r!=null&&a(n,["allowedFunctionNames"],r),u(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function pw(e){const n={};if(u(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=u(e,["description"]);t!=null&&a(n,["description"],t);const r=u(e,["name"]);r!=null&&a(n,["name"],r);const i=u(e,["parameters"]);i!=null&&a(n,["parameters"],i);const o=u(e,["parametersJsonSchema"]);o!=null&&a(n,["parametersJsonSchema"],o);const l=u(e,["response"]);l!=null&&a(n,["response"],l);const s=u(e,["responseJsonSchema"]);return s!=null&&a(n,["responseJsonSchema"],s),n}function hw(e,n){const t={},r=u(n,["name"]);return r!=null&&a(t,["_url","name"],bn(e,r)),t}function mw(e,n){const t={},r=u(n,["name"]);return r!=null&&a(t,["_url","name"],bn(e,r)),t}function gw(e){const n={};if(u(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=u(e,["enableWidget"]);return t!=null&&a(n,["enableWidget"],t),n}function yw(e){const n={};if(u(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=u(e,["timeRangeFilter"]);return t!=null&&a(n,["timeRangeFilter"],t),n}function vw(e,n){const t={},r=u(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=u(e,["pageToken"]);return n!==void 0&&i!=null&&a(n,["_query","pageToken"],i),t}function Ew(e,n){const t={},r=u(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=u(e,["pageToken"]);return n!==void 0&&i!=null&&a(n,["_query","pageToken"],i),t}function Sw(e){const n={},t=u(e,["config"]);return t!=null&&vw(t,n),n}function Cw(e){const n={},t=u(e,["config"]);return t!=null&&Ew(t,n),n}function Tw(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=u(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),a(n,["cachedContents"],o)}return n}function _w(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=u(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),a(n,["cachedContents"],o)}return n}function xw(e){const n={},t=u(e,["mediaResolution"]);t!=null&&a(n,["mediaResolution"],t);const r=u(e,["codeExecutionResult"]);r!=null&&a(n,["codeExecutionResult"],r);const i=u(e,["executableCode"]);i!=null&&a(n,["executableCode"],i);const o=u(e,["fileData"]);o!=null&&a(n,["fileData"],cw(o));const l=u(e,["functionCall"]);l!=null&&a(n,["functionCall"],fw(l));const s=u(e,["functionResponse"]);s!=null&&a(n,["functionResponse"],s);const c=u(e,["inlineData"]);c!=null&&a(n,["inlineData"],nw(c));const f=u(e,["text"]);f!=null&&a(n,["text"],f);const d=u(e,["thought"]);d!=null&&a(n,["thought"],d);const p=u(e,["thoughtSignature"]);p!=null&&a(n,["thoughtSignature"],p);const h=u(e,["videoMetadata"]);return h!=null&&a(n,["videoMetadata"],h),n}function ww(e){const n={},t=u(e,["functionCallingConfig"]);t!=null&&a(n,["functionCallingConfig"],dw(t));const r=u(e,["retrievalConfig"]);return r!=null&&a(n,["retrievalConfig"],r),n}function Iw(e){const n={},t=u(e,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(p=>p)),a(n,["functionDeclarations"],d)}if(u(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(e,["googleSearchRetrieval"]);r!=null&&a(n,["googleSearchRetrieval"],r);const i=u(e,["computerUse"]);i!=null&&a(n,["computerUse"],i);const o=u(e,["fileSearch"]);o!=null&&a(n,["fileSearch"],o);const l=u(e,["codeExecution"]);if(l!=null&&a(n,["codeExecution"],l),u(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=u(e,["googleMaps"]);s!=null&&a(n,["googleMaps"],gw(s));const c=u(e,["googleSearch"]);c!=null&&a(n,["googleSearch"],yw(c));const f=u(e,["urlContext"]);return f!=null&&a(n,["urlContext"],f),n}function kw(e){const n={},t=u(e,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(h=>pw(h))),a(n,["functionDeclarations"],p)}const r=u(e,["retrieval"]);r!=null&&a(n,["retrieval"],r);const i=u(e,["googleSearchRetrieval"]);i!=null&&a(n,["googleSearchRetrieval"],i);const o=u(e,["computerUse"]);if(o!=null&&a(n,["computerUse"],o),u(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=u(e,["codeExecution"]);l!=null&&a(n,["codeExecution"],l);const s=u(e,["enterpriseWebSearch"]);s!=null&&a(n,["enterpriseWebSearch"],s);const c=u(e,["googleMaps"]);c!=null&&a(n,["googleMaps"],c);const f=u(e,["googleSearch"]);f!=null&&a(n,["googleSearch"],f);const d=u(e,["urlContext"]);return d!=null&&a(n,["urlContext"],d),n}function Aw(e,n){const t={},r=u(e,["ttl"]);n!==void 0&&r!=null&&a(n,["ttl"],r);const i=u(e,["expireTime"]);return n!==void 0&&i!=null&&a(n,["expireTime"],i),t}function Pw(e,n){const t={},r=u(e,["ttl"]);n!==void 0&&r!=null&&a(n,["ttl"],r);const i=u(e,["expireTime"]);return n!==void 0&&i!=null&&a(n,["expireTime"],i),t}function Nw(e,n){const t={},r=u(n,["name"]);r!=null&&a(t,["_url","name"],bn(e,r));const i=u(n,["config"]);return i!=null&&Aw(i,t),t}function Rw(e,n){const t={},r=u(n,["name"]);r!=null&&a(t,["_url","name"],bn(e,r));const i=u(n,["config"]);return i!=null&&Pw(i,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mw extends $n{constructor(n){super(),this.apiClient=n,this.list=async(t={})=>new Ft(On.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(t),t)}async create(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=ow(this.apiClient,n);return s=B("cachedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{const f=iw(this.apiClient,n);return s=B("cachedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async get(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=mw(this.apiClient,n);return s=B("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{const f=hw(this.apiClient,n);return s=B("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async delete(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=sw(this.apiClient,n);return s=B("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=aw(d),h=new Fd;return Object.assign(h,p),h})}else{const f=lw(this.apiClient,n);return s=B("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=uw(d),h=new Fd;return Object.assign(h,p),h})}}async update(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=Rw(this.apiClient,n);return s=B("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{const f=Nw(this.apiClient,n);return s=B("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async listInternal(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=Cw(n);return s=B("cachedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=_w(d),h=new Ud;return Object.assign(h,p),h})}else{const f=Sw(n);return s=B("cachedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=Tw(d),h=new Ud;return Object.assign(h,p),h})}}}function Od(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function ce(e){return this instanceof ce?(this.v=e,this):new ce(e)}function ar(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(m){return function(E){return Promise.resolve(E).then(m,p)}}function s(m,E){r[m]&&(i[m]=function(C){return new Promise(function(I,g){o.push([m,C,I,g])>1||c(m,C)})},E&&(i[m]=E(i[m])))}function c(m,E){try{f(r[m](E))}catch(C){h(o[0][3],C)}}function f(m){m.value instanceof ce?Promise.resolve(m.value.v).then(d,p):h(o[0][2],m)}function d(m){c("next",m)}function p(m){c("throw",m)}function h(m,E){m(E),o.shift(),o.length&&c(o[0][0],o[0][1])}}function ni(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Od=="function"?Od(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(l){return new Promise(function(s,c){l=e[o](l),i(s,c,l.done,l.value)})}}function i(o,l,s,c){Promise.resolve(c).then(function(f){o({value:f,done:s})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dw(e){var n;if(e.candidates==null||e.candidates.length===0)return!1;const t=(n=e.candidates[0])===null||n===void 0?void 0:n.content;return t===void 0?!1:mg(t)}function mg(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const n of e.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function Lw(e){if(e.length!==0){for(const n of e)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function Jd(e){if(e===void 0||e.length===0)return[];const n=[],t=e.length;let r=0;for(;r<t;)if(e[r].role==="user")n.push(e[r]),r++;else{const i=[];let o=!0;for(;r<t&&e[r].role==="model";)i.push(e[r]),o&&!mg(e[r])&&(o=!1),r++;o?n.push(...i):n.pop()}return n}class Fw{constructor(n,t){this.modelsModule=n,this.apiClient=t}create(n){return new Uw(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class Uw{constructor(n,t,r,i={},o=[]){this.apiClient=n,this.modelsModule=t,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Lw(o)}async sendMessage(n){var t;await this.sendPromise;const r=De(n.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=n.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var o,l,s;const c=await i,f=(l=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,d=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];d!=null&&(h=(s=d.slice(p))!==null&&s!==void 0?s:[]);const m=f?[f]:[];this.recordHistory(r,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(n){var t;await this.sendPromise;const r=De(n.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=n.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(n=!1){const t=n?Jd(this.history):this.history;return structuredClone(t)}processStreamResponse(n,t){var r,i;return ar(this,arguments,function*(){var l,s,c,f;const d=[];try{for(var p=!0,h=ni(n),m;m=yield ce(h.next()),l=m.done,!l;p=!0){f=m.value,p=!1;const E=f;if(Dw(E)){const C=(i=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;C!==void 0&&d.push(C)}yield yield ce(E)}}catch(E){s={error:E}}finally{try{!p&&!l&&(c=h.return)&&(yield ce(c.call(h)))}finally{if(s)throw s.error}}this.recordHistory(t,d)})}recordHistory(n,t,r){let i=[];t.length>0&&t.every(o=>o.role!==void 0)?i=t:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Jd(r)):this.history.push(n),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ul extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,ul.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vw(e){const n={},t=u(e,["file"]);return t!=null&&a(n,["file"],t),n}function zw(e){const n={},t=u(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}function Bw(e){const n={},t=u(e,["name"]);return t!=null&&a(n,["_url","file"],ug(t)),n}function Hw(e){const n={},t=u(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}function Gw(e){const n={},t=u(e,["name"]);return t!=null&&a(n,["_url","file"],ug(t)),n}function qw(e,n){const t={},r=u(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=u(e,["pageToken"]);return n!==void 0&&i!=null&&a(n,["_query","pageToken"],i),t}function Ow(e){const n={},t=u(e,["config"]);return t!=null&&qw(t,n),n}function Jw(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=u(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),a(n,["files"],o)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $w extends $n{constructor(n){super(),this.apiClient=n,this.list=async(t={})=>new Ft(On.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(t),t)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(t=>t)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ow(n);return o=B("files",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const f=Jw(c),d=new K_;return Object.assign(d,f),d})}}async createInternal(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Vw(n);return o=B("upload/v1beta/files",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=zw(c),d=new Q_;return Object.assign(d,f),d})}}async get(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Gw(n);return o=B("files/{file}",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Bw(n);return o=B("files/{file}",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const f=Hw(c),d=new X_;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ao(e){const n={},t=u(e,["data"]);if(t!=null&&a(n,["data"],t),u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function bw(e){const n={},t=u(e,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>uI(o))),a(n,["parts"],i)}const r=u(e,["role"]);return r!=null&&a(n,["role"],r),n}function Ww(e){const n={};if(u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=u(e,["fileUri"]);t!=null&&a(n,["fileUri"],t);const r=u(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function Yw(e){const n={},t=u(e,["id"]);t!=null&&a(n,["id"],t);const r=u(e,["args"]);r!=null&&a(n,["args"],r);const i=u(e,["name"]);if(i!=null&&a(n,["name"],i),u(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function Kw(e){const n={};if(u(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=u(e,["description"]);t!=null&&a(n,["description"],t);const r=u(e,["name"]);r!=null&&a(n,["name"],r);const i=u(e,["parameters"]);i!=null&&a(n,["parameters"],i);const o=u(e,["parametersJsonSchema"]);o!=null&&a(n,["parametersJsonSchema"],o);const l=u(e,["response"]);l!=null&&a(n,["response"],l);const s=u(e,["responseJsonSchema"]);return s!=null&&a(n,["responseJsonSchema"],s),n}function Qw(e){const n={},t=u(e,["modelSelectionConfig"]);t!=null&&a(n,["modelConfig"],t);const r=u(e,["responseJsonSchema"]);r!=null&&a(n,["responseJsonSchema"],r);const i=u(e,["audioTimestamp"]);i!=null&&a(n,["audioTimestamp"],i);const o=u(e,["candidateCount"]);o!=null&&a(n,["candidateCount"],o);const l=u(e,["enableAffectiveDialog"]);l!=null&&a(n,["enableAffectiveDialog"],l);const s=u(e,["frequencyPenalty"]);s!=null&&a(n,["frequencyPenalty"],s);const c=u(e,["logprobs"]);c!=null&&a(n,["logprobs"],c);const f=u(e,["maxOutputTokens"]);f!=null&&a(n,["maxOutputTokens"],f);const d=u(e,["mediaResolution"]);d!=null&&a(n,["mediaResolution"],d);const p=u(e,["presencePenalty"]);p!=null&&a(n,["presencePenalty"],p);const h=u(e,["responseLogprobs"]);h!=null&&a(n,["responseLogprobs"],h);const m=u(e,["responseMimeType"]);m!=null&&a(n,["responseMimeType"],m);const E=u(e,["responseModalities"]);E!=null&&a(n,["responseModalities"],E);const C=u(e,["responseSchema"]);C!=null&&a(n,["responseSchema"],C);const I=u(e,["routingConfig"]);I!=null&&a(n,["routingConfig"],I);const g=u(e,["seed"]);g!=null&&a(n,["seed"],g);const y=u(e,["speechConfig"]);y!=null&&a(n,["speechConfig"],gg(y));const v=u(e,["stopSequences"]);v!=null&&a(n,["stopSequences"],v);const w=u(e,["temperature"]);w!=null&&a(n,["temperature"],w);const k=u(e,["thinkingConfig"]);k!=null&&a(n,["thinkingConfig"],k);const _=u(e,["topK"]);_!=null&&a(n,["topK"],_);const A=u(e,["topP"]);if(A!=null&&a(n,["topP"],A),u(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function Xw(e){const n={};if(u(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=u(e,["enableWidget"]);return t!=null&&a(n,["enableWidget"],t),n}function Zw(e){const n={};if(u(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=u(e,["timeRangeFilter"]);return t!=null&&a(n,["timeRangeFilter"],t),n}function jw(e,n){const t={},r=u(e,["generationConfig"]);n!==void 0&&r!=null&&a(n,["setup","generationConfig"],r);const i=u(e,["responseModalities"]);n!==void 0&&i!=null&&a(n,["setup","generationConfig","responseModalities"],i);const o=u(e,["temperature"]);n!==void 0&&o!=null&&a(n,["setup","generationConfig","temperature"],o);const l=u(e,["topP"]);n!==void 0&&l!=null&&a(n,["setup","generationConfig","topP"],l);const s=u(e,["topK"]);n!==void 0&&s!=null&&a(n,["setup","generationConfig","topK"],s);const c=u(e,["maxOutputTokens"]);n!==void 0&&c!=null&&a(n,["setup","generationConfig","maxOutputTokens"],c);const f=u(e,["mediaResolution"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","mediaResolution"],f);const d=u(e,["seed"]);n!==void 0&&d!=null&&a(n,["setup","generationConfig","seed"],d);const p=u(e,["speechConfig"]);n!==void 0&&p!=null&&a(n,["setup","generationConfig","speechConfig"],xa(p));const h=u(e,["thinkingConfig"]);n!==void 0&&h!=null&&a(n,["setup","generationConfig","thinkingConfig"],h);const m=u(e,["enableAffectiveDialog"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],m);const E=u(e,["systemInstruction"]);n!==void 0&&E!=null&&a(n,["setup","systemInstruction"],bw(De(E)));const C=u(e,["tools"]);if(n!==void 0&&C!=null){let _=xr(C);Array.isArray(_)&&(_=_.map(A=>cI(_r(A)))),a(n,["setup","tools"],_)}const I=u(e,["sessionResumption"]);n!==void 0&&I!=null&&a(n,["setup","sessionResumption"],aI(I));const g=u(e,["inputAudioTranscription"]);n!==void 0&&g!=null&&a(n,["setup","inputAudioTranscription"],g);const y=u(e,["outputAudioTranscription"]);n!==void 0&&y!=null&&a(n,["setup","outputAudioTranscription"],y);const v=u(e,["realtimeInputConfig"]);n!==void 0&&v!=null&&a(n,["setup","realtimeInputConfig"],v);const w=u(e,["contextWindowCompression"]);n!==void 0&&w!=null&&a(n,["setup","contextWindowCompression"],w);const k=u(e,["proactivity"]);return n!==void 0&&k!=null&&a(n,["setup","proactivity"],k),t}function eI(e,n){const t={},r=u(e,["generationConfig"]);n!==void 0&&r!=null&&a(n,["setup","generationConfig"],Qw(r));const i=u(e,["responseModalities"]);n!==void 0&&i!=null&&a(n,["setup","generationConfig","responseModalities"],i);const o=u(e,["temperature"]);n!==void 0&&o!=null&&a(n,["setup","generationConfig","temperature"],o);const l=u(e,["topP"]);n!==void 0&&l!=null&&a(n,["setup","generationConfig","topP"],l);const s=u(e,["topK"]);n!==void 0&&s!=null&&a(n,["setup","generationConfig","topK"],s);const c=u(e,["maxOutputTokens"]);n!==void 0&&c!=null&&a(n,["setup","generationConfig","maxOutputTokens"],c);const f=u(e,["mediaResolution"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","mediaResolution"],f);const d=u(e,["seed"]);n!==void 0&&d!=null&&a(n,["setup","generationConfig","seed"],d);const p=u(e,["speechConfig"]);n!==void 0&&p!=null&&a(n,["setup","generationConfig","speechConfig"],gg(xa(p)));const h=u(e,["thinkingConfig"]);n!==void 0&&h!=null&&a(n,["setup","generationConfig","thinkingConfig"],h);const m=u(e,["enableAffectiveDialog"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],m);const E=u(e,["systemInstruction"]);n!==void 0&&E!=null&&a(n,["setup","systemInstruction"],De(E));const C=u(e,["tools"]);if(n!==void 0&&C!=null){let _=xr(C);Array.isArray(_)&&(_=_.map(A=>fI(_r(A)))),a(n,["setup","tools"],_)}const I=u(e,["sessionResumption"]);n!==void 0&&I!=null&&a(n,["setup","sessionResumption"],I);const g=u(e,["inputAudioTranscription"]);n!==void 0&&g!=null&&a(n,["setup","inputAudioTranscription"],g);const y=u(e,["outputAudioTranscription"]);n!==void 0&&y!=null&&a(n,["setup","outputAudioTranscription"],y);const v=u(e,["realtimeInputConfig"]);n!==void 0&&v!=null&&a(n,["setup","realtimeInputConfig"],v);const w=u(e,["contextWindowCompression"]);n!==void 0&&w!=null&&a(n,["setup","contextWindowCompression"],w);const k=u(e,["proactivity"]);return n!==void 0&&k!=null&&a(n,["setup","proactivity"],k),t}function nI(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["setup","model"],X(e,r));const i=u(n,["config"]);return i!=null&&a(t,["config"],jw(i,t)),t}function tI(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["setup","model"],X(e,r));const i=u(n,["config"]);return i!=null&&a(t,["config"],eI(i,t)),t}function rI(e){const n={},t=u(e,["musicGenerationConfig"]);return t!=null&&a(n,["musicGenerationConfig"],t),n}function iI(e){const n={},t=u(e,["weightedPrompts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["weightedPrompts"],r)}return n}function oI(e){const n={},t=u(e,["media"]);if(t!=null){let f=rg(t);Array.isArray(f)&&(f=f.map(d=>ao(d))),a(n,["mediaChunks"],f)}const r=u(e,["audio"]);r!=null&&a(n,["audio"],ao(og(r)));const i=u(e,["audioStreamEnd"]);i!=null&&a(n,["audioStreamEnd"],i);const o=u(e,["video"]);o!=null&&a(n,["video"],ao(ig(o)));const l=u(e,["text"]);l!=null&&a(n,["text"],l);const s=u(e,["activityStart"]);s!=null&&a(n,["activityStart"],s);const c=u(e,["activityEnd"]);return c!=null&&a(n,["activityEnd"],c),n}function lI(e){const n={},t=u(e,["media"]);if(t!=null){let f=rg(t);Array.isArray(f)&&(f=f.map(d=>d)),a(n,["mediaChunks"],f)}const r=u(e,["audio"]);r!=null&&a(n,["audio"],og(r));const i=u(e,["audioStreamEnd"]);i!=null&&a(n,["audioStreamEnd"],i);const o=u(e,["video"]);o!=null&&a(n,["video"],ig(o));const l=u(e,["text"]);l!=null&&a(n,["text"],l);const s=u(e,["activityStart"]);s!=null&&a(n,["activityStart"],s);const c=u(e,["activityEnd"]);return c!=null&&a(n,["activityEnd"],c),n}function sI(e){const n={},t=u(e,["setupComplete"]);t!=null&&a(n,["setupComplete"],t);const r=u(e,["serverContent"]);r!=null&&a(n,["serverContent"],r);const i=u(e,["toolCall"]);i!=null&&a(n,["toolCall"],i);const o=u(e,["toolCallCancellation"]);o!=null&&a(n,["toolCallCancellation"],o);const l=u(e,["usageMetadata"]);l!=null&&a(n,["usageMetadata"],dI(l));const s=u(e,["goAway"]);s!=null&&a(n,["goAway"],s);const c=u(e,["sessionResumptionUpdate"]);return c!=null&&a(n,["sessionResumptionUpdate"],c),n}function uI(e){const n={},t=u(e,["mediaResolution"]);t!=null&&a(n,["mediaResolution"],t);const r=u(e,["codeExecutionResult"]);r!=null&&a(n,["codeExecutionResult"],r);const i=u(e,["executableCode"]);i!=null&&a(n,["executableCode"],i);const o=u(e,["fileData"]);o!=null&&a(n,["fileData"],Ww(o));const l=u(e,["functionCall"]);l!=null&&a(n,["functionCall"],Yw(l));const s=u(e,["functionResponse"]);s!=null&&a(n,["functionResponse"],s);const c=u(e,["inlineData"]);c!=null&&a(n,["inlineData"],ao(c));const f=u(e,["text"]);f!=null&&a(n,["text"],f);const d=u(e,["thought"]);d!=null&&a(n,["thought"],d);const p=u(e,["thoughtSignature"]);p!=null&&a(n,["thoughtSignature"],p);const h=u(e,["videoMetadata"]);return h!=null&&a(n,["videoMetadata"],h),n}function aI(e){const n={},t=u(e,["handle"]);if(t!=null&&a(n,["handle"],t),u(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function gg(e){const n={},t=u(e,["languageCode"]);t!=null&&a(n,["languageCode"],t);const r=u(e,["voiceConfig"]);if(r!=null&&a(n,["voiceConfig"],r),u(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function cI(e){const n={},t=u(e,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(p=>p)),a(n,["functionDeclarations"],d)}if(u(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(e,["googleSearchRetrieval"]);r!=null&&a(n,["googleSearchRetrieval"],r);const i=u(e,["computerUse"]);i!=null&&a(n,["computerUse"],i);const o=u(e,["fileSearch"]);o!=null&&a(n,["fileSearch"],o);const l=u(e,["codeExecution"]);if(l!=null&&a(n,["codeExecution"],l),u(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=u(e,["googleMaps"]);s!=null&&a(n,["googleMaps"],Xw(s));const c=u(e,["googleSearch"]);c!=null&&a(n,["googleSearch"],Zw(c));const f=u(e,["urlContext"]);return f!=null&&a(n,["urlContext"],f),n}function fI(e){const n={},t=u(e,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(h=>Kw(h))),a(n,["functionDeclarations"],p)}const r=u(e,["retrieval"]);r!=null&&a(n,["retrieval"],r);const i=u(e,["googleSearchRetrieval"]);i!=null&&a(n,["googleSearchRetrieval"],i);const o=u(e,["computerUse"]);if(o!=null&&a(n,["computerUse"],o),u(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=u(e,["codeExecution"]);l!=null&&a(n,["codeExecution"],l);const s=u(e,["enterpriseWebSearch"]);s!=null&&a(n,["enterpriseWebSearch"],s);const c=u(e,["googleMaps"]);c!=null&&a(n,["googleMaps"],c);const f=u(e,["googleSearch"]);f!=null&&a(n,["googleSearch"],f);const d=u(e,["urlContext"]);return d!=null&&a(n,["urlContext"],d),n}function dI(e){const n={},t=u(e,["promptTokenCount"]);t!=null&&a(n,["promptTokenCount"],t);const r=u(e,["cachedContentTokenCount"]);r!=null&&a(n,["cachedContentTokenCount"],r);const i=u(e,["candidatesTokenCount"]);i!=null&&a(n,["responseTokenCount"],i);const o=u(e,["toolUsePromptTokenCount"]);o!=null&&a(n,["toolUsePromptTokenCount"],o);const l=u(e,["thoughtsTokenCount"]);l!=null&&a(n,["thoughtsTokenCount"],l);const s=u(e,["totalTokenCount"]);s!=null&&a(n,["totalTokenCount"],s);const c=u(e,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(E=>E)),a(n,["promptTokensDetails"],m)}const f=u(e,["cacheTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(E=>E)),a(n,["cacheTokensDetails"],m)}const d=u(e,["candidatesTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(E=>E)),a(n,["responseTokensDetails"],m)}const p=u(e,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(E=>E)),a(n,["toolUsePromptTokensDetails"],m)}const h=u(e,["trafficType"]);return h!=null&&a(n,["trafficType"],h),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pI(e){const n={},t=u(e,["data"]);if(t!=null&&a(n,["data"],t),u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function hI(e){const n={},t=u(e,["content"]);t!=null&&a(n,["content"],t);const r=u(e,["citationMetadata"]);r!=null&&a(n,["citationMetadata"],mI(r));const i=u(e,["tokenCount"]);i!=null&&a(n,["tokenCount"],i);const o=u(e,["finishReason"]);o!=null&&a(n,["finishReason"],o);const l=u(e,["avgLogprobs"]);l!=null&&a(n,["avgLogprobs"],l);const s=u(e,["groundingMetadata"]);s!=null&&a(n,["groundingMetadata"],s);const c=u(e,["index"]);c!=null&&a(n,["index"],c);const f=u(e,["logprobsResult"]);f!=null&&a(n,["logprobsResult"],f);const d=u(e,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>m)),a(n,["safetyRatings"],h)}const p=u(e,["urlContextMetadata"]);return p!=null&&a(n,["urlContextMetadata"],p),n}function mI(e){const n={},t=u(e,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["citations"],r)}return n}function gI(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","model"],X(e,r));const i=u(n,["contents"]);if(i!=null){let o=cn(i);Array.isArray(o)&&(o=o.map(l=>l)),a(t,["contents"],o)}return t}function yI(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),a(n,["tokensInfo"],i)}return n}function vI(e){const n={},t=u(e,["values"]);t!=null&&a(n,["values"],t);const r=u(e,["statistics"]);return r!=null&&a(n,["statistics"],EI(r)),n}function EI(e){const n={},t=u(e,["truncated"]);t!=null&&a(n,["truncated"],t);const r=u(e,["token_count"]);return r!=null&&a(n,["tokenCount"],r),n}function al(e){const n={},t=u(e,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>Ak(o))),a(n,["parts"],i)}const r=u(e,["role"]);return r!=null&&a(n,["role"],r),n}function SI(e){const n={},t=u(e,["controlType"]);t!=null&&a(n,["controlType"],t);const r=u(e,["enableControlImageComputation"]);return r!=null&&a(n,["computeControl"],r),n}function CI(e){const n={};if(u(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function TI(e,n){const t={},r=u(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],De(r));const i=u(e,["tools"]);if(n!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Cg(s))),a(n,["tools"],l)}const o=u(e,["generationConfig"]);return n!==void 0&&o!=null&&a(n,["generationConfig"],pk(o)),t}function _I(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","model"],X(e,r));const i=u(n,["contents"]);if(i!=null){let l=cn(i);Array.isArray(l)&&(l=l.map(s=>al(s))),a(t,["contents"],l)}const o=u(n,["config"]);return o!=null&&CI(o),t}function xI(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","model"],X(e,r));const i=u(n,["contents"]);if(i!=null){let l=cn(i);Array.isArray(l)&&(l=l.map(s=>s)),a(t,["contents"],l)}const o=u(n,["config"]);return o!=null&&TI(o,t),t}function wI(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["totalTokens"]);r!=null&&a(n,["totalTokens"],r);const i=u(e,["cachedContentTokenCount"]);return i!=null&&a(n,["cachedContentTokenCount"],i),n}function II(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["totalTokens"]);return r!=null&&a(n,["totalTokens"],r),n}function kI(e,n){const t={},r=u(n,["model"]);return r!=null&&a(t,["_url","name"],X(e,r)),t}function AI(e,n){const t={},r=u(n,["model"]);return r!=null&&a(t,["_url","name"],X(e,r)),t}function PI(e){const n={},t=u(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}function NI(e){const n={},t=u(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}function RI(e,n){const t={},r=u(e,["outputGcsUri"]);n!==void 0&&r!=null&&a(n,["parameters","storageUri"],r);const i=u(e,["negativePrompt"]);n!==void 0&&i!=null&&a(n,["parameters","negativePrompt"],i);const o=u(e,["numberOfImages"]);n!==void 0&&o!=null&&a(n,["parameters","sampleCount"],o);const l=u(e,["aspectRatio"]);n!==void 0&&l!=null&&a(n,["parameters","aspectRatio"],l);const s=u(e,["guidanceScale"]);n!==void 0&&s!=null&&a(n,["parameters","guidanceScale"],s);const c=u(e,["seed"]);n!==void 0&&c!=null&&a(n,["parameters","seed"],c);const f=u(e,["safetyFilterLevel"]);n!==void 0&&f!=null&&a(n,["parameters","safetySetting"],f);const d=u(e,["personGeneration"]);n!==void 0&&d!=null&&a(n,["parameters","personGeneration"],d);const p=u(e,["includeSafetyAttributes"]);n!==void 0&&p!=null&&a(n,["parameters","includeSafetyAttributes"],p);const h=u(e,["includeRaiReason"]);n!==void 0&&h!=null&&a(n,["parameters","includeRaiReason"],h);const m=u(e,["language"]);n!==void 0&&m!=null&&a(n,["parameters","language"],m);const E=u(e,["outputMimeType"]);n!==void 0&&E!=null&&a(n,["parameters","outputOptions","mimeType"],E);const C=u(e,["outputCompressionQuality"]);n!==void 0&&C!=null&&a(n,["parameters","outputOptions","compressionQuality"],C);const I=u(e,["addWatermark"]);n!==void 0&&I!=null&&a(n,["parameters","addWatermark"],I);const g=u(e,["labels"]);n!==void 0&&g!=null&&a(n,["labels"],g);const y=u(e,["editMode"]);n!==void 0&&y!=null&&a(n,["parameters","editMode"],y);const v=u(e,["baseSteps"]);return n!==void 0&&v!=null&&a(n,["parameters","editConfig","baseSteps"],v),t}function MI(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","model"],X(e,r));const i=u(n,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const o=u(n,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>Lk(c))),a(t,["instances[0]","referenceImages"],s)}const l=u(n,["config"]);return l!=null&&RI(l,t),t}function DI(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>cl(o))),a(n,["generatedImages"],i)}return n}function LI(e,n){const t={},r=u(e,["taskType"]);n!==void 0&&r!=null&&a(n,["requests[]","taskType"],r);const i=u(e,["title"]);n!==void 0&&i!=null&&a(n,["requests[]","title"],i);const o=u(e,["outputDimensionality"]);if(n!==void 0&&o!=null&&a(n,["requests[]","outputDimensionality"],o),u(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function FI(e,n){const t={},r=u(e,["taskType"]);n!==void 0&&r!=null&&a(n,["instances[]","task_type"],r);const i=u(e,["title"]);n!==void 0&&i!=null&&a(n,["instances[]","title"],i);const o=u(e,["outputDimensionality"]);n!==void 0&&o!=null&&a(n,["parameters","outputDimensionality"],o);const l=u(e,["mimeType"]);n!==void 0&&l!=null&&a(n,["instances[]","mimeType"],l);const s=u(e,["autoTruncate"]);return n!==void 0&&s!=null&&a(n,["parameters","autoTruncate"],s),t}function UI(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","model"],X(e,r));const i=u(n,["contents"]);if(i!=null){let s=Ca(e,i);Array.isArray(s)&&(s=s.map(c=>c)),a(t,["requests[]","content"],s)}const o=u(n,["config"]);o!=null&&LI(o,t);const l=u(n,["model"]);return l!==void 0&&a(t,["requests[]","model"],X(e,l)),t}function VI(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","model"],X(e,r));const i=u(n,["contents"]);if(i!=null){let l=Ca(e,i);Array.isArray(l)&&(l=l.map(s=>s)),a(t,["instances[]","content"],l)}const o=u(n,["config"]);return o!=null&&FI(o,t),t}function zI(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),a(n,["embeddings"],o)}const i=u(e,["metadata"]);return i!=null&&a(n,["metadata"],i),n}function BI(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>vI(l))),a(n,["embeddings"],o)}const i=u(e,["metadata"]);return i!=null&&a(n,["metadata"],i),n}function HI(e){const n={},t=u(e,["endpoint"]);t!=null&&a(n,["name"],t);const r=u(e,["deployedModelId"]);return r!=null&&a(n,["deployedModelId"],r),n}function GI(e){const n={};if(u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=u(e,["fileUri"]);t!=null&&a(n,["fileUri"],t);const r=u(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function qI(e){const n={},t=u(e,["id"]);t!=null&&a(n,["id"],t);const r=u(e,["args"]);r!=null&&a(n,["args"],r);const i=u(e,["name"]);if(i!=null&&a(n,["name"],i),u(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function OI(e){const n={},t=u(e,["mode"]);t!=null&&a(n,["mode"],t);const r=u(e,["allowedFunctionNames"]);if(r!=null&&a(n,["allowedFunctionNames"],r),u(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function JI(e){const n={};if(u(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=u(e,["description"]);t!=null&&a(n,["description"],t);const r=u(e,["name"]);r!=null&&a(n,["name"],r);const i=u(e,["parameters"]);i!=null&&a(n,["parameters"],i);const o=u(e,["parametersJsonSchema"]);o!=null&&a(n,["parametersJsonSchema"],o);const l=u(e,["response"]);l!=null&&a(n,["response"],l);const s=u(e,["responseJsonSchema"]);return s!=null&&a(n,["responseJsonSchema"],s),n}function $I(e,n,t){const r={},i=u(n,["systemInstruction"]);t!==void 0&&i!=null&&a(t,["systemInstruction"],al(De(i)));const o=u(n,["temperature"]);o!=null&&a(r,["temperature"],o);const l=u(n,["topP"]);l!=null&&a(r,["topP"],l);const s=u(n,["topK"]);s!=null&&a(r,["topK"],s);const c=u(n,["candidateCount"]);c!=null&&a(r,["candidateCount"],c);const f=u(n,["maxOutputTokens"]);f!=null&&a(r,["maxOutputTokens"],f);const d=u(n,["stopSequences"]);d!=null&&a(r,["stopSequences"],d);const p=u(n,["responseLogprobs"]);p!=null&&a(r,["responseLogprobs"],p);const h=u(n,["logprobs"]);h!=null&&a(r,["logprobs"],h);const m=u(n,["presencePenalty"]);m!=null&&a(r,["presencePenalty"],m);const E=u(n,["frequencyPenalty"]);E!=null&&a(r,["frequencyPenalty"],E);const C=u(n,["seed"]);C!=null&&a(r,["seed"],C);const I=u(n,["responseMimeType"]);I!=null&&a(r,["responseMimeType"],I);const g=u(n,["responseSchema"]);g!=null&&a(r,["responseSchema"],Ta(g));const y=u(n,["responseJsonSchema"]);if(y!=null&&a(r,["responseJsonSchema"],y),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=u(n,["safetySettings"]);if(t!==void 0&&v!=null){let U=v;Array.isArray(U)&&(U=U.map(J=>Fk(J))),a(t,["safetySettings"],U)}const w=u(n,["tools"]);if(t!==void 0&&w!=null){let U=xr(w);Array.isArray(U)&&(U=U.map(J=>qk(_r(J)))),a(t,["tools"],U)}const k=u(n,["toolConfig"]);if(t!==void 0&&k!=null&&a(t,["toolConfig"],Gk(k)),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=u(n,["cachedContent"]);t!==void 0&&_!=null&&a(t,["cachedContent"],bn(e,_));const A=u(n,["responseModalities"]);A!=null&&a(r,["responseModalities"],A);const M=u(n,["mediaResolution"]);M!=null&&a(r,["mediaResolution"],M);const N=u(n,["speechConfig"]);if(N!=null&&a(r,["speechConfig"],_a(N)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=u(n,["thinkingConfig"]);D!=null&&a(r,["thinkingConfig"],D);const F=u(n,["imageConfig"]);return F!=null&&a(r,["imageConfig"],vk(F)),r}function bI(e,n,t){const r={},i=u(n,["systemInstruction"]);t!==void 0&&i!=null&&a(t,["systemInstruction"],De(i));const o=u(n,["temperature"]);o!=null&&a(r,["temperature"],o);const l=u(n,["topP"]);l!=null&&a(r,["topP"],l);const s=u(n,["topK"]);s!=null&&a(r,["topK"],s);const c=u(n,["candidateCount"]);c!=null&&a(r,["candidateCount"],c);const f=u(n,["maxOutputTokens"]);f!=null&&a(r,["maxOutputTokens"],f);const d=u(n,["stopSequences"]);d!=null&&a(r,["stopSequences"],d);const p=u(n,["responseLogprobs"]);p!=null&&a(r,["responseLogprobs"],p);const h=u(n,["logprobs"]);h!=null&&a(r,["logprobs"],h);const m=u(n,["presencePenalty"]);m!=null&&a(r,["presencePenalty"],m);const E=u(n,["frequencyPenalty"]);E!=null&&a(r,["frequencyPenalty"],E);const C=u(n,["seed"]);C!=null&&a(r,["seed"],C);const I=u(n,["responseMimeType"]);I!=null&&a(r,["responseMimeType"],I);const g=u(n,["responseSchema"]);g!=null&&a(r,["responseSchema"],Ta(g));const y=u(n,["responseJsonSchema"]);y!=null&&a(r,["responseJsonSchema"],y);const v=u(n,["routingConfig"]);v!=null&&a(r,["routingConfig"],v);const w=u(n,["modelSelectionConfig"]);w!=null&&a(r,["modelConfig"],w);const k=u(n,["safetySettings"]);if(t!==void 0&&k!=null){let j=k;Array.isArray(j)&&(j=j.map(se=>se)),a(t,["safetySettings"],j)}const _=u(n,["tools"]);if(t!==void 0&&_!=null){let j=xr(_);Array.isArray(j)&&(j=j.map(se=>Cg(_r(se)))),a(t,["tools"],j)}const A=u(n,["toolConfig"]);t!==void 0&&A!=null&&a(t,["toolConfig"],A);const M=u(n,["labels"]);t!==void 0&&M!=null&&a(t,["labels"],M);const N=u(n,["cachedContent"]);t!==void 0&&N!=null&&a(t,["cachedContent"],bn(e,N));const D=u(n,["responseModalities"]);D!=null&&a(r,["responseModalities"],D);const F=u(n,["mediaResolution"]);F!=null&&a(r,["mediaResolution"],F);const U=u(n,["speechConfig"]);U!=null&&a(r,["speechConfig"],Sg(_a(U)));const J=u(n,["audioTimestamp"]);J!=null&&a(r,["audioTimestamp"],J);const re=u(n,["thinkingConfig"]);re!=null&&a(r,["thinkingConfig"],re);const b=u(n,["imageConfig"]);return b!=null&&a(r,["imageConfig"],Ek(b)),r}function $d(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","model"],X(e,r));const i=u(n,["contents"]);if(i!=null){let l=cn(i);Array.isArray(l)&&(l=l.map(s=>al(s))),a(t,["contents"],l)}const o=u(n,["config"]);return o!=null&&a(t,["generationConfig"],$I(e,o,t)),t}function bd(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","model"],X(e,r));const i=u(n,["contents"]);if(i!=null){let l=cn(i);Array.isArray(l)&&(l=l.map(s=>s)),a(t,["contents"],l)}const o=u(n,["config"]);return o!=null&&a(t,["generationConfig"],bI(e,o,t)),t}function Wd(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>hI(f))),a(n,["candidates"],c)}const i=u(e,["modelVersion"]);i!=null&&a(n,["modelVersion"],i);const o=u(e,["promptFeedback"]);o!=null&&a(n,["promptFeedback"],o);const l=u(e,["responseId"]);l!=null&&a(n,["responseId"],l);const s=u(e,["usageMetadata"]);return s!=null&&a(n,["usageMetadata"],s),n}function Yd(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>d)),a(n,["candidates"],f)}const i=u(e,["createTime"]);i!=null&&a(n,["createTime"],i);const o=u(e,["modelVersion"]);o!=null&&a(n,["modelVersion"],o);const l=u(e,["promptFeedback"]);l!=null&&a(n,["promptFeedback"],l);const s=u(e,["responseId"]);s!=null&&a(n,["responseId"],s);const c=u(e,["usageMetadata"]);return c!=null&&a(n,["usageMetadata"],c),n}function WI(e,n){const t={};if(u(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(e,["numberOfImages"]);n!==void 0&&r!=null&&a(n,["parameters","sampleCount"],r);const i=u(e,["aspectRatio"]);n!==void 0&&i!=null&&a(n,["parameters","aspectRatio"],i);const o=u(e,["guidanceScale"]);if(n!==void 0&&o!=null&&a(n,["parameters","guidanceScale"],o),u(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=u(e,["safetyFilterLevel"]);n!==void 0&&l!=null&&a(n,["parameters","safetySetting"],l);const s=u(e,["personGeneration"]);n!==void 0&&s!=null&&a(n,["parameters","personGeneration"],s);const c=u(e,["includeSafetyAttributes"]);n!==void 0&&c!=null&&a(n,["parameters","includeSafetyAttributes"],c);const f=u(e,["includeRaiReason"]);n!==void 0&&f!=null&&a(n,["parameters","includeRaiReason"],f);const d=u(e,["language"]);n!==void 0&&d!=null&&a(n,["parameters","language"],d);const p=u(e,["outputMimeType"]);n!==void 0&&p!=null&&a(n,["parameters","outputOptions","mimeType"],p);const h=u(e,["outputCompressionQuality"]);if(n!==void 0&&h!=null&&a(n,["parameters","outputOptions","compressionQuality"],h),u(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=u(e,["imageSize"]);if(n!==void 0&&m!=null&&a(n,["parameters","sampleImageSize"],m),u(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function YI(e,n){const t={},r=u(e,["outputGcsUri"]);n!==void 0&&r!=null&&a(n,["parameters","storageUri"],r);const i=u(e,["negativePrompt"]);n!==void 0&&i!=null&&a(n,["parameters","negativePrompt"],i);const o=u(e,["numberOfImages"]);n!==void 0&&o!=null&&a(n,["parameters","sampleCount"],o);const l=u(e,["aspectRatio"]);n!==void 0&&l!=null&&a(n,["parameters","aspectRatio"],l);const s=u(e,["guidanceScale"]);n!==void 0&&s!=null&&a(n,["parameters","guidanceScale"],s);const c=u(e,["seed"]);n!==void 0&&c!=null&&a(n,["parameters","seed"],c);const f=u(e,["safetyFilterLevel"]);n!==void 0&&f!=null&&a(n,["parameters","safetySetting"],f);const d=u(e,["personGeneration"]);n!==void 0&&d!=null&&a(n,["parameters","personGeneration"],d);const p=u(e,["includeSafetyAttributes"]);n!==void 0&&p!=null&&a(n,["parameters","includeSafetyAttributes"],p);const h=u(e,["includeRaiReason"]);n!==void 0&&h!=null&&a(n,["parameters","includeRaiReason"],h);const m=u(e,["language"]);n!==void 0&&m!=null&&a(n,["parameters","language"],m);const E=u(e,["outputMimeType"]);n!==void 0&&E!=null&&a(n,["parameters","outputOptions","mimeType"],E);const C=u(e,["outputCompressionQuality"]);n!==void 0&&C!=null&&a(n,["parameters","outputOptions","compressionQuality"],C);const I=u(e,["addWatermark"]);n!==void 0&&I!=null&&a(n,["parameters","addWatermark"],I);const g=u(e,["labels"]);n!==void 0&&g!=null&&a(n,["labels"],g);const y=u(e,["imageSize"]);n!==void 0&&y!=null&&a(n,["parameters","sampleImageSize"],y);const v=u(e,["enhancePrompt"]);return n!==void 0&&v!=null&&a(n,["parameters","enhancePrompt"],v),t}function KI(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","model"],X(e,r));const i=u(n,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const o=u(n,["config"]);return o!=null&&WI(o,t),t}function QI(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","model"],X(e,r));const i=u(n,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const o=u(n,["config"]);return o!=null&&YI(o,t),t}function XI(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>ak(l))),a(n,["generatedImages"],o)}const i=u(e,["positivePromptSafetyAttributes"]);return i!=null&&a(n,["positivePromptSafetyAttributes"],vg(i)),n}function ZI(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>cl(l))),a(n,["generatedImages"],o)}const i=u(e,["positivePromptSafetyAttributes"]);return i!=null&&a(n,["positivePromptSafetyAttributes"],Eg(i)),n}function jI(e,n){const t={},r=u(e,["numberOfVideos"]);if(n!==void 0&&r!=null&&a(n,["parameters","sampleCount"],r),u(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=u(e,["durationSeconds"]);if(n!==void 0&&i!=null&&a(n,["parameters","durationSeconds"],i),u(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=u(e,["aspectRatio"]);n!==void 0&&o!=null&&a(n,["parameters","aspectRatio"],o);const l=u(e,["resolution"]);n!==void 0&&l!=null&&a(n,["parameters","resolution"],l);const s=u(e,["personGeneration"]);if(n!==void 0&&s!=null&&a(n,["parameters","personGeneration"],s),u(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=u(e,["negativePrompt"]);n!==void 0&&c!=null&&a(n,["parameters","negativePrompt"],c);const f=u(e,["enhancePrompt"]);if(n!==void 0&&f!=null&&a(n,["parameters","enhancePrompt"],f),u(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=u(e,["lastFrame"]);n!==void 0&&d!=null&&a(n,["instances[0]","lastFrame"],fl(d));const p=u(e,["referenceImages"]);if(n!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>nA(m))),a(n,["instances[0]","referenceImages"],h)}if(u(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function ek(e,n){const t={},r=u(e,["numberOfVideos"]);n!==void 0&&r!=null&&a(n,["parameters","sampleCount"],r);const i=u(e,["outputGcsUri"]);n!==void 0&&i!=null&&a(n,["parameters","storageUri"],i);const o=u(e,["fps"]);n!==void 0&&o!=null&&a(n,["parameters","fps"],o);const l=u(e,["durationSeconds"]);n!==void 0&&l!=null&&a(n,["parameters","durationSeconds"],l);const s=u(e,["seed"]);n!==void 0&&s!=null&&a(n,["parameters","seed"],s);const c=u(e,["aspectRatio"]);n!==void 0&&c!=null&&a(n,["parameters","aspectRatio"],c);const f=u(e,["resolution"]);n!==void 0&&f!=null&&a(n,["parameters","resolution"],f);const d=u(e,["personGeneration"]);n!==void 0&&d!=null&&a(n,["parameters","personGeneration"],d);const p=u(e,["pubsubTopic"]);n!==void 0&&p!=null&&a(n,["parameters","pubsubTopic"],p);const h=u(e,["negativePrompt"]);n!==void 0&&h!=null&&a(n,["parameters","negativePrompt"],h);const m=u(e,["enhancePrompt"]);n!==void 0&&m!=null&&a(n,["parameters","enhancePrompt"],m);const E=u(e,["generateAudio"]);n!==void 0&&E!=null&&a(n,["parameters","generateAudio"],E);const C=u(e,["lastFrame"]);n!==void 0&&C!=null&&a(n,["instances[0]","lastFrame"],Tn(C));const I=u(e,["referenceImages"]);if(n!==void 0&&I!=null){let v=I;Array.isArray(v)&&(v=v.map(w=>tA(w))),a(n,["instances[0]","referenceImages"],v)}const g=u(e,["mask"]);n!==void 0&&g!=null&&a(n,["instances[0]","mask"],eA(g));const y=u(e,["compressionQuality"]);return n!==void 0&&y!=null&&a(n,["parameters","compressionQuality"],y),t}function nk(e){const n={},t=u(e,["name"]);t!=null&&a(n,["name"],t);const r=u(e,["metadata"]);r!=null&&a(n,["metadata"],r);const i=u(e,["done"]);i!=null&&a(n,["done"],i);const o=u(e,["error"]);o!=null&&a(n,["error"],o);const l=u(e,["response","generateVideoResponse"]);return l!=null&&a(n,["response"],ok(l)),n}function tk(e){const n={},t=u(e,["name"]);t!=null&&a(n,["name"],t);const r=u(e,["metadata"]);r!=null&&a(n,["metadata"],r);const i=u(e,["done"]);i!=null&&a(n,["done"],i);const o=u(e,["error"]);o!=null&&a(n,["error"],o);const l=u(e,["response"]);return l!=null&&a(n,["response"],lk(l)),n}function rk(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","model"],X(e,r));const i=u(n,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const o=u(n,["image"]);o!=null&&a(t,["instances[0]","image"],fl(o));const l=u(n,["video"]);l!=null&&a(t,["instances[0]","video"],Tg(l));const s=u(n,["source"]);s!=null&&sk(s,t);const c=u(n,["config"]);return c!=null&&jI(c,t),t}function ik(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","model"],X(e,r));const i=u(n,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const o=u(n,["image"]);o!=null&&a(t,["instances[0]","image"],Tn(o));const l=u(n,["video"]);l!=null&&a(t,["instances[0]","video"],_g(l));const s=u(n,["source"]);s!=null&&uk(s,t);const c=u(n,["config"]);return c!=null&&ek(c,t),t}function ok(e){const n={},t=u(e,["generatedSamples"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(l=>fk(l))),a(n,["generatedVideos"],o)}const r=u(e,["raiMediaFilteredCount"]);r!=null&&a(n,["raiMediaFilteredCount"],r);const i=u(e,["raiMediaFilteredReasons"]);return i!=null&&a(n,["raiMediaFilteredReasons"],i),n}function lk(e){const n={},t=u(e,["videos"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(l=>dk(l))),a(n,["generatedVideos"],o)}const r=u(e,["raiMediaFilteredCount"]);r!=null&&a(n,["raiMediaFilteredCount"],r);const i=u(e,["raiMediaFilteredReasons"]);return i!=null&&a(n,["raiMediaFilteredReasons"],i),n}function sk(e,n){const t={},r=u(e,["prompt"]);n!==void 0&&r!=null&&a(n,["instances[0]","prompt"],r);const i=u(e,["image"]);n!==void 0&&i!=null&&a(n,["instances[0]","image"],fl(i));const o=u(e,["video"]);return n!==void 0&&o!=null&&a(n,["instances[0]","video"],Tg(o)),t}function uk(e,n){const t={},r=u(e,["prompt"]);n!==void 0&&r!=null&&a(n,["instances[0]","prompt"],r);const i=u(e,["image"]);n!==void 0&&i!=null&&a(n,["instances[0]","image"],Tn(i));const o=u(e,["video"]);return n!==void 0&&o!=null&&a(n,["instances[0]","video"],_g(o)),t}function ak(e){const n={},t=u(e,["_self"]);t!=null&&a(n,["image"],Sk(t));const r=u(e,["raiFilteredReason"]);r!=null&&a(n,["raiFilteredReason"],r);const i=u(e,["_self"]);return i!=null&&a(n,["safetyAttributes"],vg(i)),n}function cl(e){const n={},t=u(e,["_self"]);t!=null&&a(n,["image"],yg(t));const r=u(e,["raiFilteredReason"]);r!=null&&a(n,["raiFilteredReason"],r);const i=u(e,["_self"]);i!=null&&a(n,["safetyAttributes"],Eg(i));const o=u(e,["prompt"]);return o!=null&&a(n,["enhancedPrompt"],o),n}function ck(e){const n={},t=u(e,["_self"]);t!=null&&a(n,["mask"],yg(t));const r=u(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),a(n,["labels"],i)}return n}function fk(e){const n={},t=u(e,["video"]);return t!=null&&a(n,["video"],Zk(t)),n}function dk(e){const n={},t=u(e,["_self"]);return t!=null&&a(n,["video"],jk(t)),n}function pk(e){const n={},t=u(e,["modelSelectionConfig"]);t!=null&&a(n,["modelConfig"],t);const r=u(e,["responseJsonSchema"]);r!=null&&a(n,["responseJsonSchema"],r);const i=u(e,["audioTimestamp"]);i!=null&&a(n,["audioTimestamp"],i);const o=u(e,["candidateCount"]);o!=null&&a(n,["candidateCount"],o);const l=u(e,["enableAffectiveDialog"]);l!=null&&a(n,["enableAffectiveDialog"],l);const s=u(e,["frequencyPenalty"]);s!=null&&a(n,["frequencyPenalty"],s);const c=u(e,["logprobs"]);c!=null&&a(n,["logprobs"],c);const f=u(e,["maxOutputTokens"]);f!=null&&a(n,["maxOutputTokens"],f);const d=u(e,["mediaResolution"]);d!=null&&a(n,["mediaResolution"],d);const p=u(e,["presencePenalty"]);p!=null&&a(n,["presencePenalty"],p);const h=u(e,["responseLogprobs"]);h!=null&&a(n,["responseLogprobs"],h);const m=u(e,["responseMimeType"]);m!=null&&a(n,["responseMimeType"],m);const E=u(e,["responseModalities"]);E!=null&&a(n,["responseModalities"],E);const C=u(e,["responseSchema"]);C!=null&&a(n,["responseSchema"],C);const I=u(e,["routingConfig"]);I!=null&&a(n,["routingConfig"],I);const g=u(e,["seed"]);g!=null&&a(n,["seed"],g);const y=u(e,["speechConfig"]);y!=null&&a(n,["speechConfig"],Sg(y));const v=u(e,["stopSequences"]);v!=null&&a(n,["stopSequences"],v);const w=u(e,["temperature"]);w!=null&&a(n,["temperature"],w);const k=u(e,["thinkingConfig"]);k!=null&&a(n,["thinkingConfig"],k);const _=u(e,["topK"]);_!=null&&a(n,["topK"],_);const A=u(e,["topP"]);if(A!=null&&a(n,["topP"],A),u(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function hk(e,n){const t={},r=u(n,["model"]);return r!=null&&a(t,["_url","name"],X(e,r)),t}function mk(e,n){const t={},r=u(n,["model"]);return r!=null&&a(t,["_url","name"],X(e,r)),t}function gk(e){const n={};if(u(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=u(e,["enableWidget"]);return t!=null&&a(n,["enableWidget"],t),n}function yk(e){const n={};if(u(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=u(e,["timeRangeFilter"]);return t!=null&&a(n,["timeRangeFilter"],t),n}function vk(e){const n={},t=u(e,["aspectRatio"]);t!=null&&a(n,["aspectRatio"],t);const r=u(e,["imageSize"]);if(r!=null&&a(n,["imageSize"],r),u(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function Ek(e){const n={},t=u(e,["aspectRatio"]);t!=null&&a(n,["aspectRatio"],t);const r=u(e,["imageSize"]);r!=null&&a(n,["imageSize"],r);const i=u(e,["outputMimeType"]);i!=null&&a(n,["imageOutputOptions","mimeType"],i);const o=u(e,["outputCompressionQuality"]);return o!=null&&a(n,["imageOutputOptions","compressionQuality"],o),n}function Sk(e){const n={},t=u(e,["bytesBase64Encoded"]);t!=null&&a(n,["imageBytes"],yt(t));const r=u(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function yg(e){const n={},t=u(e,["gcsUri"]);t!=null&&a(n,["gcsUri"],t);const r=u(e,["bytesBase64Encoded"]);r!=null&&a(n,["imageBytes"],yt(r));const i=u(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function fl(e){const n={};if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=u(e,["imageBytes"]);t!=null&&a(n,["bytesBase64Encoded"],yt(t));const r=u(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function Tn(e){const n={},t=u(e,["gcsUri"]);t!=null&&a(n,["gcsUri"],t);const r=u(e,["imageBytes"]);r!=null&&a(n,["bytesBase64Encoded"],yt(r));const i=u(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function Ck(e,n,t){const r={},i=u(n,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const o=u(n,["pageToken"]);t!==void 0&&o!=null&&a(t,["_query","pageToken"],o);const l=u(n,["filter"]);t!==void 0&&l!=null&&a(t,["_query","filter"],l);const s=u(n,["queryBase"]);return t!==void 0&&s!=null&&a(t,["_url","models_url"],ag(e,s)),r}function Tk(e,n,t){const r={},i=u(n,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const o=u(n,["pageToken"]);t!==void 0&&o!=null&&a(t,["_query","pageToken"],o);const l=u(n,["filter"]);t!==void 0&&l!=null&&a(t,["_query","filter"],l);const s=u(n,["queryBase"]);return t!==void 0&&s!=null&&a(t,["_url","models_url"],ag(e,s)),r}function _k(e,n){const t={},r=u(n,["config"]);return r!=null&&Ck(e,r,t),t}function xk(e,n){const t={},r=u(n,["config"]);return r!=null&&Tk(e,r,t),t}function wk(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=u(e,["_self"]);if(i!=null){let o=cg(i);Array.isArray(o)&&(o=o.map(l=>iu(l))),a(n,["models"],o)}return n}function Ik(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=u(e,["_self"]);if(i!=null){let o=cg(i);Array.isArray(o)&&(o=o.map(l=>ou(l))),a(n,["models"],o)}return n}function kk(e){const n={},t=u(e,["maskMode"]);t!=null&&a(n,["maskMode"],t);const r=u(e,["segmentationClasses"]);r!=null&&a(n,["maskClasses"],r);const i=u(e,["maskDilation"]);return i!=null&&a(n,["dilation"],i),n}function iu(e){const n={},t=u(e,["name"]);t!=null&&a(n,["name"],t);const r=u(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=u(e,["description"]);i!=null&&a(n,["description"],i);const o=u(e,["version"]);o!=null&&a(n,["version"],o);const l=u(e,["_self"]);l!=null&&a(n,["tunedModelInfo"],Ok(l));const s=u(e,["inputTokenLimit"]);s!=null&&a(n,["inputTokenLimit"],s);const c=u(e,["outputTokenLimit"]);c!=null&&a(n,["outputTokenLimit"],c);const f=u(e,["supportedGenerationMethods"]);f!=null&&a(n,["supportedActions"],f);const d=u(e,["temperature"]);d!=null&&a(n,["temperature"],d);const p=u(e,["maxTemperature"]);p!=null&&a(n,["maxTemperature"],p);const h=u(e,["topP"]);h!=null&&a(n,["topP"],h);const m=u(e,["topK"]);m!=null&&a(n,["topK"],m);const E=u(e,["thinking"]);return E!=null&&a(n,["thinking"],E),n}function ou(e){const n={},t=u(e,["name"]);t!=null&&a(n,["name"],t);const r=u(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=u(e,["description"]);i!=null&&a(n,["description"],i);const o=u(e,["versionId"]);o!=null&&a(n,["version"],o);const l=u(e,["deployedModels"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(h=>HI(h))),a(n,["endpoints"],p)}const s=u(e,["labels"]);s!=null&&a(n,["labels"],s);const c=u(e,["_self"]);c!=null&&a(n,["tunedModelInfo"],Jk(c));const f=u(e,["defaultCheckpointId"]);f!=null&&a(n,["defaultCheckpointId"],f);const d=u(e,["checkpoints"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>h)),a(n,["checkpoints"],p)}return n}function Ak(e){const n={},t=u(e,["mediaResolution"]);t!=null&&a(n,["mediaResolution"],t);const r=u(e,["codeExecutionResult"]);r!=null&&a(n,["codeExecutionResult"],r);const i=u(e,["executableCode"]);i!=null&&a(n,["executableCode"],i);const o=u(e,["fileData"]);o!=null&&a(n,["fileData"],GI(o));const l=u(e,["functionCall"]);l!=null&&a(n,["functionCall"],qI(l));const s=u(e,["functionResponse"]);s!=null&&a(n,["functionResponse"],s);const c=u(e,["inlineData"]);c!=null&&a(n,["inlineData"],pI(c));const f=u(e,["text"]);f!=null&&a(n,["text"],f);const d=u(e,["thought"]);d!=null&&a(n,["thought"],d);const p=u(e,["thoughtSignature"]);p!=null&&a(n,["thoughtSignature"],p);const h=u(e,["videoMetadata"]);return h!=null&&a(n,["videoMetadata"],h),n}function Pk(e){const n={},t=u(e,["productImage"]);return t!=null&&a(n,["image"],Tn(t)),n}function Nk(e,n){const t={},r=u(e,["numberOfImages"]);n!==void 0&&r!=null&&a(n,["parameters","sampleCount"],r);const i=u(e,["baseSteps"]);n!==void 0&&i!=null&&a(n,["parameters","baseSteps"],i);const o=u(e,["outputGcsUri"]);n!==void 0&&o!=null&&a(n,["parameters","storageUri"],o);const l=u(e,["seed"]);n!==void 0&&l!=null&&a(n,["parameters","seed"],l);const s=u(e,["safetyFilterLevel"]);n!==void 0&&s!=null&&a(n,["parameters","safetySetting"],s);const c=u(e,["personGeneration"]);n!==void 0&&c!=null&&a(n,["parameters","personGeneration"],c);const f=u(e,["addWatermark"]);n!==void 0&&f!=null&&a(n,["parameters","addWatermark"],f);const d=u(e,["outputMimeType"]);n!==void 0&&d!=null&&a(n,["parameters","outputOptions","mimeType"],d);const p=u(e,["outputCompressionQuality"]);n!==void 0&&p!=null&&a(n,["parameters","outputOptions","compressionQuality"],p);const h=u(e,["enhancePrompt"]);n!==void 0&&h!=null&&a(n,["parameters","enhancePrompt"],h);const m=u(e,["labels"]);return n!==void 0&&m!=null&&a(n,["labels"],m),t}function Rk(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","model"],X(e,r));const i=u(n,["source"]);i!=null&&Dk(i,t);const o=u(n,["config"]);return o!=null&&Nk(o,t),t}function Mk(e){const n={},t=u(e,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>cl(i))),a(n,["generatedImages"],r)}return n}function Dk(e,n){const t={},r=u(e,["prompt"]);n!==void 0&&r!=null&&a(n,["instances[0]","prompt"],r);const i=u(e,["personImage"]);n!==void 0&&i!=null&&a(n,["instances[0]","personImage","image"],Tn(i));const o=u(e,["productImages"]);if(n!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>Pk(s))),a(n,["instances[0]","productImages"],l)}return t}function Lk(e){const n={},t=u(e,["referenceImage"]);t!=null&&a(n,["referenceImage"],Tn(t));const r=u(e,["referenceId"]);r!=null&&a(n,["referenceId"],r);const i=u(e,["referenceType"]);i!=null&&a(n,["referenceType"],i);const o=u(e,["maskImageConfig"]);o!=null&&a(n,["maskImageConfig"],kk(o));const l=u(e,["controlImageConfig"]);l!=null&&a(n,["controlImageConfig"],SI(l));const s=u(e,["styleImageConfig"]);s!=null&&a(n,["styleImageConfig"],s);const c=u(e,["subjectImageConfig"]);return c!=null&&a(n,["subjectImageConfig"],c),n}function vg(e){const n={},t=u(e,["safetyAttributes","categories"]);t!=null&&a(n,["categories"],t);const r=u(e,["safetyAttributes","scores"]);r!=null&&a(n,["scores"],r);const i=u(e,["contentType"]);return i!=null&&a(n,["contentType"],i),n}function Eg(e){const n={},t=u(e,["safetyAttributes","categories"]);t!=null&&a(n,["categories"],t);const r=u(e,["safetyAttributes","scores"]);r!=null&&a(n,["scores"],r);const i=u(e,["contentType"]);return i!=null&&a(n,["contentType"],i),n}function Fk(e){const n={},t=u(e,["category"]);if(t!=null&&a(n,["category"],t),u(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(e,["threshold"]);return r!=null&&a(n,["threshold"],r),n}function Uk(e){const n={},t=u(e,["image"]);return t!=null&&a(n,["image"],Tn(t)),n}function Vk(e,n){const t={},r=u(e,["mode"]);n!==void 0&&r!=null&&a(n,["parameters","mode"],r);const i=u(e,["maxPredictions"]);n!==void 0&&i!=null&&a(n,["parameters","maxPredictions"],i);const o=u(e,["confidenceThreshold"]);n!==void 0&&o!=null&&a(n,["parameters","confidenceThreshold"],o);const l=u(e,["maskDilation"]);n!==void 0&&l!=null&&a(n,["parameters","maskDilation"],l);const s=u(e,["binaryColorThreshold"]);n!==void 0&&s!=null&&a(n,["parameters","binaryColorThreshold"],s);const c=u(e,["labels"]);return n!==void 0&&c!=null&&a(n,["labels"],c),t}function zk(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","model"],X(e,r));const i=u(n,["source"]);i!=null&&Hk(i,t);const o=u(n,["config"]);return o!=null&&Vk(o,t),t}function Bk(e){const n={},t=u(e,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>ck(i))),a(n,["generatedMasks"],r)}return n}function Hk(e,n){const t={},r=u(e,["prompt"]);n!==void 0&&r!=null&&a(n,["instances[0]","prompt"],r);const i=u(e,["image"]);n!==void 0&&i!=null&&a(n,["instances[0]","image"],Tn(i));const o=u(e,["scribbleImage"]);return n!==void 0&&o!=null&&a(n,["instances[0]","scribble"],Uk(o)),t}function Sg(e){const n={},t=u(e,["languageCode"]);t!=null&&a(n,["languageCode"],t);const r=u(e,["voiceConfig"]);if(r!=null&&a(n,["voiceConfig"],r),u(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function Gk(e){const n={},t=u(e,["functionCallingConfig"]);t!=null&&a(n,["functionCallingConfig"],OI(t));const r=u(e,["retrievalConfig"]);return r!=null&&a(n,["retrievalConfig"],r),n}function qk(e){const n={},t=u(e,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(p=>p)),a(n,["functionDeclarations"],d)}if(u(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(e,["googleSearchRetrieval"]);r!=null&&a(n,["googleSearchRetrieval"],r);const i=u(e,["computerUse"]);i!=null&&a(n,["computerUse"],i);const o=u(e,["fileSearch"]);o!=null&&a(n,["fileSearch"],o);const l=u(e,["codeExecution"]);if(l!=null&&a(n,["codeExecution"],l),u(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=u(e,["googleMaps"]);s!=null&&a(n,["googleMaps"],gk(s));const c=u(e,["googleSearch"]);c!=null&&a(n,["googleSearch"],yk(c));const f=u(e,["urlContext"]);return f!=null&&a(n,["urlContext"],f),n}function Cg(e){const n={},t=u(e,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(h=>JI(h))),a(n,["functionDeclarations"],p)}const r=u(e,["retrieval"]);r!=null&&a(n,["retrieval"],r);const i=u(e,["googleSearchRetrieval"]);i!=null&&a(n,["googleSearchRetrieval"],i);const o=u(e,["computerUse"]);if(o!=null&&a(n,["computerUse"],o),u(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=u(e,["codeExecution"]);l!=null&&a(n,["codeExecution"],l);const s=u(e,["enterpriseWebSearch"]);s!=null&&a(n,["enterpriseWebSearch"],s);const c=u(e,["googleMaps"]);c!=null&&a(n,["googleMaps"],c);const f=u(e,["googleSearch"]);f!=null&&a(n,["googleSearch"],f);const d=u(e,["urlContext"]);return d!=null&&a(n,["urlContext"],d),n}function Ok(e){const n={},t=u(e,["baseModel"]);t!=null&&a(n,["baseModel"],t);const r=u(e,["createTime"]);r!=null&&a(n,["createTime"],r);const i=u(e,["updateTime"]);return i!=null&&a(n,["updateTime"],i),n}function Jk(e){const n={},t=u(e,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&a(n,["baseModel"],t);const r=u(e,["createTime"]);r!=null&&a(n,["createTime"],r);const i=u(e,["updateTime"]);return i!=null&&a(n,["updateTime"],i),n}function $k(e,n){const t={},r=u(e,["displayName"]);n!==void 0&&r!=null&&a(n,["displayName"],r);const i=u(e,["description"]);n!==void 0&&i!=null&&a(n,["description"],i);const o=u(e,["defaultCheckpointId"]);return n!==void 0&&o!=null&&a(n,["defaultCheckpointId"],o),t}function bk(e,n){const t={},r=u(e,["displayName"]);n!==void 0&&r!=null&&a(n,["displayName"],r);const i=u(e,["description"]);n!==void 0&&i!=null&&a(n,["description"],i);const o=u(e,["defaultCheckpointId"]);return n!==void 0&&o!=null&&a(n,["defaultCheckpointId"],o),t}function Wk(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","name"],X(e,r));const i=u(n,["config"]);return i!=null&&$k(i,t),t}function Yk(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","model"],X(e,r));const i=u(n,["config"]);return i!=null&&bk(i,t),t}function Kk(e,n){const t={},r=u(e,["outputGcsUri"]);n!==void 0&&r!=null&&a(n,["parameters","storageUri"],r);const i=u(e,["safetyFilterLevel"]);n!==void 0&&i!=null&&a(n,["parameters","safetySetting"],i);const o=u(e,["personGeneration"]);n!==void 0&&o!=null&&a(n,["parameters","personGeneration"],o);const l=u(e,["includeRaiReason"]);n!==void 0&&l!=null&&a(n,["parameters","includeRaiReason"],l);const s=u(e,["outputMimeType"]);n!==void 0&&s!=null&&a(n,["parameters","outputOptions","mimeType"],s);const c=u(e,["outputCompressionQuality"]);n!==void 0&&c!=null&&a(n,["parameters","outputOptions","compressionQuality"],c);const f=u(e,["enhanceInputImage"]);n!==void 0&&f!=null&&a(n,["parameters","upscaleConfig","enhanceInputImage"],f);const d=u(e,["imagePreservationFactor"]);n!==void 0&&d!=null&&a(n,["parameters","upscaleConfig","imagePreservationFactor"],d);const p=u(e,["labels"]);n!==void 0&&p!=null&&a(n,["labels"],p);const h=u(e,["numberOfImages"]);n!==void 0&&h!=null&&a(n,["parameters","sampleCount"],h);const m=u(e,["mode"]);return n!==void 0&&m!=null&&a(n,["parameters","mode"],m),t}function Qk(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["_url","model"],X(e,r));const i=u(n,["image"]);i!=null&&a(t,["instances[0]","image"],Tn(i));const o=u(n,["upscaleFactor"]);o!=null&&a(t,["parameters","upscaleConfig","upscaleFactor"],o);const l=u(n,["config"]);return l!=null&&Kk(l,t),t}function Xk(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>cl(o))),a(n,["generatedImages"],i)}return n}function Zk(e){const n={},t=u(e,["uri"]);t!=null&&a(n,["uri"],t);const r=u(e,["encodedVideo"]);r!=null&&a(n,["videoBytes"],yt(r));const i=u(e,["encoding"]);return i!=null&&a(n,["mimeType"],i),n}function jk(e){const n={},t=u(e,["gcsUri"]);t!=null&&a(n,["uri"],t);const r=u(e,["bytesBase64Encoded"]);r!=null&&a(n,["videoBytes"],yt(r));const i=u(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function eA(e){const n={},t=u(e,["image"]);t!=null&&a(n,["_self"],Tn(t));const r=u(e,["maskMode"]);return r!=null&&a(n,["maskMode"],r),n}function nA(e){const n={},t=u(e,["image"]);t!=null&&a(n,["image"],fl(t));const r=u(e,["referenceType"]);return r!=null&&a(n,["referenceType"],r),n}function tA(e){const n={},t=u(e,["image"]);t!=null&&a(n,["image"],Tn(t));const r=u(e,["referenceType"]);return r!=null&&a(n,["referenceType"],r),n}function Tg(e){const n={},t=u(e,["uri"]);t!=null&&a(n,["uri"],t);const r=u(e,["videoBytes"]);r!=null&&a(n,["encodedVideo"],yt(r));const i=u(e,["mimeType"]);return i!=null&&a(n,["encoding"],i),n}function _g(e){const n={},t=u(e,["uri"]);t!=null&&a(n,["gcsUri"],t);const r=u(e,["videoBytes"]);r!=null&&a(n,["bytesBase64Encoded"],yt(r));const i=u(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rA="Content-Type",iA="X-Server-Timeout",oA="User-Agent",lu="x-goog-api-client",lA="1.30.0",sA=`google-genai-sdk/${lA}`,uA="v1beta1",aA="v1beta",Kd=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class cA{constructor(n){var t,r;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:uA,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:aA,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&r.push(n.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),t=new URL(n);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,t,r){const i=[this.getRequestUrlInternal(t)];return r&&i.push(this.getBaseResourcePath()),n!==""&&i.push(n),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let t=this.clientOptions.httpOptions;n.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const r=this.shouldPrependVertexProjectPath(n),i=this.constructUrl(n.path,t,r);if(n.queryParams)for(const[l,s]of Object.entries(n.queryParams))i.searchParams.append(l,String(s));let o={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=n.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,i.toString(),n.abortSignal),this.unaryApiCall(i,o,n.httpMethod)}patchHttpOptions(n,t){const r=JSON.parse(JSON.stringify(n));for(const[i,o]of Object.entries(t))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(n){let t=this.clientOptions.httpOptions;n.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const r=this.shouldPrependVertexProjectPath(n),i=this.constructUrl(n.path,t,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=n.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,i.toString(),n.abortSignal),this.streamApiCall(i,o,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,t,r,i){if(t&&t.timeout||i){const o=new AbortController,l=o.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const s=setTimeout(()=>o.abort(),t.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),n.signal=l}return t&&t.extraBody!==null&&fA(n,t.extraBody),n.headers=await this.getHeadersInternal(t,r),n}async unaryApiCall(n,t,r){return this.apiCall(n.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await Qd(i),new nu(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(n,t,r){return this.apiCall(n.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await Qd(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(n){var t;return ar(this,arguments,function*(){const i=(t=n==null?void 0:n.body)===null||t===void 0?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:s,value:c}=yield ce(i.read());if(s){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c,{stream:!0});try{const p=JSON.parse(f);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),m=h.status,E=h.code,C=`got status: ${m}. ${JSON.stringify(p)}`;if(E>=400&&E<600)throw new ul({message:C,status:E})}}catch(p){if(p.name==="ApiError")throw p}l+=f;let d=l.match(Kd);for(;d;){const p=d[1];try{const h=new Response(p,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield ce(new nu(h)),l=l.slice(d[0].length),d=l.match(Kd)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(n,t){return fetch(n,t).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const n={},t=sA+" "+this.clientOptions.userAgentExtra;return n[oA]=t,n[lu]=t,n[rA]="application/json",n}async getHeadersInternal(n,t){const r=new Headers;if(n&&n.headers){for(const[i,o]of Object.entries(n.headers))r.append(i,o);n.timeout&&n.timeout>0&&r.append(iA,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,t),r}getFileName(n){var t;let r="";return typeof n=="string"&&(r=n.replace(/[/\\]+$/,""),r=(t=r.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),r}async uploadFile(n,t){var r;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(n);i.sizeBytes=String(l.size);const s=(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:l.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const c={file:i},f=this.getFileName(n),d=B("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,f,c,t==null?void 0:t.httpOptions);return o.upload(n,p,this)}async uploadFileToFileSearchStore(n,t,r){var i;const o=this.clientOptions.uploader,l=await o.stat(t),s=String(l.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${n}:uploadToFileSearchStore`,d=this.getFileName(t),p={};r!=null&&r.customMetadata&&(p.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(p.chunkingConfig=r.chunkingConfig);const h=await this.fetchUploadUrl(f,s,c,d,p,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(t,h,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,t,r,i,o,l){var s;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:n,body:JSON.stringify(o),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(s=f==null?void 0:f.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function Qd(e){var n;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const t=e.status;let r;!((n=e.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw t>=400&&t<600?new ul({message:i,status:t}):new Error(i)}}function fA(e,n){if(!n||Object.keys(n).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))t=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const s=Object.assign({},o);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const f=l[c],d=s[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?s[c]=r(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),s[c]=f)}return s}const i=r(t,n);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dA="mcp_used/unknown";let pA=!1;function xg(e){for(const n of e)if(hA(n)||typeof n=="object"&&"inputSchema"in n)return!0;return pA}function wg(e){var n;const t=(n=e[lu])!==null&&n!==void 0?n:"";e[lu]=(t+` ${dA}`).trimStart()}function hA(e){return e!==null&&typeof e=="object"&&e instanceof wa}function mA(e,n=100){return ar(this,arguments,function*(){let r,i=0;for(;i<n;){const o=yield ce(e.listTools({cursor:r}));for(const l of o.tools)yield yield ce(l),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class wa{constructor(n=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=t}static create(n,t){return new wa(n,t)}async initialize(){var n,t,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const d of this.mcpClients)try{for(var s=!0,c=(t=void 0,ni(mA(d))),f;f=await c.next(),n=f.done,!n;s=!0){i=f.value,s=!1;const p=i;l.push(p);const h=p.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(p){t={error:p}}finally{try{!s&&!n&&(r=c.return)&&await r.call(c)}finally{if(t)throw t.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),sx(this.mcpTools,this.config)}async callTool(n){await this.initialize();const t=[];for(const r of n)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);t.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function gA(e,n,t){const r=new j_;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),Object.assign(r,i),n(r)}class yA{constructor(n,t,r){this.apiClient=n,this.auth=t,this.webSocketFactory=r}async connect(n){var t,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=SA(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let f=()=>{};const d=new Promise(v=>{f=v}),p=n.callbacks,h=function(){f({})},m=this.apiClient,E={onopen:h,onmessage:v=>{gA(m,p.onmessage,v)},onerror:(t=p==null?void 0:p.onerror)!==null&&t!==void 0?t:function(v){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(v){}},C=this.webSocketFactory.create(c,EA(l),E);C.connect(),await d;const y={setup:{model:X(this.apiClient,n.model)}};return C.send(JSON.stringify(y)),new vA(C,this.apiClient)}}class vA{constructor(n,t){this.conn=n,this.apiClient=t}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=iI(n);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const t=rI(n);this.conn.send(JSON.stringify(t))}sendPlaybackControl(n){const t={playbackControl:n};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(jt.PLAY)}pause(){this.sendPlaybackControl(jt.PAUSE)}stop(){this.sendPlaybackControl(jt.STOP)}resetContext(){this.sendPlaybackControl(jt.RESET_CONTEXT)}close(){this.conn.close()}}function EA(e){const n={};return e.forEach((t,r)=>{n[r]=t}),n}function SA(e){const n=new Headers;for(const[t,r]of Object.entries(e))n.append(t,r);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function TA(e,n,t){const r=new Z_;let i;t.data instanceof Blob?i=await t.data.text():t.data instanceof ArrayBuffer?i=new TextDecoder().decode(t.data):i=t.data;const o=JSON.parse(i);if(e.isVertexAI()){const l=sI(o);Object.assign(r,l)}else Object.assign(r,o);n(r)}class _A{constructor(n,t,r){this.apiClient=n,this.auth=t,this.webSocketFactory=r,this.music=new yA(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var t,r,i,o,l,s;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const p=this.apiClient.getHeaders();n.config&&n.config.tools&&xg(n.config.tools)&&wg(p);const h=kA(p);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d);else{const N=this.apiClient.getApiKey();let D="BidiGenerateContent",F="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),D="BidiGenerateContentConstrained",F="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${D}?${F}=${N}`}let m=()=>{};const E=new Promise(N=>{m=N}),C=n.callbacks,I=function(){var N;(N=C==null?void 0:C.onopen)===null||N===void 0||N.call(C),m({})},g=this.apiClient,y={onopen:I,onmessage:N=>{TA(g,C.onmessage,N)},onerror:(t=C==null?void 0:C.onerror)!==null&&t!==void 0?t:function(N){},onclose:(r=C==null?void 0:C.onclose)!==null&&r!==void 0?r:function(N){}},v=this.webSocketFactory.create(d,IA(h),y);v.connect(),await E;let w=X(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&w.startsWith("publishers/")){const N=this.apiClient.getProject(),D=this.apiClient.getLocation();w=`projects/${N}/locations/${D}/`+w}let k={};this.apiClient.isVertexAI()&&((i=n.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[zo.AUDIO]}:n.config.responseModalities=[zo.AUDIO]),!((o=n.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const _=(s=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&s!==void 0?s:[],A=[];for(const N of _)if(this.isCallableTool(N)){const D=N;A.push(await D.tool())}else A.push(N);A.length>0&&(n.config.tools=A);const M={model:w,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?k=tI(this.apiClient,M):k=nI(this.apiClient,M),delete k.config,v.send(JSON.stringify(k)),new wA(v,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const xA={turnComplete:!0};class wA{constructor(n,t){this.conn=n,this.apiClient=t}tLiveClientContent(n,t){if(t.turns!==null&&t.turns!==void 0){let r=[];try{r=cn(t.turns),n.isVertexAI()||(r=r.map(i=>al(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(n,t){let r=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?r=t.functionResponses:r=[t.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!n.isVertexAI()&&!("id"in o))throw new Error(CA)}return{toolResponse:{functionResponses:r}}}sendClientContent(n){n=Object.assign(Object.assign({},xA),n);const t=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(t))}sendRealtimeInput(n){let t={};this.apiClient.isVertexAI()?t={realtimeInput:lI(n)}:t={realtimeInput:oI(n)},this.conn.send(JSON.stringify(t))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function IA(e){const n={};return e.forEach((t,r)=>{n[r]=t}),n}function kA(e){const n=new Headers;for(const[t,r]of Object.entries(e))n.append(t,r);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xd=10;function Zd(e){var n,t,r;if(!((n=e==null?void 0:e.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let i=!1;for(const l of(t=e==null?void 0:e.tools)!==null&&t!==void 0?t:[])if(cr(l)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function cr(e){return"callTool"in e&&typeof e.callTool=="function"}function AA(e){var n,t,r;return(r=(t=(n=e.config)===null||n===void 0?void 0:n.tools)===null||t===void 0?void 0:t.some(i=>cr(i)))!==null&&r!==void 0?r:!1}function jd(e){var n;const t=[];return!((n=e==null?void 0:e.config)===null||n===void 0)&&n.tools&&e.config.tools.forEach((r,i)=>{if(cr(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&t.push(i)}),t}function ep(e){var n;return!(!((n=e==null?void 0:e.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PA extends $n{constructor(n){super(),this.apiClient=n,this.generateContent=async t=>{var r,i,o,l,s;const c=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!AA(t)||Zd(t.config))return await this.generateContentInternal(c);const f=jd(t);if(f.length>0){const C=f.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let d,p;const h=cn(c.contents),m=(o=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Xd;let E=0;for(;E<m&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const C=d.candidates[0].content,I=[];for(const g of(s=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&s!==void 0?s:[])if(cr(g)){const v=await g.callTool(d.functionCalls);I.push(...v)}E++,p={role:"user",parts:I},c.contents=cn(c.contents),c.contents.push(C),c.contents.push(p),ep(c.config)&&(h.push(C),h.push(p))}return ep(c.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async t=>{var r,i,o,l,s;if(this.maybeMoveToResponseJsonSchem(t),Zd(t.config)){const p=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(p)}const c=jd(t);if(c.length>0){const p=c.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(o=(i=(r=t==null?void 0:t.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,d=(s=(l=t==null?void 0:t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(f&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:l.push(c);let s;return o?s={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async t=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Ft(On.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(l),l)},this.editImage=async t=>{const r={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(r.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async t=>{let r={numberOfImages:1,mode:"upscale"};t.config&&(r=Object.assign(Object.assign({},r),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async t=>{var r,i,o,l,s,c;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=t.video)===null||r===void 0)&&r.uri&&(!((i=t.video)===null||i===void 0)&&i.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((l=(o=t.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((c=(s=t.source)===null||s===void 0?void 0:s.video)===null||c===void 0)&&c.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var t,r,i;const o=(t=n.config)===null||t===void 0?void 0:t.tools;if(!o)return n;const l=await Promise.all(o.map(async c=>cr(c)?await c.tool():c)),s={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:l})};if(s.config.tools=l,n.config&&n.config.tools&&xg(n.config.tools)){const c=(i=(r=n.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),wg(f),s.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:f})}return s}async initAfcToolsMap(n){var t,r,i;const o=new Map;for(const l of(r=(t=n.config)===null||t===void 0?void 0:t.tools)!==null&&r!==void 0?r:[])if(cr(l)){const s=l,c=await s.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,s)}}return o}async processAfcStream(n){var t,r,i;const o=(i=(r=(t=n.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Xd;let l=!1,s=0;const c=await this.initAfcToolsMap(n);return function(f,d,p){var h,m;return ar(this,arguments,function*(){for(var E,C,I,g;s<o;){l&&(s++,l=!1);const k=yield ce(f.processParamsMaybeAddMcpUsage(p)),_=yield ce(f.generateContentStreamInternal(k)),A=[],M=[];try{for(var y=!0,v=(C=void 0,ni(_)),w;w=yield ce(v.next()),E=w.done,!E;y=!0){g=w.value,y=!1;const N=g;if(yield yield ce(N),N.candidates&&(!((h=N.candidates[0])===null||h===void 0)&&h.content)){M.push(N.candidates[0].content);for(const D of(m=N.candidates[0].content.parts)!==null&&m!==void 0?m:[])if(s<o&&D.functionCall){if(!D.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(D.functionCall.name)){const F=yield ce(d.get(D.functionCall.name).callTool([D.functionCall]));A.push(...F)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${D.functionCall.name}`)}}}}catch(N){C={error:N}}finally{try{!y&&!E&&(I=v.return)&&(yield ce(I.call(v)))}finally{if(C)throw C.error}}if(A.length>0){l=!0;const N=new zr;N.candidates=[{content:{role:"user",parts:A}}],yield yield ce(N);const D=[];D.push(...M),D.push({role:"user",parts:A});const F=cn(p.contents).concat(D);p.contents=F}else break}})}(this,c,n)}async generateContentInternal(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=bd(this.apiClient,n);return s=B("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=Yd(d),h=new zr;return Object.assign(h,p),h})}else{const f=$d(this.apiClient,n);return s=B("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=Wd(d),h=new zr;return Object.assign(h,p),h})}}async generateContentStreamInternal(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=bd(this.apiClient,n);return s=B("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(p){return ar(this,arguments,function*(){var h,m,E,C;try{for(var I=!0,g=ni(p),y;y=yield ce(g.next()),h=y.done,!h;I=!0){C=y.value,I=!1;const v=C,w=Yd(yield ce(v.json()));w.sdkHttpResponse={headers:v.headers};const k=new zr;Object.assign(k,w),yield yield ce(k)}}catch(v){m={error:v}}finally{try{!I&&!h&&(E=g.return)&&(yield ce(E.call(g)))}finally{if(m)throw m.error}}})})}else{const f=$d(this.apiClient,n);return s=B("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(p){return ar(this,arguments,function*(){var h,m,E,C;try{for(var I=!0,g=ni(p),y;y=yield ce(g.next()),h=y.done,!h;I=!0){C=y.value,I=!1;const v=C,w=Wd(yield ce(v.json()));w.sdkHttpResponse={headers:v.headers};const k=new zr;Object.assign(k,w),yield yield ce(k)}}catch(v){m={error:v}}finally{try{!I&&!h&&(E=g.return)&&(yield ce(E.call(g)))}finally{if(m)throw m.error}}})})}}async embedContent(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=VI(this.apiClient,n);return s=B("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=BI(d),h=new Pd;return Object.assign(h,p),h})}else{const f=UI(this.apiClient,n);return s=B("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=zI(d),h=new Pd;return Object.assign(h,p),h})}}async generateImagesInternal(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=QI(this.apiClient,n);return s=B("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=ZI(d),h=new Nd;return Object.assign(h,p),h})}else{const f=KI(this.apiClient,n);return s=B("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=XI(d),h=new Nd;return Object.assign(h,p),h})}}async editImageInternal(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=MI(this.apiClient,n);return o=B("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const f=DI(c),d=new G_;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=Qk(this.apiClient,n);return o=B("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const f=Xk(c),d=new q_;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=Rk(this.apiClient,n);return o=B("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Mk(c),d=new O_;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=zk(this.apiClient,n);return o=B("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Bk(c),d=new J_;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=mk(this.apiClient,n);return s=B("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>ou(d))}else{const f=hk(this.apiClient,n);return s=B("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>iu(d))}}async listInternal(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=xk(this.apiClient,n);return s=B("{models_url}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=Ik(d),h=new Rd;return Object.assign(h,p),h})}else{const f=_k(this.apiClient,n);return s=B("{models_url}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=wk(d),h=new Rd;return Object.assign(h,p),h})}}async update(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=Yk(this.apiClient,n);return s=B("{model}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>ou(d))}else{const f=Wk(this.apiClient,n);return s=B("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>iu(d))}}async delete(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=AI(this.apiClient,n);return s=B("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=NI(d),h=new Md;return Object.assign(h,p),h})}else{const f=kI(this.apiClient,n);return s=B("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=PI(d),h=new Md;return Object.assign(h,p),h})}}async countTokens(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=xI(this.apiClient,n);return s=B("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=II(d),h=new Dd;return Object.assign(h,p),h})}else{const f=_I(this.apiClient,n);return s=B("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=wI(d),h=new Dd;return Object.assign(h,p),h})}}async computeTokens(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=gI(this.apiClient,n);return o=B("{model}:computeTokens",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const f=yI(c),d=new $_;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=ik(this.apiClient,n);return s=B("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>{const p=tk(d),h=new Bo;return Object.assign(h,p),h})}else{const f=rk(this.apiClient,n);return s=B("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>{const p=nk(d),h=new Bo;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NA extends $n{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const t=n.operation,r=n.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:o}});return t._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(n){const t=n.operation,r=n.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:o}});return t._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=F_(n);return s=B("{operationName}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l}else{const f=L_(n);return s=B("{operationName}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l}}async fetchPredictVideosOperationInternal(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=k_(n);return o=B("{resourceName}:fetchPredictOperation",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RA(e){const n={},t=u(e,["data"]);if(t!=null&&a(n,["data"],t),u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function MA(e){const n={},t=u(e,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>GA(o))),a(n,["parts"],i)}const r=u(e,["role"]);return r!=null&&a(n,["role"],r),n}function DA(e,n,t){const r={},i=u(n,["expireTime"]);t!==void 0&&i!=null&&a(t,["expireTime"],i);const o=u(n,["newSessionExpireTime"]);t!==void 0&&o!=null&&a(t,["newSessionExpireTime"],o);const l=u(n,["uses"]);t!==void 0&&l!=null&&a(t,["uses"],l);const s=u(n,["liveConnectConstraints"]);t!==void 0&&s!=null&&a(t,["bidiGenerateContentSetup"],HA(e,s));const c=u(n,["lockAdditionalFields"]);return t!==void 0&&c!=null&&a(t,["fieldMask"],c),r}function LA(e,n){const t={},r=u(n,["config"]);return r!=null&&a(t,["config"],DA(e,r,t)),t}function FA(e){const n={};if(u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=u(e,["fileUri"]);t!=null&&a(n,["fileUri"],t);const r=u(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function UA(e){const n={},t=u(e,["id"]);t!=null&&a(n,["id"],t);const r=u(e,["args"]);r!=null&&a(n,["args"],r);const i=u(e,["name"]);if(i!=null&&a(n,["name"],i),u(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function VA(e){const n={};if(u(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=u(e,["enableWidget"]);return t!=null&&a(n,["enableWidget"],t),n}function zA(e){const n={};if(u(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=u(e,["timeRangeFilter"]);return t!=null&&a(n,["timeRangeFilter"],t),n}function BA(e,n){const t={},r=u(e,["generationConfig"]);n!==void 0&&r!=null&&a(n,["setup","generationConfig"],r);const i=u(e,["responseModalities"]);n!==void 0&&i!=null&&a(n,["setup","generationConfig","responseModalities"],i);const o=u(e,["temperature"]);n!==void 0&&o!=null&&a(n,["setup","generationConfig","temperature"],o);const l=u(e,["topP"]);n!==void 0&&l!=null&&a(n,["setup","generationConfig","topP"],l);const s=u(e,["topK"]);n!==void 0&&s!=null&&a(n,["setup","generationConfig","topK"],s);const c=u(e,["maxOutputTokens"]);n!==void 0&&c!=null&&a(n,["setup","generationConfig","maxOutputTokens"],c);const f=u(e,["mediaResolution"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","mediaResolution"],f);const d=u(e,["seed"]);n!==void 0&&d!=null&&a(n,["setup","generationConfig","seed"],d);const p=u(e,["speechConfig"]);n!==void 0&&p!=null&&a(n,["setup","generationConfig","speechConfig"],xa(p));const h=u(e,["thinkingConfig"]);n!==void 0&&h!=null&&a(n,["setup","generationConfig","thinkingConfig"],h);const m=u(e,["enableAffectiveDialog"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],m);const E=u(e,["systemInstruction"]);n!==void 0&&E!=null&&a(n,["setup","systemInstruction"],MA(De(E)));const C=u(e,["tools"]);if(n!==void 0&&C!=null){let _=xr(C);Array.isArray(_)&&(_=_.map(A=>OA(_r(A)))),a(n,["setup","tools"],_)}const I=u(e,["sessionResumption"]);n!==void 0&&I!=null&&a(n,["setup","sessionResumption"],qA(I));const g=u(e,["inputAudioTranscription"]);n!==void 0&&g!=null&&a(n,["setup","inputAudioTranscription"],g);const y=u(e,["outputAudioTranscription"]);n!==void 0&&y!=null&&a(n,["setup","outputAudioTranscription"],y);const v=u(e,["realtimeInputConfig"]);n!==void 0&&v!=null&&a(n,["setup","realtimeInputConfig"],v);const w=u(e,["contextWindowCompression"]);n!==void 0&&w!=null&&a(n,["setup","contextWindowCompression"],w);const k=u(e,["proactivity"]);return n!==void 0&&k!=null&&a(n,["setup","proactivity"],k),t}function HA(e,n){const t={},r=u(n,["model"]);r!=null&&a(t,["setup","model"],X(e,r));const i=u(n,["config"]);return i!=null&&a(t,["config"],BA(i,t)),t}function GA(e){const n={},t=u(e,["mediaResolution"]);t!=null&&a(n,["mediaResolution"],t);const r=u(e,["codeExecutionResult"]);r!=null&&a(n,["codeExecutionResult"],r);const i=u(e,["executableCode"]);i!=null&&a(n,["executableCode"],i);const o=u(e,["fileData"]);o!=null&&a(n,["fileData"],FA(o));const l=u(e,["functionCall"]);l!=null&&a(n,["functionCall"],UA(l));const s=u(e,["functionResponse"]);s!=null&&a(n,["functionResponse"],s);const c=u(e,["inlineData"]);c!=null&&a(n,["inlineData"],RA(c));const f=u(e,["text"]);f!=null&&a(n,["text"],f);const d=u(e,["thought"]);d!=null&&a(n,["thought"],d);const p=u(e,["thoughtSignature"]);p!=null&&a(n,["thoughtSignature"],p);const h=u(e,["videoMetadata"]);return h!=null&&a(n,["videoMetadata"],h),n}function qA(e){const n={},t=u(e,["handle"]);if(t!=null&&a(n,["handle"],t),u(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function OA(e){const n={},t=u(e,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(p=>p)),a(n,["functionDeclarations"],d)}if(u(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(e,["googleSearchRetrieval"]);r!=null&&a(n,["googleSearchRetrieval"],r);const i=u(e,["computerUse"]);i!=null&&a(n,["computerUse"],i);const o=u(e,["fileSearch"]);o!=null&&a(n,["fileSearch"],o);const l=u(e,["codeExecution"]);if(l!=null&&a(n,["codeExecution"],l),u(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=u(e,["googleMaps"]);s!=null&&a(n,["googleMaps"],VA(s));const c=u(e,["googleSearch"]);c!=null&&a(n,["googleSearch"],zA(c));const f=u(e,["urlContext"]);return f!=null&&a(n,["urlContext"],f),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JA(e){const n=[];for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${t}.${o}`);n.push(...i)}else n.push(t)}return n.join(",")}function $A(e,n){let t=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,t=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(t){const o=JA(t);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(f=>l.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),s.length>0&&c.push(...s),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class bA extends $n{constructor(n){super(),this.apiClient=n}async create(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=LA(this.apiClient,n);o=B("auth_tokens",s._url),l=s._query,delete s.config,delete s._url,delete s._query;const c=$A(s,n.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WA(e,n){const t={},r=u(e,["displayName"]);return n!==void 0&&r!=null&&a(n,["displayName"],r),t}function YA(e){const n={},t=u(e,["config"]);return t!=null&&WA(t,n),n}function KA(e,n){const t={},r=u(e,["force"]);return n!==void 0&&r!=null&&a(n,["_query","force"],r),t}function QA(e){const n={},t=u(e,["name"]);t!=null&&a(n,["_url","name"],t);const r=u(e,["config"]);return r!=null&&KA(r,n),n}function XA(e){const n={},t=u(e,["name"]);return t!=null&&a(n,["_url","name"],t),n}function ZA(e,n){const t={},r=u(e,["customMetadata"]);if(n!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),a(n,["customMetadata"],o)}const i=u(e,["chunkingConfig"]);return n!==void 0&&i!=null&&a(n,["chunkingConfig"],i),t}function jA(e){const n={},t=u(e,["name"]);t!=null&&a(n,["name"],t);const r=u(e,["metadata"]);r!=null&&a(n,["metadata"],r);const i=u(e,["done"]);i!=null&&a(n,["done"],i);const o=u(e,["error"]);o!=null&&a(n,["error"],o);const l=u(e,["response"]);return l!=null&&a(n,["response"],n1(l)),n}function e1(e){const n={},t=u(e,["fileSearchStoreName"]);t!=null&&a(n,["_url","file_search_store_name"],t);const r=u(e,["fileName"]);r!=null&&a(n,["fileName"],r);const i=u(e,["config"]);return i!=null&&ZA(i,n),n}function n1(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["parent"]);r!=null&&a(n,["parent"],r);const i=u(e,["documentName"]);return i!=null&&a(n,["documentName"],i),n}function t1(e,n){const t={},r=u(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=u(e,["pageToken"]);return n!==void 0&&i!=null&&a(n,["_query","pageToken"],i),t}function r1(e){const n={},t=u(e,["config"]);return t!=null&&t1(t,n),n}function i1(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=u(e,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),a(n,["fileSearchStores"],o)}return n}function o1(e,n){const t={},r=u(e,["mimeType"]);n!==void 0&&r!=null&&a(n,["mimeType"],r);const i=u(e,["displayName"]);n!==void 0&&i!=null&&a(n,["displayName"],i);const o=u(e,["customMetadata"]);if(n!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>c)),a(n,["customMetadata"],s)}const l=u(e,["chunkingConfig"]);return n!==void 0&&l!=null&&a(n,["chunkingConfig"],l),t}function l1(e){const n={},t=u(e,["fileSearchStoreName"]);t!=null&&a(n,["_url","file_search_store_name"],t);const r=u(e,["config"]);return r!=null&&o1(r,n),n}function s1(e){const n={},t=u(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u1(e,n){const t={},r=u(e,["force"]);return n!==void 0&&r!=null&&a(n,["_query","force"],r),t}function a1(e){const n={},t=u(e,["name"]);t!=null&&a(n,["_url","name"],t);const r=u(e,["config"]);return r!=null&&u1(r,n),n}function c1(e){const n={},t=u(e,["name"]);return t!=null&&a(n,["_url","name"],t),n}function f1(e,n){const t={},r=u(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=u(e,["pageToken"]);return n!==void 0&&i!=null&&a(n,["_query","pageToken"],i),t}function d1(e){const n={},t=u(e,["parent"]);t!=null&&a(n,["_url","parent"],t);const r=u(e,["config"]);return r!=null&&f1(r,n),n}function p1(e){const n={},t=u(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const r=u(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=u(e,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),a(n,["documents"],o)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h1 extends $n{constructor(n){super(),this.apiClient=n,this.list=async t=>new Ft(On.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:t.parent,config:r.config}),await this.listInternal(t),t)}async get(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=c1(n);return o=B("{name}",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(n){var t,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=a1(n);i=B("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=d1(n);return o=B("{parent}/documents",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=p1(c),d=new b_;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m1 extends $n{constructor(n,t=new h1(n)){super(),this.apiClient=n,this.documents=t,this.list=async(r={})=>new Ft(On.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=YA(n);return o=B("fileSearchStores",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=XA(n);return o=B("{name}",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(n){var t,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=QA(n);i=B("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=r1(n);return o=B("fileSearchStores",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=i1(c),d=new W_;return Object.assign(d,f),d})}}async uploadToFileSearchStoreInternal(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=l1(n);return o=B("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=s1(c),d=new Y_;return Object.assign(d,f),d})}}async importFile(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=e1(n);return o=B("{file_search_store_name}:importFile",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=jA(c),d=new Ea;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g1(e,n){const t={},r=u(e,["name"]);return r!=null&&a(t,["_url","name"],r),t}function y1(e,n){const t={},r=u(e,["name"]);return r!=null&&a(t,["_url","name"],r),t}function v1(e,n,t){const r={};if(u(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=u(e,["tunedModelDisplayName"]);if(n!==void 0&&i!=null&&a(n,["displayName"],i),u(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=u(e,["epochCount"]);n!==void 0&&o!=null&&a(n,["tuningTask","hyperparameters","epochCount"],o);const l=u(e,["learningRateMultiplier"]);if(l!=null&&a(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),u(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=u(e,["batchSize"]);n!==void 0&&s!=null&&a(n,["tuningTask","hyperparameters","batchSize"],s);const c=u(e,["learningRate"]);if(n!==void 0&&c!=null&&a(n,["tuningTask","hyperparameters","learningRate"],c),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function E1(e,n,t){const r={};let i=u(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=u(e,["validationDataset"]);n!==void 0&&m!=null&&a(n,["supervisedTuningSpec"],np(m))}else if(i==="PREFERENCE_TUNING"){const m=u(e,["validationDataset"]);n!==void 0&&m!=null&&a(n,["preferenceOptimizationSpec"],np(m))}const o=u(e,["tunedModelDisplayName"]);n!==void 0&&o!=null&&a(n,["tunedModelDisplayName"],o);const l=u(e,["description"]);n!==void 0&&l!=null&&a(n,["description"],l);let s=u(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const m=u(e,["epochCount"]);n!==void 0&&m!=null&&a(n,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(s==="PREFERENCE_TUNING"){const m=u(e,["epochCount"]);n!==void 0&&m!=null&&a(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let c=u(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=u(e,["learningRateMultiplier"]);n!==void 0&&m!=null&&a(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(c==="PREFERENCE_TUNING"){const m=u(e,["learningRateMultiplier"]);n!==void 0&&m!=null&&a(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let f=u(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const m=u(e,["exportLastCheckpointOnly"]);n!==void 0&&m!=null&&a(n,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(f==="PREFERENCE_TUNING"){const m=u(e,["exportLastCheckpointOnly"]);n!==void 0&&m!=null&&a(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let d=u(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=u(e,["adapterSize"]);n!==void 0&&m!=null&&a(n,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(d==="PREFERENCE_TUNING"){const m=u(e,["adapterSize"]);n!==void 0&&m!=null&&a(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(u(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=u(e,["labels"]);n!==void 0&&p!=null&&a(n,["labels"],p);const h=u(e,["beta"]);return n!==void 0&&h!=null&&a(n,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function S1(e,n){const t={},r=u(e,["baseModel"]);r!=null&&a(t,["baseModel"],r);const i=u(e,["preTunedModel"]);i!=null&&a(t,["preTunedModel"],i);const o=u(e,["trainingDataset"]);o!=null&&R1(o);const l=u(e,["config"]);return l!=null&&v1(l,t),t}function C1(e,n){const t={},r=u(e,["baseModel"]);r!=null&&a(t,["baseModel"],r);const i=u(e,["preTunedModel"]);i!=null&&a(t,["preTunedModel"],i);const o=u(e,["trainingDataset"]);o!=null&&M1(o,t,n);const l=u(e,["config"]);return l!=null&&E1(l,t,n),t}function T1(e,n){const t={},r=u(e,["name"]);return r!=null&&a(t,["_url","name"],r),t}function _1(e,n){const t={},r=u(e,["name"]);return r!=null&&a(t,["_url","name"],r),t}function x1(e,n,t){const r={},i=u(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const o=u(e,["pageToken"]);n!==void 0&&o!=null&&a(n,["_query","pageToken"],o);const l=u(e,["filter"]);return n!==void 0&&l!=null&&a(n,["_query","filter"],l),r}function w1(e,n,t){const r={},i=u(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const o=u(e,["pageToken"]);n!==void 0&&o!=null&&a(n,["_query","pageToken"],o);const l=u(e,["filter"]);return n!==void 0&&l!=null&&a(n,["_query","filter"],l),r}function I1(e,n){const t={},r=u(e,["config"]);return r!=null&&x1(r,t),t}function k1(e,n){const t={},r=u(e,["config"]);return r!=null&&w1(r,t),t}function A1(e,n){const t={},r=u(e,["sdkHttpResponse"]);r!=null&&a(t,["sdkHttpResponse"],r);const i=u(e,["nextPageToken"]);i!=null&&a(t,["nextPageToken"],i);const o=u(e,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>Ig(s))),a(t,["tuningJobs"],l)}return t}function P1(e,n){const t={},r=u(e,["sdkHttpResponse"]);r!=null&&a(t,["sdkHttpResponse"],r);const i=u(e,["nextPageToken"]);i!=null&&a(t,["nextPageToken"],i);const o=u(e,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>su(s))),a(t,["tuningJobs"],l)}return t}function N1(e,n){const t={},r=u(e,["name"]);r!=null&&a(t,["model"],r);const i=u(e,["name"]);return i!=null&&a(t,["endpoint"],i),t}function R1(e,n){const t={};if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=u(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),a(t,["examples","examples"],i)}return t}function M1(e,n,t){const r={};let i=u(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=u(e,["gcsUri"]);n!==void 0&&l!=null&&a(n,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=u(e,["gcsUri"]);n!==void 0&&l!=null&&a(n,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=u(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=u(e,["vertexDatasetResource"]);n!==void 0&&l!=null&&a(n,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=u(e,["vertexDatasetResource"]);n!==void 0&&l!=null&&a(n,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(u(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Ig(e,n){const t={},r=u(e,["sdkHttpResponse"]);r!=null&&a(t,["sdkHttpResponse"],r);const i=u(e,["name"]);i!=null&&a(t,["name"],i);const o=u(e,["state"]);o!=null&&a(t,["state"],sg(o));const l=u(e,["createTime"]);l!=null&&a(t,["createTime"],l);const s=u(e,["tuningTask","startTime"]);s!=null&&a(t,["startTime"],s);const c=u(e,["tuningTask","completeTime"]);c!=null&&a(t,["endTime"],c);const f=u(e,["updateTime"]);f!=null&&a(t,["updateTime"],f);const d=u(e,["description"]);d!=null&&a(t,["description"],d);const p=u(e,["baseModel"]);p!=null&&a(t,["baseModel"],p);const h=u(e,["_self"]);return h!=null&&a(t,["tunedModel"],N1(h)),t}function su(e,n){const t={},r=u(e,["sdkHttpResponse"]);r!=null&&a(t,["sdkHttpResponse"],r);const i=u(e,["name"]);i!=null&&a(t,["name"],i);const o=u(e,["state"]);o!=null&&a(t,["state"],sg(o));const l=u(e,["createTime"]);l!=null&&a(t,["createTime"],l);const s=u(e,["startTime"]);s!=null&&a(t,["startTime"],s);const c=u(e,["endTime"]);c!=null&&a(t,["endTime"],c);const f=u(e,["updateTime"]);f!=null&&a(t,["updateTime"],f);const d=u(e,["error"]);d!=null&&a(t,["error"],d);const p=u(e,["description"]);p!=null&&a(t,["description"],p);const h=u(e,["baseModel"]);h!=null&&a(t,["baseModel"],h);const m=u(e,["tunedModel"]);m!=null&&a(t,["tunedModel"],m);const E=u(e,["preTunedModel"]);E!=null&&a(t,["preTunedModel"],E);const C=u(e,["supervisedTuningSpec"]);C!=null&&a(t,["supervisedTuningSpec"],C);const I=u(e,["preferenceOptimizationSpec"]);I!=null&&a(t,["preferenceOptimizationSpec"],I);const g=u(e,["tuningDataStats"]);g!=null&&a(t,["tuningDataStats"],g);const y=u(e,["encryptionSpec"]);y!=null&&a(t,["encryptionSpec"],y);const v=u(e,["partnerModelTuningSpec"]);v!=null&&a(t,["partnerModelTuningSpec"],v);const w=u(e,["customBaseModel"]);w!=null&&a(t,["customBaseModel"],w);const k=u(e,["experiment"]);k!=null&&a(t,["experiment"],k);const _=u(e,["labels"]);_!=null&&a(t,["labels"],_);const A=u(e,["outputUri"]);A!=null&&a(t,["outputUri"],A);const M=u(e,["pipelineJob"]);M!=null&&a(t,["pipelineJob"],M);const N=u(e,["serviceAccount"]);N!=null&&a(t,["serviceAccount"],N);const D=u(e,["tunedModelDisplayName"]);D!=null&&a(t,["tunedModelDisplayName"],D);const F=u(e,["veoTuningSpec"]);return F!=null&&a(t,["veoTuningSpec"],F),t}function D1(e,n){const t={},r=u(e,["sdkHttpResponse"]);r!=null&&a(t,["sdkHttpResponse"],r);const i=u(e,["name"]);i!=null&&a(t,["name"],i);const o=u(e,["metadata"]);o!=null&&a(t,["metadata"],o);const l=u(e,["done"]);l!=null&&a(t,["done"],l);const s=u(e,["error"]);return s!=null&&a(t,["error"],s),t}function np(e,n){const t={},r=u(e,["gcsUri"]);r!=null&&a(t,["validationDatasetUri"],r);const i=u(e,["vertexDatasetResource"]);return i!=null&&a(t,["validationDatasetUri"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L1 extends $n{constructor(n){super(),this.apiClient=n,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Ft(On.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.tune=async t=>{var r;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const i={tunedModelName:t.baseModel};!((r=t.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=t.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},t),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},t);return await this.tuneInternal(i)}else{const i=Object.assign({},t),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:eu.JOB_STATE_QUEUED}}}}async getInternal(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=_1(n);return s=B("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>su(d))}else{const f=T1(n);return s=B("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>Ig(d))}}async listInternal(n){var t,r,i,o;let l,s="",c={};if(this.apiClient.isVertexAI()){const f=k1(n);return s=B("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=P1(d),h=new Ld;return Object.assign(h,p),h})}else{const f=I1(n);return s=B("tunedModels",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=A1(d),h=new Ld;return Object.assign(h,p),h})}}async cancel(n){var t,r,i,o;let l="",s={};if(this.apiClient.isVertexAI()){const c=y1(n);l=B("{name}:cancel",c._url),s=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=g1(n);l=B("{name}:cancel",c._url),s=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=C1(n,n);return o=B("tuningJobs",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>su(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=S1(n);return o=B("tunedModels",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>D1(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F1{async download(n,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const U1=1024*1024*8,V1=3,z1=1e3,B1=2,Go="x-goog-upload-status";async function H1(e,n,t){var r;const i=await kg(e,n,t),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Go])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function G1(e,n,t){var r;const i=await kg(e,n,t),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Go])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=ng(o),s=new Sa;return Object.assign(s,l),s}async function kg(e,n,t){var r,i;let o=0,l=0,s=new nu(new Response),c="upload";for(o=e.size;l<o;){const f=Math.min(U1,o-l),d=e.slice(l,l+f);l+f>=o&&(c+=", finalize");let p=0,h=z1;for(;p<V1&&(s=await t.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[Go]));)p++,await O1(h),h=h*B1;if(l+=f,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Go])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function q1(e){return{size:e.size,type:e.type}}function O1(e){return new Promise(n=>setTimeout(n,e))}class J1{async upload(n,t,r){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await H1(n,t,r)}async uploadToFileSearchStore(n,t,r){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await G1(n,t,r)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await q1(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $1{create(n,t,r){return new b1(n,t,r)}}class b1{constructor(n,t,r){this.url=n,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tp="x-goog-api-key";class W1{constructor(n){this.apiKey=n}async addAuthHeaders(n,t){if(n.get(tp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(tp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y1="gl-node/";class K1{constructor(n){var t;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=n.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=n.apiKey;const r=w_(n.httpOptions,n.vertexai,void 0,void 0);r&&(n.httpOptions?n.httpOptions.baseUrl=r:n.httpOptions={baseUrl:r}),this.apiVersion=n.apiVersion;const i=new W1(this.apiKey);this.apiClient=new cA({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:Y1+"web",uploader:new J1,downloader:new F1}),this.models=new PA(this.apiClient),this.live=new _A(this.apiClient,i,new $1),this.batches=new ew(this.apiClient),this.chats=new Fw(this.models,this.apiClient),this.caches=new Mw(this.apiClient),this.files=new $w(this.apiClient),this.operations=new NA(this.apiClient),this.authTokens=new bA(this.apiClient),this.tunings=new L1(this.apiClient),this.fileSearchStores=new m1(this.apiClient)}}const Q1=new K1({apiKey:"AIzaSyBudkecvmZX9cRyXRaPw16Fct2MbGDBQog"}),X1=async e=>new Promise((n,t)=>{const r=new FileReader;r.onloadend=()=>{const o=r.result.split(",")[1];n({inlineData:{data:o,mimeType:e.type}})},r.onerror=t,r.readAsDataURL(e)}),Z1=async(e,n)=>{var t,r,i,o,l,s,c,f,d,p;try{const h=await Promise.all(e.map(k=>X1(k.file))),m=[{googleSearch:{}}];let E="";e.some(k=>k.description.trim()!=="")&&(E=`

Zustzliche Informationen vom Nutzer zu den Bildern:
`,e.forEach((k,_)=>{k.description.trim()&&(E+=`Bild ${_+1}: ${k.description}
`)}));const C=`
      Sie sind ein KI-Experte fr Kunstgeschichte, Archivierung und Museumskuratierung. 
      Ihre Aufgabe ist es, historische Fotografien, Gemlde oder Artefakte zu analysieren.
      Es knnen ein oder mehrere Bilder desselben Objekts (z.B. verschiedene Ansichten, Details) bermittelt werden.
      
      Strukturieren Sie Ihre Analyse wie folgt in deutscher Sprache:
      
      1. **Zusammenfassung**: Eine prgnante Beschreibung des Objekts basierend auf allen verfgbaren Ansichten.
      2. **Detaillierte Visuelle Analyse**: Beschreiben Sie Kleidung, Objekte, Architektur, Landschaft und Personen im Detail. Nutzen Sie Detailansichten fr genauere Beobachtungen.
      3. **Historischer Kontext & Datierung**: Versuchen Sie, das Entstehungsdatum und den Ort so genau wie mglich einzugrenzen. Begrnden Sie dies anhand visueller Hinweise (z.B. Modestil, Technik).
      4. **Technische Merkmale**: Art der Fotografie (z.B. Daguerreotypie, Albuminabzug) oder Maltechnik, falls erkennbar.
      5. **Erhaltungszustand**: Notieren Sie sichtbare Schden, Vergilbungen oder Restaurierungsbedarf.
      6. **Recherche-Ergebnisse**: Nutzen Sie Ihr Wissen und die Google-Suche, um potenzielle Orte, Ereignisse oder Personen zu identifizieren.

      Verwenden Sie einen professionellen, akademischen, aber verstndlichen Tonfall.
    `,I=(n||"Analysieren Sie diese Bilder ausfhrlich fr unser Museumsarchiv.")+E,g=[...h,{text:I}],y=await Q1.models.generateContent({model:"gemini-2.5-flash",contents:{role:"user",parts:g},config:{systemInstruction:C,tools:m,temperature:.4}}),v=y.text||"Keine Analyse generiert.",w=(o=(i=(r=(t=y.candidates)==null?void 0:t[0])==null?void 0:r.groundingMetadata)==null?void 0:i.groundingChunks)==null?void 0:o.map(k=>{if(k.web)return{web:k.web}}).filter(k=>k!==void 0);return{text:v,groundingChunks:w}}catch(h){throw console.error("Gemini analysis failed:",h),(l=h.message)!=null&&l.includes("403")||h.status===403?new Error("API-Zugriff verweigert (403). Bitte prfen Sie die API-Key Einschrnkungen (Referrer)."):(s=h.message)!=null&&s.includes("Failed to fetch")?new Error("Netzwerkfehler. Bitte prfen Sie Ihre Internetverbindung."):(c=h.message)!=null&&c.includes("400")||h.status===400?new Error("Ungltige Anfrage (400). Bitte stellen Sie sicher, dass die Eingabe korrekt ist."):(f=h.message)!=null&&f.includes("429")||h.status===429?new Error("Ratenlimit berschritten (429). Bitte versuchen Sie es spter erneut."):(d=h.message)!=null&&d.includes("500")||h.status===500?new Error("Interner Serverfehler (500). Der Gemini-Dienst hat ein Problem."):(p=h.message)!=null&&p.includes("503")||h.status===503?new Error("Dienst nicht verfgbar (503). Der Gemini-Dienst ist derzeit nicht erreichbar."):h}};var Ue=(e=>(e.IDLE="IDLE",e.PREVIEW="PREVIEW",e.ANALYZING="ANALYZING",e.RESULTS="RESULTS",e.ERROR="ERROR",e))(Ue||{});const j1=()=>{const[e,n]=_e.useState(Ue.IDLE),[t,r]=_e.useState([]),[i,o]=_e.useState(null),[l,s]=_e.useState(null),[c,f]=_e.useState(!1),d=I=>{const g=I.map(y=>({id:Math.random().toString(36).substr(2,9),file:y,preview:URL.createObjectURL(y),description:""}));r(y=>[...y,...g].slice(0,4)),s(null),n(Ue.PREVIEW)},p=I=>{d(I)},h=I=>{r(g=>g.filter(y=>y.id!==I)),t.length<=1};pp.useEffect(()=>{e===Ue.PREVIEW&&t.length===0&&n(Ue.IDLE)},[t,e]);const m=(I,g)=>{r(y=>y.map(v=>v.id===I?{...v,description:g}:v))},E=async()=>{if(t.length!==0){n(Ue.ANALYZING),s(null);try{const I=await Z1(t);o(I),n(Ue.RESULTS)}catch(I){console.error(I);const g=I instanceof Error?I.message:"Ein unbekannter Fehler ist aufgetreten";s(g),n(Ue.ERROR)}}},C=()=>{t.forEach(I=>URL.revokeObjectURL(I.preview)),r([]),o(null),s(null),n(Ue.IDLE)};return x.jsxs("div",{className:"min-h-screen bg-[#fdfcf8] flex flex-col font-sans",children:[x.jsx(PE,{onHelpClick:()=>f(!0)}),c&&x.jsx(C_,{onClose:()=>f(!1)}),x.jsxs("main",{className:"flex-grow container mx-auto max-w-7xl p-4 print:p-0",children:[e===Ue.IDLE&&x.jsxs("div",{className:"fade-in",children:[x.jsxs("div",{className:"max-w-3xl mx-auto text-center py-12",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-[#2d2a26] mb-4",children:"Entdecken Sie die Geschichte hinter dem Bild"}),x.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"Nutzen Sie modernste KI, um Details, historische Kontexte und Hintergrnde Ihrer Museumsexponate oder privaten Fotos zu entschlsseln."})]}),x.jsx(NE,{onImageSelected:d})]}),e===Ue.PREVIEW&&x.jsx(RE,{images:t,onAddImages:p,onRemoveImage:h,onUpdateDescription:m,onAnalyze:E,onCancel:C}),e===Ue.ANALYZING&&x.jsx(S_,{}),e===Ue.RESULTS&&t.length>0&&i&&x.jsx(E_,{images:t,result:i,onReset:C}),e===Ue.ERROR&&x.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[x.jsx("div",{className:"bg-red-50 p-6 rounded-full mb-4",children:x.jsx(pE,{size:48,className:"text-red-500"})}),x.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Ein Fehler ist aufgetreten"}),x.jsx("p",{className:"text-gray-600 max-w-md mb-8",children:l}),x.jsx("button",{onClick:()=>n(Ue.PREVIEW),className:"px-6 py-3 bg-[#2d2a26] text-white rounded-lg hover:bg-[#403d38] transition-colors",children:"Korrigieren"}),x.jsx("button",{onClick:C,className:"mt-4 px-6 py-2 text-gray-500 hover:text-gray-800 transition-colors",children:"Neu starten"})]})]}),x.jsx("footer",{className:"bg-white border-t border-gray-200 py-6 mt-auto print:hidden",children:x.jsx("div",{className:"container mx-auto text-center text-sm text-gray-400",children:x.jsxs("p",{children:[" ",new Date().getFullYear()," Museum Lens AI v1.1.0. Powered by Gemini."]})})})]})};Kl.createRoot(document.getElementById("root")).render(x.jsx(pp.StrictMode,{children:x.jsx(j1,{})}));
